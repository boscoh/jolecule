{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../dataservers/1mbo-data-server.js","webpack:///./src/App.vue?640a","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?94e7","webpack:////Users/boscoh/Projects/jolecule/src/v3.js","webpack:////Users/boscoh/Projects/jolecule/src/util.js","webpack:////Users/boscoh/Projects/jolecule/src/glgeom.js","webpack:////Users/boscoh/Projects/jolecule/src/soup-view.js","webpack:////Users/boscoh/Projects/jolecule/src/pairs.js","webpack:////Users/boscoh/Projects/jolecule/src/store.js","webpack:////Users/boscoh/Projects/jolecule/src/data.js","webpack:////Users/boscoh/Projects/jolecule/src/soup.js","webpack:////Users/boscoh/Projects/jolecule/src/widgets.js","webpack:////Users/boscoh/Projects/jolecule/src/representation.js","webpack:////Users/boscoh/Projects/jolecule/src/animation.js","webpack:////Users/boscoh/Projects/jolecule/src/webgl-widget.js","webpack:////Users/boscoh/Projects/jolecule/src/soup-widget.js","webpack:////Users/boscoh/Projects/jolecule/src/embed-widget.js","webpack:////Users/boscoh/Projects/jolecule/src/full-page-widget.js","webpack:////Users/boscoh/Projects/jolecule/src/aquaria.js","webpack:////Users/boscoh/Projects/jolecule/src/main.js","webpack:///./src/config.js","webpack:///./src/modules/rpc.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue?c853","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/views/Home.vue?f453"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","define","getProteinData","loadProteinData","pdbId","pdbText","getPdbLines","getViews","loadViewDicts","getViewDicts","saveViews","views","success","deleteView","viewId","sucess","pdbLines","join","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","staticStyle","staticClass","_v","directives","rawName","expression","domProps","on","$event","composing","loadFromPdbId","_s","_l","drawer","file","openDir","dirname","k","openFileReplace","title","SMALL","isNearZero","a","Math","abs","x","y","z","THREE","clone","v","scaled","w","multiplyScalar","normalized","diff","b","sum","parallel","axis","axisLen","scale","dotProduct","perpendicular","crossProduct","crossVectors","distance","p1","p2","angle","aLen","bLen","PI","acos","dihedral","ref","refPerp","vPerp","cross","midPoint","q","random","isEqual","isAligned","Matrix4","matrixProduct","lhs","rhs","multiplyMatrices","rotation","theta","normalize","makeRotationAxis","translation","makeTranslation","degToRad","deg","exists","_","isNil","linkButton","text","classTag","callback","$","html","addClass","preventDefault","stickJqueryDivInCenter","parent","xOffset","yOffset","css","position","top","left","widthParent","outerWidth","heightParent","outerHeight","prepend","widthTarget","heightTarget","inArray","aList","indexOf","randomString","nChar","chars","floor","substring","randomId","textEntryDialog","parentDiv","label","cleanup","dialog","remove","keyboardLock","accept","textarea","val","discard","saveButton","discardButton","keydown","keyCode","editbox","append","min","width","find","focus","delay","timeMs","CatmullRom","p0","p3","v0","v1","t2","t3","catmulRomSpline","p4","v3","PathAndFrenetFrames","points","normals","tangents","binormals","colors","indexColors","segmentTypes","refIndices","subPath","expandPath","oldPath","iOldPoint","jOldPoint","newPath","jStart","jEnd","prevOldPoint","nextOldPoint","sub","add","prevOldNormal","nextOldNormal","Trace","indices","detail","iRef","referenceObjects","iStart","iEnd","iLast","tangent","perpVector","prevNormal","dot","negate","randomDir","detailedPath","face","isRound","isFront","isBack","color","path","iResStart","iResEnd","iPathStart","iPathEnd","segmentPath","geom","BufferRibbonGeometry","traces","shape","isIndexColor","parameters","shapePoints","extractPoints","nShape","nVertex","nFace","countVertexAndFacesOfPath","setAttributes","build","setColors","paths","trace","nPath","nTrace","range","iPath","iTraceStart","iTraceEnd","getWidth","iTracePoint","vertices","lastVertices","shapeNormals","lastShapeNormals","isFlat","iPathPoint","height","iNextTracePoint","point","normal","binormal","cloneDeep","shapePoint","vertex","iLastVertex","faceNormal","threePointNormal","iVertex","pushVerticesNormalsOfFace","getRoundedShapeNormals","diffPrev","diffNext","shapeNormal","iPrev","iNext","subVectors","addVectors","getFlatShapeNormals","iShapePoint","iLastShapePoint","vertexCount","nShapePoint","setColor","attributes","needsUpdate","positions","Float32Array","Int32Array","addAttribute","setIndex","array","index","positionCount","indexCount","iPosition","g","v2","normalI","normalJ","normalK","pushVertex","BufferRaisedShapesGeometry","verticesList","colorList","thickness","setPath","front","back","entries","displacement","topVertices","bottomVertices","pushVerticesOfFace","computeVertexNormals","newColorList","iVertexTotal","iVertexSet","nVertexOfNucleotide","BlockArrowGeometry","steps","bevelEnabled","extrudePath","applyMatrix","makeRotationFromEuler","setVisible","obj","visibility","isUndefined","traverse","visible","clearObject3D","children","child","dontDelete","geometry","dispose","material","vec","vecAlongRef","cb","ab","getUnitVectorRotation","reference","setFromUnitVectors","fraction","f","getFractionRotation","identity","slerp","getSphereMatrix","pos","radius","matrix","copy","set","updateMatrix","makeBufferZCylinderGeometry","radialSegments","cylinderBufferGeometry","getCylinderMatrix","from","to","distanceTo","lookAt","applyMatrix4toVector3array","vec3Array","elems","elements","applyRotationOfMatrix4toVector3array","expandFloatArray","refArray","nCopy","nElem","targetArray","iCopy","applyColorToVector3array","expandIndices","nIndexInCopy","Uint32Array","indexOffset","CopyBufferGeometry","copyBufferGeometry","refBufferGeometry","uvs","uv","nVertexInCopy","count","nElemRef","iElemStart","iElemEnd","View","id","iAtom","order","cameraParams","up","zFront","zBack","zoom","selected","labels","distances","selectedTraces","userId","show","sidechain","peptide","hydrogen","water","ligands","backbone","ribbon","sphere","transparent","grid","isElem","bCutoff","isChanged","lock","creator","view","disp","time","cameraDir","inV","upV","all_atom","version","view_id","user_id","pdb_id","i_atom","selected_traces","camera","slab","z_front","z_back","in","flatDict","resId","keys","cameraDirection","interpolateCameras","oldCamera","futureCamera","oldCameraDirection","oldZoom","futureCameraDirection","futureZoom","cameraDirRotation","glgeom","partialRotatedCameraUp","applyQuaternion","fullCameraUpRotation","multiply","cameraUpRotation","focusDisp","focusToPosition","SoupView","soup","isUpdateSidechain","isUpdateColors","isStartTargetAfterRender","isUpdateObservers","currentView","savedViewsByViewId","savedViews","iLastViewSelected","animateState","targetView","nUpdateStep","maxUpdateStep","msPerStep","isEmpty","setCurrentViewToDefaultAndSave","saveGridToCurrentView","elem","structureIds","getZoomedOutViewOfCurrentView","saveView","saveTargetView","getIAtomAtPosition","iView","newViewId","newView","getIViewFromViewId","atomIndices","maxLength","calcMaxLength","center","getCenter","look","getAtomCount","getZoomedOutViewOf","setTargetView","iRes","residue","getResidueProxy","chain","iStructure","iTrace","load","atom","getAtomProxy","getViewTranslatedTo","getTracesOfChainContainingResidue","getResidueCount","makeSelectedResidueList","iNewView","insertView","setTargetViewByViewId","log","oldViewSelected","sort","clearSidechainResidues","setSidechainOfResidues","setTargetViewByIAtom","xRotationAngle","yRotationAngle","zRotationAngle","zoomRatio","rotZ","setFromAxisAngle","rotY","rotX","newZoom","setCurrentView","getMode","maxTime","highY","lowY","sin","elapsedTime","setCurrentViewToTargetView","maxWaitStep","setTargetToNextView","adjustCamera","nStepRock","scalingFunction","dAng","ang","nStepToGo","setCamera","SoupViewController","soupView","iResLastSelected","iDistance","iAtom1","iAtom2","i_atom1","i_atom2","iLabel","iResFirst","clearSelectedResidues","setTargetToPrevResidue","iResLast","nRes","setTargetToNextResidue","isClear","selectResidue","iResSelect","isPolymer","setTargetToPrevView","dummy","viewDicts","getDict","res","setResidueSelect","lastRes","iFirstRes","iLastRes","max","iCenterRes","ss","isSelect","resList","getResListOfSs","isNoneSelected","every","map","selectSecondaryStructure","nSelectedSidechain","nShowInSelectedSidechain","nShowSidechain","sidechainState","sideChainState","nSelected","concat","getNeighbours","getNeighboursOfPoint","nSidechain","isSidechain","saveCurrentView","removeView","orderSort","setFromDict","sortViewsByOrder","proteinData","asyncSetMessageFn","asyncLoadProteinData","zoomToChainContainingAtom","option","bool","getShowOption","setShowOption","reverse","deleteDistance","deleteAtomLabel","iAtomStart","iAtomEnd","isInInterval","patchInterval","resolveView","partial","nAtomOffset","nAtom","nAtomNew","nAtomCopy","nResOffset","nResNew","nResCopy","atomStore","copyWithin","iResOld","residueNormal","residueStore","resIds","atomOffset","calcBondsStrategic","calculateTracesForRibbons","getAtomsOfChainContainingResidue","getZoomedOutViewOfSelection","iAtomHover","zoomOut","isSameChainSelected","SpaceHash","padding","div","invDiv","maxima","minima","spans","sizes","iDim","ceil","cells","spaces","space","getSpaceFromVertex","hash","getHashFromSpace","round","pairs","spaceCenter","space0start","space0end","space1start","space1end","space2start","space2end","space0","space1","space2","cell","jVertexInCell","jVertex","pushCellOfSpace","getTypedArray","arrayType","arraySize","Int8Array","Int16Array","Uint8Array","Uint16Array","Store","fields","size","_fields","Number","isInteger","_init","field","_initField","il","itemSize","tmpArray","constructor","subarray","resize","growIfFull","other","thisOffset","otherOffset","thisField","otherField","thisIndex","otherIndex","offsetTarget","offsetSource","targetIndex","sourceIndex","compareFunction","thisStore","tmpStore","swap","index1","index2","copyFrom","quicksort","right","pivot","leftNew","rightNew","proteinResTypes","dnaResTypes","rnaResTypes","green","blue","yellow","purple","grey","red","darkGrey","ElementColors","H","C","O","N","S","P","F","CL","BR","I","FE","CA","He","Ne","Ar","Kr","Xe","Rn","toPairs","getSsColor","resToAa","ALA","CYS","ASP","GLU","PHE","GLY","HIS","ILE","LYS","LEU","MET","ASN","PRO","GLN","ARG","SER","THR","VAL","TRP","TYR","DA","DT","DG","DC","A","T","G","RA","RU","RC","RG","U","backboneAtomTypes","coilFace","getNucleotideBaseAtomTypes","resType","atomTypes","getNucleotideConnectorBondAtomTypes","bondTypes","deleteNumbers","replace","pushToListInDict","dict","getValueTableIndex","valueList","isEqualFn","includes","findIndex","thisVal","intToBool","boolToInt","intToChar","String","fromCharCode","charToInt","charCodeAt","parsetTitleFromPdbText","lines","split","line","getIndexColor","setHex","atomStoreFields","AtomProxy","_pos","bondOffset","bondCount","iElem","elemTable","bfactor","iAtomType","atomTypeTable","alt","iResType","resTypeTable","atomType","resColor","activeColor","elemColor","offsetHSL","addColors","residueStoreFields","cmpColors","c1","c2","ResidueProxy","atomCount","getAtomIndices","testAatomType","getIAtom","thisRes","prevRes","proteinAtomTypes","checkAtomTypes","ca0","ca1","nucleicAtomTypes","o3","isProteinConnectedToPrev","isNucleotideConnectedToPrev","c3","c5","forward","iCentralAtom","iChain","chains","resNum","insCode","iColor","colorTable","iCustomColor","hasNormal","sstruc","bondStoreFields","BondProxy","iBond","bondStore","Soup","parsingError","structureId","colorMode","residueProxy","atomProxy","bMax","bMin","changed","convertB","toFixed","iLine","substr","trim","parseInt","parseFloat","addAtom","assignResidueProperties","parsedSecondaryStructure","resNumStart","resNumEnd","findResidueIndices","toUpperCase","parseAtomLines","parseSecondaryStructureLines","pdbData","parsePdbData","getBondCount","findSecondaryStructure","findGridLimits","setSecondaryStructureColorResidues","colorResidues","increment","isNewRes","addResidue","iFirstAtomInRes","getIAtomClosest","iAtomClosest","minD","divideScalar","comp","isNull","smallCutoffSq","mediumCutoffSq","largeCutoffSq","CHONPS","isBonded","atom1","atom2","cutoffSq","diffX","diffY","diffZ","distSq","makeBond","residue1","residue2","iRes1","iRes2","iAtom1Array","bond","getBondProxy","atom0","cutoff","aTypeName","spaceHash","getClosePairs","pair","iRes0","conhPartners","findBackboneHbonds","residueNormals","residue0","isCONH","vecBetweenResidues","resIndices","normal0","normal1","normal2","getNucleotideNormal","betaResidues","iVertex0","iVertex1","normalSum","lastTrace","nextResidue","isConnectedToPrev","newTrace","getReference","calcTangents","calcNormals","calcBinormals","expand","res0","pos0","atomIndices0","res1","pos1","atomIndices1","iAtom0","residueIndices","jRes","areCloseResidues","isResCloseToPoint","customColor","isGridActive","some","values","LineElement","soupWidget","display","canvas","context2d","getContext","divTag","x1","y1","x2","y2","clearRect","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","CanvasWidget","selector","parentDivId","attr","canvasDom","drawContext","mousePressed","downTimer","dom","ev","fn","addEventListener","mousedown","mousemove","mouseup","mouseout","parentDivPos","h","strokeRect","fillStyle","fillRect","font","align","textAlign","textBaseline","fillText","measureText","saveMouseX","pointerX","saveMouseY","pointerY","saveMouseR","mouseR","saveMouseT","mouseT","getPointer","saveMouse","click","doubleclick","util","touches","eventX","clientX","eventY","clientY","rect","getBoundingClientRect","sqrt","atan","PopupText","heightArrow","background","opacity","cursor","arrow","hide","AtomLabelsWidget","controller","popups","popup","removePopup","createPopup","getPosXY","move","inZlab","DistanceMeasuresWidget","distanceMeasures","scene","displayScene","divs","removeDistance","dashSize","gapSize","linewidth","createDistanceMeasure","a0","a1","distanceMeasure","innerHeight","innerWidth","SequenceWidget","addObserver","charWidth","charHeight","offsetY","heightStructureBar","spacingY","yTopSequence","yBottom","yMidSequence","unclickableColor","structBarBgroundColor","seqBarBgroundColor","highlightColor","borderColor","isWaitForDoubleClick","charEntries","iCharSeqStart","iCharSeqEnd","nCharSeq","iCharStructStart","iCharStructEnd","nCharStruct","nPadChar","hover","pressSection","textWidth","polymerLengths","filter","averageLength","mean","calcNPad","startLabel","entry","iChar","getHexString","iCharStart","charEntry","oldChain","chainEntry","getIStructureAndChain","has","findFirstResidue","checkChain","yTopStructure","yStructureName","heightStructure","yMidStructure","heightSequence","colorStyle","iResCurrent","xStructFromIChar","endColor","getColorStyle","isEndOfSegment","yTop","xLeft","xSeqFromIChar","xRight","xMid","isCrossHairs","centerSeqOnIChar","draw","iCharFromXStruct","iCharFromXSeq","iNewChar","iCharDiff","iCharPressed","triggerAtom","toggleSecondaryStructure","metaKey","shiftKey","selectAdditionalRangeToResidue","selectAdditionalResidue","now","Date","getTime","timePressed","ClippingPlaneWidget","maxZLength","zFrontColor","update","box","xBack","zToX","xFront","yMid","widthBackText","widthFrontText","xToZ","getZ","setZoom","GridToggleButtonWidget","toggle","toggleGridElem","getToggle","removeClass","GridControlWidget","backgroundColor","buttonHeight","sliderHeight","isGrid","buttonsDiv","empty","makeElemButton","colorHexStr","toLowerCase","xm","zToY","textColor","yToZ","setGridCutoff","ColorLegendWidget","offset","default","isShow","rebuild","getSSColor","colorEntries","buttonDiv","colorDiv","bottom","SelectionWidget","webglDivId","first","last","isDrawComma","getText","ResidueSelectorWidget","divId","selectId","$select","change","select2","Option","newValue","oldValue","startTime","trigger","GraphicsMenuWidget","isPopAbove","isShowPanel","popOutPanelDiv","widget","ToggleOptionWidget","ligand","ToggleWidget","hasClass","capitalize","ToggleAnimateWidget","state","getAnimateState","setAnimateState","HudTextWidget","isText","asyncSetMesssage","cleanupMessage","openAboutDialog","closeButton","ToggleToolbarWidget","embedJolecule","buttonSelector","toolbarSelector","isToggleOn","isToolbarOnTop","proteinDisplayDiv","isChange","buttonInDisplayOffset","toolbarDiv","buttonInDisplayDiv","margin","buttonInToolbarDiv","messageOffset","colorLegend","pickingMaterial","vertexColors","phongMaterial","transparentMaterial","premultipliedAlpha","transferObjects","fromObj","toObj","Representation","displayObj","displayMaterial","pickingObj","isTransparent","ArrowRepresentation","setTransparent","newTraces","unitGeom","unitBufferGeom","fromGeometry","displayGeom","pickingGeom","applyMatrixToCopy","applyColorToCopy","recolor","RibbonRepresentation","displayMesh","pickingMesh","NucleotideRepresentation","getVecFromAtomType","nucleotideColorList","indexColorList","nucleotideGeom","nucleotideConnectList","nBond","nucleotideConnectorGeom","mesh","CartoonRepresentation","ribbonRepr","arrowRepr","nucRepr","AtomsRepresentation","atomRadius","isElementRadius","sphereBufferGeometry","GridRepresentation","SphereRepresentation","BondRepresentation","bondIndices","midpoint","LigandRepresentation","getBondIndices","atomRepr","bondRepr","WaterRepresentation","SidechainRepresentation","BackboneRepresentation","loop","requestAnimationFrame","globalWidgets","currTime","lastTime","animate","drawFrame","registerGlobalAnimationLoop","WebglWidget","webglDiv","contextmenu","fog","representations","displayMeshes","pickingMeshes","pickingScene","pickingTexture","texture","minFilter","lights","buildLights","messageDiv","setMesssage","mouseX","mouseY","renderer","antialias","setClearColor","setSize","domElement","mousewheel","gesturestart","gesturechange","gestureend","initWebglRenderer","render","widthHalf","heightHalf","vector","project","pixelBuffer","readRenderTargetPixels","viewCameraDirection","far","near","updateProjectionMatrix","directedLight","ambientLight","aspect","meshName","SoupWidget","isMouseWheel","observers","rebuilt","Signal","updated","resized","dataServer","gridAtomRadius","buildCrossHairs","isClickInitiated","widgets","distanceMeasuresWidget","atomLabelsWidget","lineElement","observer","segments","crossHairs","getCameraOfCurrentView","posRelativeToOrigin","makeAtomLabel","getPickColorFromMouse","getICenteredAtom","getIAtomHover","popupText","repr","updateMeshesInScene","unset","addRepresentation","representation","rebuildSceneFromMeshes","dispatch","deleteStructure","buildScene","isNoMoreChanges","startTargetView","isNewTrigger","setMeshVisible","updateCrossHairs","setCameraParams","updateHover","setChangeFlag","atomLabelDialog","iAtomPreClick","isDraggingCentralAtom","iAtomFirstPressed","iResFirstPressed","iAtomPressed","iResPressed","isGesture","savePointer","pointerPressedAndInDiv","rightMouse","button","which","ctrlKey","wheel","pow","iAtomCentre","makeDistance","wheelDelta","lastPinchRotation","lastScale","defaultArgs","viewHeight","isViewTextShown","isSequenceBar","isResidueSelector","isLegend","isEditable","isPlayable","isToolbarOn","isTextOverlay","EmbedJolecule","params","assign","isProcessing","flag","oncontextmenu","noop","createDivs","resizeFn","onorientationchange","loadViewsFromViewDicts","isDefaultViewId","headerDiv","bodyDiv","flex","footerDiv","sequenceBarDiv","sequence","selection","isToolbar","isExtraEditable","toolbar","rotate","hud","residueSelect","clippingPlane","zoomToSelection","clear","toggleSelectedSidechains","toggleResidueNeighbors","graphicsMenu","contents","ViewPanel","makeEditDiv","makeShowDiv","changedText","editTextArea","editDiv","showDiv","saveChange","pick","discardChange","editButton","startEdit","showTextDiv","tagName","location","href","swapUp","swapDown","ViewPanelList","viewPiece","subheaderDiv","nView","iLastView","lastId","insertNewViewDiv","history","pushState","query","protocol","host","pathname","iId","jId","iDiv","jDiv","swapViews","saveViewsToDataServer","insertBefore","SCRIPT_REGEX","test","setTargetByViewId","makeViewDiv","newId","insertAfter","stop","scrollTo","getParameterByName","match","RegExp","exec","search","decodeURIComponent","FullPageWidget","proteinDisplayTag","viewsDisplayTag","onkeydown","asyncAddDataServer","viewPanelList","makeAllViews","gotoPrevView","gotoNextView","toggleShowOption","selectAllSidechains","conservedPairs","conservationSet","code","reverseCode","charAt","initFullPageJolecule","args","apiUrl","run","method","payload","jsonrpc","axios","post","config","response","toString","defaults","withCredentials","RpcClass","Proxy","prop","remote","isDownloading","methods","openFile","loadFromDataServer","makeServerPdbDataServer","filename","joleculeWidget","makeRcsbDataServer","processViews","Vue","use","VueRouter","routes","Home","router","Vuex","mutations","actions","productionTip","store","App","$mount"],"mappings":"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KAAQ,uBAGZ,MAAS,GACT,MAAS,OACT,MAAS,OACT,SAAY,CACV,GACA,GACA,GACA,GACA,IACA,IACA,KAEF,KAAQ,CACN,UAAY,EACZ,UAAY,EACZ,SAAW,EACX,QAAU,EACV,WAAa,EACb,OAAS,EACT,OAAS,GAEX,KAAQ,8DACR,QAAW,EACX,QAAW,eAEb,CACE,OAAU,CACR,GAAM,CACJ,mBACA,mBACA,kBAEF,IAAO,CACL,iBACA,oBACC,qBAEH,KAAQ,CACN,OAAU,iBACV,SAAY,EACZ,KAAQ,oBAEV,GAAM,CACJ,mBACA,kBACA,sBAGJ,QAAW,wBACX,UAAa,GACb,OAAU,IACV,OAAU,CACR,CACE,OAAU,IACV,KAAQ,6CAGZ,MAAS,GACT,MAAS,OACT,MAAS,OACT,SAAY,CACV,GACA,GACA,GACA,GACA,IACA,IACA,KAEF,KAAQ,CACN,UAAY,EACZ,UAAY,EACZ,SAAW,EACX,QAAU,EACV,WAAa,EACb,OAAS,EACT,OAAS,GAEX,KAAQ,wUACR,QAAW,EACX,QAAW,gBAIXK,EAAW,CACb,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,mFACA,IAGF,OAAO7F,GAtmFH,yC,mGCDF,EAAS,WAAa,IAAI+F,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,gBAAgB,IAChJG,EAAkB,GCMtB,KCP8T,I,YCO1TC,EAAY,eACd,EACA,EACAD,GACA,EACA,KACA,KACA,MAIa,EAAAC,E,gCClBX,EAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACK,YAAY,CAAC,QAAU,OAAO,cAAc,UAAU,OAAS,cAAc,iBAAiB,QAAQ,CAACL,EAAG,MAAM,CAACK,YAAY,CAAC,MAAQ,QAAQ,cAAc,+BAA+B,eAAe,iBAAiB,SAAW,WAAW,CAACL,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACV,EAAIW,GAAG,oBAAoBP,EAAG,MAAM,CAACK,YAAY,CAAC,eAAe,SAAS,CAACL,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACjE,KAAK,QAAQkE,QAAQ,UAAUhD,MAAOmC,EAAS,MAAEc,WAAW,UAAUJ,YAAY,qBAAqBD,YAAY,CAAC,MAAQ,QAAQH,MAAM,CAAC,KAAO,QAAQS,SAAS,CAAC,MAASf,EAAS,OAAGgB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOxE,OAAOyE,YAAqBlB,EAAId,MAAM+B,EAAOxE,OAAOoB,WAAUuC,EAAG,MAAM,CAACM,YAAY,wBAAwBD,YAAY,CAAC,QAAU,SAAS,eAAe,MAAM,MAAQ,OAAOO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAImB,mBAAmB,CAACnB,EAAIW,GAAG,aAAaP,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,SAASF,EAAG,OAAO,CAACJ,EAAIW,GAAGX,EAAIoB,GAAGpB,EAAIjE,YAAYqE,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACV,EAAIW,GAAG,mBAAmBX,EAAIqB,GAAIrB,EAAIsB,OAAkB,aAAE,SAASC,EAAKnH,GAAG,OAAOgG,EAAG,MAAM,CAACjC,IAAI/D,EAAI,IAAIsG,YAAY,aAAaM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIwB,QAAQxB,EAAIsB,OAAOG,QAASF,MAAS,CAACnB,EAAG,IAAI,CAACM,YAAY,iBAAiBV,EAAIW,GAAG,IAAIX,EAAIoB,GAAGG,GAAM,UAASvB,EAAIqB,GAAIrB,EAAIsB,OAAY,OAAE,SAASC,EAAKG,GAAG,OAAOtB,EAAG,MAAM,CAACjC,IAAIuD,EAAI,IAAIhB,YAAY,aAAaM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAI2B,gBAAgBJ,MAAS,CAACvB,EAAIW,GAAG,MAAMP,EAAG,OAAO,CAACK,YAAY,CAAC,iBAAiB,cAAc,CAACT,EAAIW,GAAGX,EAAIoB,GAAGG,EAAK5E,SAASqD,EAAIW,GAAG,KAAKX,EAAIoB,GAAGG,EAAKK,OAAO,WAAU,GAAGxB,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,gCAAgCF,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,iCACntD,EAAkB,G,+PCWhBuB,EAAQ,KAEd,SAASC,EAAYC,GACnB,OAAOC,KAAKC,IAAIF,GAAKF,EAGvB,SAAS3D,EAAQgE,EAAGC,EAAGC,GACrB,OAAO,IAAIC,OAAcH,EAAGC,EAAGC,GAGjC,SAASE,EAAOC,GACd,OAAOA,EAAED,QAGX,SAASE,EAAQD,EAAG/H,GAClB,IAAIiI,EAAIvE,EAAOqE,EAAEL,EAAGK,EAAEJ,EAAGI,EAAEH,GAE3B,OADAK,EAAEC,eAAelI,GACViI,EAGT,SAASE,EAAYJ,GACnB,OAAOC,EAAOD,EAAG,EAAMA,EAAEnJ,UAG3B,SAASwJ,EAAMC,EAAGd,GAChB,OAAO7D,EAAO2E,EAAEX,EAAIH,EAAEG,EAAGW,EAAEV,EAAIJ,EAAEI,EAAGU,EAAET,EAAIL,EAAEK,GAG9C,SAASU,EAAKf,EAAGc,GACf,OAAO3E,EAAO2E,EAAEX,EAAIH,EAAEG,EAAGW,EAAEV,EAAIJ,EAAEI,EAAGU,EAAET,EAAIL,EAAEK,GAG9C,SAASW,EAAUR,EAAGS,GACpB,IACI/I,EADAgJ,EAAUD,EAAK5J,SAEnB,GAAI0I,EAAWmB,GACbhJ,EAASiE,EAAOqE,EAAEL,EAAGK,EAAEJ,EAAGI,EAAEH,OACvB,CACL,IAAIc,EAAQC,EAAWZ,EAAGS,GAAQC,EAAUA,EAC5ChJ,EAASuI,EAAOQ,EAAME,GAExB,OAAOjJ,EAGT,SAASmJ,EAAeb,EAAGS,GACzB,OAAOJ,EAAKL,EAAGQ,EAASR,EAAGS,IAG7B,SAASK,EAActB,EAAGc,GACxB,OAAO,IAAIR,QAAgBiB,aAAavB,EAAGc,GAG7C,SAASM,EAAYpB,EAAGc,GACtB,OAAOd,EAAEG,EAAIW,EAAEX,EAAIH,EAAEI,EAAIU,EAAEV,EAAIJ,EAAEK,EAAIS,EAAET,EAGzC,SAASmB,EAAUC,EAAIC,GACrB,OAAOb,EAAKY,EAAIC,GAAIrK,SAGtB,SAASsK,EAAO3B,EAAGc,GACjB,IAAIc,EAAO5B,EAAE3I,SACTwK,EAAOf,EAAEzJ,SACb,GAAI0I,EAAW6B,EAAOC,GACpB,OAAO,EAET,IAAIzG,EAAIgG,EAAWpB,EAAGc,GAAKc,EAAOC,EAClC,OAAIzG,GAAK,EACA,EAELA,GAAK,EACA6E,KAAK6B,GAEP7B,KAAK8B,KAAK3G,GAGnB,SAAS4G,EAAUC,EAAKhB,EAAMT,GAG5B,IAAI0B,EAAUb,EAAcY,EAAKhB,GAC7BkB,EAAQd,EAAcb,EAAGS,GACzBjB,EAAI2B,EAAMO,EAASC,GACnBC,EAAQd,EAAaY,EAASC,GAIlC,OAHIf,EAAWgB,EAAOnB,GAAQ,IAC5BjB,GAAKA,GAEAA,EAGT,SAASqC,EAAUzJ,EAAG0J,GACpB,IAAI7J,EAAIsI,EAAInI,EAAG0J,GACf,OAAO7B,EAAOhI,EAAG,IAGnB,SAAS8J,IACP,OAAOpG,EAAO8D,KAAKsC,SAAUtC,KAAKsC,SAAUtC,KAAKsC,UAGnD,SAASC,EAAShC,EAAGE,GACnB,QAAKX,EAAWS,EAAEL,EAAIO,EAAEP,OAEZJ,EAAWS,EAAEJ,EAAIM,EAAEN,MAEnBL,EAAWS,EAAEJ,EAAIM,EAAEN,IAMjC,SAASqC,EAAWjC,EAAGE,GACrB,OAAOX,EAAW4B,EAAMnB,EAAGE,IAG7B,IAAIgC,EAAUpC,OAEd,SAASqC,EAAeC,EAAKC,GAC3B,IAAIzH,EAAI,IAAIsH,EAEZ,OADAtH,EAAE0H,iBAAiBF,EAAKC,GACjBzH,EAGT,SAAS2H,EAAU9B,EAAM+B,GACvB,IAAIhD,EAAIiB,EAAKV,QAAQ0C,YACrB,OAAO,IAAIP,GAAUQ,iBAAiBlD,EAAGgD,GAG3C,SAASG,EAAavK,GACpB,IAAIwC,EAAI,IAAIsH,EACZ,OAAOtH,EAAEgI,gBAAgBxK,EAAEuH,EAAGvH,EAAEwH,EAAGxH,EAAEyH,GAGvC,SAASgD,EAAUC,GACjB,OAAQA,EAAMrD,KAAK6B,GAAM,IAGZ,OACbhC,QACAC,aACA5D,SACAoE,QACAE,SACAG,aACAC,OACAE,MACAC,WACAK,gBACAC,eACAF,aACAI,WACAG,QACAK,WACAK,WACAE,SACAC,UACAC,YACAC,UACAC,gBACAI,WACAI,cACAE,Y,oBCjKF,SAASE,EAAQpD,GACf,OAAQqD,IAAEC,MAAMtD,GAGlB,SAASuD,EAAYC,EAAMC,EAAUC,GACnC,OAAOC,IAAE,UACNC,KAAKJ,GACLK,SAASJ,GACT3E,GAAG,eAAe,SAAUjG,GAC3BA,EAAEiL,iBACFJ,OAsBN,SAASK,GAAwBC,EAAQzJ,EAAQ0J,EAASC,GACxD3J,EAAO4J,IAAI,CACTC,SAAU,WACV,UAAW,MAEb,IAAIC,EAAML,EAAOI,WAAWC,IACxBC,EAAON,EAAOI,WAAWE,KAC7BD,EAAM,EACNC,EAAO,EACP,IAAIC,EAAcP,EAAOQ,aACrBC,EAAeT,EAAOU,cAC1BV,EAAOW,QAAQpK,GACf,IAAIqK,EAAcrK,EAAOiK,aACrBK,EAAetK,EAAOmK,cAC1BnK,EAAO4J,IAAI,CACTE,IAAKA,EAAMI,EAAe,EAAII,EAAe,EAAIX,EACjDI,KAAMA,EAAOC,EAAc,EAAIK,EAAc,EAAIX,IAoBrD,SAASa,GAASzE,EAAG0E,GACnB,OAAOA,EAAMC,QAAQ3E,IAAM,EAG7B,SAAS4E,GAAcC,GAGrB,IAFA,IAAIC,EAAQ,sCACR7M,EAAI,GACCtB,EAAI,EAAGA,EAAIkO,EAAOlO,IAAK,CAC9B,IAAIkB,EAAI4H,KAAKsF,MAAMtF,KAAKsC,SAAW+C,EAAMjO,QACzCoB,GAAK6M,EAAME,UAAUnN,EAAGA,EAAI,GAE9B,OAAOI,EAGT,SAASgN,KACP,MAAO,QAAUL,GAAa,GAGhC,SAASM,GAAiBC,EAAWC,EAAO/B,GAO1C,SAASgC,IACPC,EAAOC,SACPlJ,OAAOmJ,cAAe,EAGxB,SAASC,IACPpC,EAASqC,EAASC,OAClBN,IACAhJ,OAAOmJ,cAAe,EAGxB,SAASI,IACPP,IACAhJ,OAAOmJ,cAAe,EAnBnBJ,IACHA,EAAQ,IAGV/I,OAAOmJ,cAAe,EAkBtB,IAAIK,EAAa3C,EAAW,OAAQ,wBAAyBuC,GAEzDK,EAAgB5C,EAAW,UAAW,wBAAyB0C,GAE/DF,EAAWpC,IAAE,cACdQ,IAAI,QAAS,QACbA,IAAI,gBAAiB,SACrBN,SAAS,sBACTuC,SAAQ,SAAUvN,GACjB,GAAkB,KAAdA,EAAEwN,QAEJ,OADAJ,KACO,KAITK,EAAU3C,IAAE,SACbQ,IAAI,QAAS,QACboC,OAAOd,GACPc,OAAOR,GACPQ,OAAOL,GACPK,OAAO,KACPA,OAAOJ,GAENR,EAAShC,IAAE,SACZE,SAAS,mBACTM,IAAI,UAAW,SACfA,IAAI,UAAW,QACfA,IAAI,QAASrE,KAAK0G,IAAI,IAAKhB,EAAUiB,QAAU,MAC/CF,OAAOD,GAEVvC,GAAuByB,EAAWG,EAAQ,EAAG,IAE7C/K,YAAW,WACT0L,EAAQI,KAAK,YAAYC,UACxB,KAGL,SAASC,GAAOC,GACd,OAAO,IAAI5N,SAAQ,SAAAC,GACjB0B,WAAW1B,EAAS2N,M,4SCjJxB,SAASC,GAAYlL,EAAGmL,EAAIzF,EAAIC,EAAIyF,GAClC,IAAIC,EAAiB,IAAX1F,EAAKwF,GACXG,EAAiB,IAAXF,EAAK1F,GACX6F,EAAKvL,EAAIA,EACTwL,EAAKxL,EAAIuL,EACb,OACG,EAAI7F,EAAK,EAAIC,EAAK0F,EAAKC,GAAME,IAC5B,EAAI9F,EAAK,EAAIC,EAAK,EAAI0F,EAAKC,GAAMC,EACnCF,EAAKrL,EACL0F,EAgBJ,SAAS+F,GAAiBzL,EAAG0F,EAAIC,EAAIyF,EAAIM,GACvC,OAAOC,EAAGvL,OACR8K,GAAWlL,EAAG0F,EAAGtB,EAAGuB,EAAGvB,EAAGgH,EAAGhH,EAAGsH,EAAGtH,GACnC8G,GAAWlL,EAAG0F,EAAGrB,EAAGsB,EAAGtB,EAAG+G,EAAG/G,EAAGqH,EAAGrH,GACnC6G,GAAWlL,EAAG0F,EAAGpB,EAAGqB,EAAGrB,EAAG8G,EAAG9G,EAAGoH,EAAGpH,I,IAWjCsH,G,WACJ,aAAe,uBACbzJ,KAAK0J,OAAS,GACd1J,KAAK2J,QAAU,GACf3J,KAAK4J,SAAW,GAChB5J,KAAK6J,UAAY,GAEjB7J,KAAK8J,OAAS,GACd9J,KAAK+J,YAAc,GACnB/J,KAAKgK,aAAe,GACpBhK,KAAKiK,WAAa,G,qDAGbhR,EAAGkB,GACR,IAAI+P,EAAU,IAAIT,EAKlB,OAJAS,EAAQR,OAAS1J,KAAK0J,OAAO7K,MAAM5F,EAAGkB,GACtC+P,EAAQP,QAAU3J,KAAK2J,QAAQ9K,MAAM5F,EAAGkB,GACxC+P,EAAQN,SAAW5J,KAAK4J,SAAS/K,MAAM5F,EAAGkB,GAC1C+P,EAAQL,UAAY7J,KAAK6J,UAAUhL,MAAM5F,EAAGkB,GACrC+P,M,KAiBX,SAASC,GAAYC,EAAShM,EAAGiM,EAAWC,GAC1C,IAAIC,EAAU,IAAId,GAElBc,EAAQb,OAAOjQ,KAAK2Q,EAAQV,OAAOW,IAEnC,IAAK,IAAIpR,EAAIoR,EAAWpR,EAAIqR,EAAY,EAAGrR,GAAK,EAI9C,IAHA,IAAIuR,EAAS,EACTC,EAAOrM,EAAI,EAENjE,EAAIqQ,EAAQrQ,EAAIsQ,EAAMtQ,GAAK,EAAG,CACrC,IAAI0D,EAAI1D,EAAIiE,EAERsM,OAAY,EAAEC,OAAY,EAG5BD,EADEzR,EAAI,EACSmR,EAAQV,OAAOzQ,EAAI,GAEnBmR,EAAQV,OAAOzQ,GAAGoJ,QAAQuI,IAAIR,EAAQR,SAAS3Q,IAI9D0R,EADE1R,EAAImR,EAAQV,OAAOvQ,OAAS,EACfiR,EAAQV,OAAOzQ,EAAI,GAEnBmR,EAAQV,OAAOzQ,EAAI,GAAGoJ,QAAQwI,IAAIT,EAAQR,SAAS3Q,IAGpEsR,EAAQb,OAAOjQ,KACb6P,GACEzL,EACA6M,EACAN,EAAQV,OAAOzQ,GACfmR,EAAQV,OAAOzQ,EAAI,GACnB0R,IAMRJ,EAAQZ,QAAQlQ,KAAK2Q,EAAQT,QAAQU,IACrC,IAAK,IAAIpR,EAAIoR,EAAWpR,EAAIqR,EAAY,EAAGrR,GAAK,EAC9C,IAAK,IAAIkB,EAAI,EAAGA,EAAIiE,EAAI,EAAGjE,GAAK,EAAG,CACjC,IAAI0D,EAAI1D,EAAIiE,EAER0M,OAAa,EAAEC,OAAa,EAG9BD,EADE7R,EAAI,EACUmR,EAAQT,QAAQ1Q,EAAI,GAEpBmR,EAAQT,QAAQ1Q,GAIhC8R,EADE9R,EAAImR,EAAQT,QAAQxQ,OAAS,EACfiR,EAAQT,QAAQ1Q,EAAI,GAEpBmR,EAAQT,QAAQ1Q,EAAI,GAGtCsR,EAAQZ,QAAQlQ,KACd6P,GACEzL,EACAiN,EACAV,EAAQT,QAAQ1Q,GAChBmR,EAAQT,QAAQ1Q,EAAI,GACpB8R,GACAhG,aAKR,IAAK,IAAI9L,EAAI,EAAGA,EAAIsR,EAAQb,OAAOvQ,OAAQF,GAAK,EACpC,IAANA,EACFsR,EAAQX,SAASnQ,KAAK2Q,EAAQR,SAAS,IAC9B3Q,IAAMsR,EAAQb,OAAOvQ,OAAS,EACvCoR,EAAQX,SAASnQ,KAAK2Q,EAAQR,SAASU,EAAY,IAEnDC,EAAQX,SAASnQ,KACf8Q,EAAQb,OAAOzQ,EAAI,GAChBoJ,QACAuI,IAAIL,EAAQb,OAAOzQ,EAAI,IACvB8L,aAKT,IAAK,IAAI9L,EAAI,EAAGA,EAAIsR,EAAQb,OAAOvQ,OAAQF,GAAK,EAC9CsR,EAAQV,UAAUpQ,KAChB+P,EAAGvL,SAASoF,aAAakH,EAAQX,SAAS3Q,GAAIsR,EAAQZ,QAAQ1Q,KAIlE,OAAOsR,E,IAYHS,G,0DACJ,aAAe,oCACb,eACA,EAAKC,QAAU,GACf,EAAKC,OAAS,EAHD,E,4DAMDjS,GACZ,IAAIkS,EAAOnL,KAAKiL,QAAQhS,GACxB,OAAO+G,KAAKoL,iBAAiBD,K,qCAQ7B,IAAIE,EAAS,EACTC,EAAOtL,KAAK0J,OAAOvQ,OACnBoS,EAAQD,EAAO,EACnB,GAAIA,EAAOD,EAAS,EAAG,CAErBrL,KAAK4J,SAASyB,GAAUrL,KAAK0J,OAAO2B,EAAS,GAC1ChJ,QACAuI,IAAI5K,KAAK0J,OAAO2B,IAChBtG,YAGH,IAAK,IAAI9L,EAAIoS,EAAS,EAAGpS,EAAIsS,EAAOtS,GAAK,EACvC+G,KAAK4J,SAAS3Q,GAAK+G,KAAK0J,OAAOzQ,EAAI,GAChCoJ,QACAuI,IAAI5K,KAAK0J,OAAOzQ,EAAI,IACpB8L,YAIL/E,KAAK4J,SAAS2B,GAASvL,KAAK0J,OAAO6B,GAChClJ,QACAuI,IAAI5K,KAAK0J,OAAO6B,EAAQ,IACxBxG,gBACE,CAEL,IAAIyG,EAAUxL,KAAK0J,OAAO6B,GACvBlJ,QACAuI,IAAI5K,KAAK0J,OAAO2B,IAChBtG,YAEH/E,KAAK4J,SAASyB,GAAUG,EACxBxL,KAAK4J,SAAS2B,GAASC,K,oCAUzB,IAAIH,EAAS,EACTC,EAAOtL,KAAK0J,OAAOvQ,OACnBoS,EAAQD,EAAO,EACnB,GAAIA,EAAOD,EAAS,EAAG,CACrB,IAAK,IAAIpS,EAAIoS,EAAS,EAAGpS,EAAIsS,EAAOtS,GAAK,EACvC,GAAwB,OAApB+G,KAAK2J,QAAQ1Q,GAEf+G,KAAK2J,QAAQ1Q,GAAKwS,GAAWzL,KAAK4J,SAAS3Q,GAAI+G,KAAK2J,QAAQ1Q,IAC5D+G,KAAK2J,QAAQ1Q,GAAG8L,gBACX,CAEL,IAAIpC,EAAO3C,KAAK0J,OAAOzQ,GAAGoJ,QAAQuI,IAAI5K,KAAK0J,OAAOzQ,EAAI,IACtD+G,KAAK2J,QAAQ1Q,GAAKuQ,EACfvL,SACAoF,aAAaV,EAAM3C,KAAK4J,SAAS3Q,IACjC8L,YAGH,IAAI2G,EAAa1L,KAAK2J,QAAQ1Q,EAAI,GACf,OAAfyS,GACE1L,KAAK2J,QAAQ1Q,GAAG0S,IAAID,GAAc,GACpC1L,KAAK2J,QAAQ1Q,GAAG2S,SAMxB5L,KAAK2J,QAAQ0B,GAAUrL,KAAK2J,QAAQ0B,EAAS,GAC7CrL,KAAK2J,QAAQ4B,GAASvL,KAAK2J,QAAQ4B,EAAQ,QAE3C,IAAK,IAAItS,EAAIoS,EAAQpS,GAAKsS,EAAOtS,GAAK,EACpC,GAAwB,OAApB+G,KAAK2J,QAAQ1Q,GACf+G,KAAK2J,QAAQ1Q,GAAKwS,GAAWzL,KAAK4J,SAAS3Q,GAAI+G,KAAK2J,QAAQ1Q,IAC5D+G,KAAK2J,QAAQ1Q,GAAG8L,gBACX,CACL,IAAI8G,EAAY7L,KAAK0J,OAAOzQ,GAC5B+G,KAAK2J,QAAQ1Q,GAAKuQ,EACfvL,SACAoF,aAAawI,EAAW7L,KAAK4J,SAAS3Q,IACtC8L,e,sCAST,IAFA,IAAIsG,EAAS,EACTC,EAAOtL,KAAK0J,OAAOvQ,OACdF,EAAIoS,EAAQpS,EAAIqS,EAAMrS,GAAK,EAClC+G,KAAK6J,UAAU5Q,GAAKuQ,EACjBvL,SACAoF,aAAarD,KAAK4J,SAAS3Q,GAAI+G,KAAK2J,QAAQ1Q,M,+BAKjD+G,KAAK8L,aAAe3B,GAAWnK,KAAM,EAAIA,KAAKkL,OAAQ,EAAGlL,KAAK0J,OAAOvQ,U,kCAG1D4S,EAAMC,EAASC,EAASC,EAAQC,GAC3C,IAAIC,EAAOpM,KAAK8L,aACZO,EAAY,EACZC,EAAUtM,KAAK0J,OAAOvQ,OAGtBoT,EAAyB,EAAZF,EAAgBrM,KAAKkL,OAASlL,KAAKkL,OAChDqB,EAAa,IACfA,EAAa,GAIf,IAAIC,EAAqB,EAAVF,EAActM,KAAKkL,OAASlL,KAAKkL,OAAS,EACrDsB,GAAYJ,EAAK1C,OAAOvQ,SAC1BqT,EAAWJ,EAAK1C,OAAOvQ,OAAS,GAGlC,IAAIsT,EAAcL,EAAKvN,MAAM0N,EAAYC,GAErCE,EAAO,IAAIC,GACb3M,KACAyM,EACAT,EACAC,EACAC,EACAC,GAGF,OAAOO,M,GAjJSjD,IAoKdkD,G,0DAMJ,WAAaC,EAAQC,GAA6B,MAAtBC,EAAsB,sFAChD,eAEA,EAAKxQ,KAAO,uBAEZ,EAAKyQ,WAAa,CAChBF,QACAD,SACAE,gBAGF,EAAKE,YAAcH,EAAMI,cAAc,GAAGJ,MAC1C,EAAKK,OAAS,EAAKF,YAAY7T,OAE/B,EAAKgU,QAAU,EACf,EAAKC,MAAQ,EAEb,EAAKC,4BAEL,EAAKC,gBAEL,EAAKC,QACL,EAAKC,YAtB2C,E,2EA0BhDxN,KAAKmN,QAAU,EACfnN,KAAKoN,MAAQ,EAEbpN,KAAKyN,MAAQ,GAJc,uBAKTzN,KAAK+M,WAAWH,QALP,IAK3B,2BAA0C,KAAjCc,EAAiC,QACpCtB,EAAOsB,EAAM5B,aACjB9L,KAAKyN,MAAMhU,KAAK2S,GAEhB,IAAIuB,EAAQvB,EAAK1C,OAAOvQ,OACxB6G,KAAKmN,UAAYQ,EAAQD,EAAMhE,OAAOvQ,OAAS,GAAK6G,KAAKkN,OACzDlN,KAAKmN,SAAWnN,KAAKkN,OACrBlN,KAAKmN,SAAWnN,KAAKkN,OAErB,IAAIU,EAASF,EAAMhE,OAAOvQ,OAC1B6G,KAAKoN,OAAwB,GAAdQ,EAAS,GAAS5N,KAAKkN,QAAU,EAAIQ,EAAMxC,OAAS,GACnElL,KAAKoN,OAASpN,KAAKkN,OAAS,EAC5BlN,KAAKoN,OAASpN,KAAKkN,OAAS,EAE5BlN,KAAKmN,QAAuB,EAAbnN,KAAKoN,OAnBK,iC,8BAuBpB,8BACW9H,IAAEuI,MAAM7N,KAAKyN,MAAMtU,SAD9B,yBACE2U,EADF,QAED1B,EAAO,EAAKqB,MAAMK,GAClBJ,EAAQ,EAAKX,WAAWH,OAAOkB,GAI/BC,EAAc,EACdC,EAAYN,EAAMhE,OAAOvQ,OAE7B,SAAS8U,EAAUC,GACjB,MAA2C,MAApCR,EAAM1D,aAAakE,GAAuB,GAAM,EASzD,IANA,IAAIC,EAAW,KACXC,EAAe,KACfC,EAAe,KACfC,EAAmB,KACnBC,GAAS,EAGPL,EAAcH,EAClBG,EAAcF,EACdE,GAAe,EACf,CAIA,IAAI3B,EAA2B,EAAd2B,EAAkBR,EAAMxC,OAASwC,EAAMxC,OACpDqB,EAAa,IACfA,EAAa,GAIf,IAAIC,EAA+B,GAAnB0B,EAAc,GAASR,EAAMxC,OAASwC,EAAMxC,OAAS,EACjEsB,GAAYJ,EAAK1C,OAAOvQ,SAC1BqT,EAAWJ,EAAK1C,OAAOvQ,QAGzB,IAfA,eAgBMqV,GAIJ,IAAI9F,EAAQuF,EAASC,GACjBO,EAAS,GAUb,GARID,IAAejC,GAAciC,EAAa,GAEF,MAAxCd,EAAM1D,aAAakE,EAAc,IACG,MAApCR,EAAM1D,aAAakE,KAEnBxF,EAAQuF,EAASC,EAAc,IAIjCM,IAAehC,EAAW,GAC1B0B,EAAcR,EAAMhE,OAAOvQ,OAAS,EACpC,CACA,IAAIuV,EAAkBR,EAAc,EAEM,MAAxCR,EAAM1D,aAAa0E,IACiB,MAApChB,EAAM1D,aAAakE,KAEnBxF,EAAQuF,EAASS,IAIrBH,EAA6C,MAApCb,EAAM1D,aAAakE,GAE5B,IA9CF,EA8CMS,EAAQvC,EAAK1C,OAAO8E,GACpBI,EAASxC,EAAKzC,QAAQ6E,GACtBK,EAAWzC,EAAKvC,UAAU2E,GAE1BxB,EAAc1H,IAAEwJ,UAAU,EAAK9B,aAlDrC,iBAmDyBA,GAnDzB,IAmDE,2BAAoC,KAA3B+B,EAA2B,QAClCA,EAAW9M,EAAI8M,EAAW9M,EAAIyG,EAC9BqG,EAAW7M,EAAI6M,EAAW7M,EAAIuM,GArDlC,8BAwDEN,EAAW,GAxDb,uBAyDyBnB,GAzDzB,IAyDE,2BAAoC,KAA3B+B,EAA2B,QAC9B9M,EAAI2M,EAAOvM,QAAQI,eAAesM,EAAW9M,GAC7CC,EAAI2M,EAASxM,QAAQI,eAAesM,EAAW7M,GAC/C8M,EAASL,EACVtM,QACAwI,IAAI5I,GACJ4I,IAAI3I,GACPiM,EAAS1U,KAAKuV,IAhElB,8BAoEE,IAAI/C,EAAyB,IAAfuC,GAAoBN,IAAgBH,EAClD,GAAI9B,EAQF,IAPA,IAAIkB,EAAUH,EAAY7T,OACtB8V,EAAc9B,EAAU,EACxB+B,EAAaC,GAAiB,CAChChB,EAAS,GACTA,EAAS,GACTA,EAASc,KAEFG,EAAU,EAAGA,EAAUjC,EAAU,EAAGiC,GAAW,EACtD,EAAKC,0BACHlB,EAASiB,GACTjB,EAASiB,EAAU,GACnBjB,EAASc,GACTC,EACAA,EACAA,GAKN,SAASI,EAAwBd,GAO/B,IANA,IAEIvM,EAAGC,EAFHiL,EAAUH,EAAY7T,OACtBkV,EAAe,GAEfkB,EAAW,IAAInN,OACfoN,EAAW,IAAIpN,OACfqN,EAAc,IAAIrN,OACbnJ,EAAI,EAAGA,EAAIkU,EAASlU,GAAK,EAAG,CACnC,IAAIyW,EAAQzW,EAAI,EAAIA,EAAI,EAAIkU,EAAU,EAClCwC,EAAQ1W,EAAI,EAAIkU,EAAUlU,EAAI,EAAI,EAClCqJ,EAAI0K,EAAY/T,GACpBsW,EAASK,WAAWtN,EAAG0K,EAAY0C,IAAQ3K,YAC3CyK,EAASI,WAAWtN,EAAG0K,EAAY2C,IAAQ5K,YAC3C0K,EAAYI,WAAWN,EAAUC,GAAUzK,YAC3C9C,EAAImK,EAAKzC,QAAQ6E,GAAYnM,QAAQI,eAAegN,EAAYxN,GAChEC,EAAIkK,EAAKvC,UAAU2E,GAChBnM,QACAI,eAAegN,EAAYvN,GAC9BmM,EAAa5U,KAAKwI,EAAE4I,IAAI3I,IAE1B,OAAOmM,EAGT,SAASyB,EAAqBtB,GAK5B,IAJA,IAEIvM,EAAGC,EAFHiL,EAAUH,EAAY7T,OACtBkV,EAAe,GAEfoB,EAAc,IAAIrN,OACbnJ,EAAI,EAAGA,EAAIkU,EAASlU,GAAK,EAAG,CACnC,IAAIyW,EAAQzW,EAAI,EAAIA,EAAI,EAAIkU,EAAU,EAClC7K,EAAI0K,EAAY/T,GACpBwW,EAAYG,WAAWtN,EAAG0K,EAAY0C,IAAQ3K,YAC9C9C,EAAImK,EAAKzC,QAAQ6E,GAAYnM,QAAQI,eAAegN,EAAYxN,GAChEC,EAAIkK,EAAKvC,UAAU2E,GAChBnM,QACAI,eAAegN,EAAYvN,GAC9BmM,EAAa5U,KAAKwI,EAAE4I,IAAI3I,IAE1B,OAAOmM,EAST,GALEA,EADEE,EACauB,EAAoBtB,GAEpBc,EAAuBd,GAGrB,IAAfA,EAGF,OAFAF,EAAmBD,EACnBD,EAAeD,EACf,WAGF,IACE,IAAI4B,EAAc,EAClBA,EAAc,EAAK7C,OACnB6C,GAAe,EACf,CACA,IAAIC,OAAe,EAEjBA,EADkB,IAAhBD,EACgB,EAAK7C,OAAS,EAEd6C,EAAc,EAG9BxB,GAEF,EAAKc,0BACHjB,EAAa4B,GACb7B,EAAS6B,GACT7B,EAAS4B,GACTzB,EAAiB0B,GACjB3B,EAAa2B,GACb3B,EAAa2B,IAEf,EAAKX,0BACHjB,EAAa2B,GACb3B,EAAa4B,GACb7B,EAAS4B,GACTzB,EAAiB0B,GACjB1B,EAAiB0B,GACjB3B,EAAa2B,MAIf,EAAKX,0BACHjB,EAAa4B,GACb7B,EAAS6B,GACT7B,EAAS4B,GACTzB,EAAiB0B,GACjB3B,EAAa2B,GACb3B,EAAa0B,IAEf,EAAKV,0BACHjB,EAAa2B,GACb3B,EAAa4B,GACb7B,EAAS4B,GACTzB,EAAiByB,GACjBzB,EAAiB0B,GACjB3B,EAAa0B,KAKnB,IAAI7D,EACFsC,IAAehC,EAAW,GAAK0B,IAAgBF,EAAY,EAC7D,GAAI9B,EAQF,IAPA,IAAIiB,EAAUH,EAAY7T,OACtB8V,EAAc9B,EAAU,EACxB+B,EAAaC,GAAiB,CAChChB,EAAS,GACTA,EAAS,GACTA,EAAS,KAEFiB,EAAU,EAAGA,EAAUjC,EAAU,EAAGiC,GAAW,EACtD,EAAKC,0BACHlB,EAASc,GACTd,EAASiB,EAAU,GACnBjB,EAASiB,GACTF,EACAA,EACAA,GAKNZ,EAAmBD,EACnBD,EAAeD,GAxMXK,EAAajC,EACjBiC,EAAahC,EACbgC,GAAc,EACd,EAHIA,KAvCV,2BAA8C,IADvC,iC,kCAwPP,IADW,EACPyB,EAAc,EADP,iBAEO3K,IAAEuI,MAAM7N,KAAKyN,MAAMtU,SAF1B,IAEX,2BAOE,IAP4C,IAArC2U,EAAqC,QACxC1B,EAAOpM,KAAKyN,MAAMK,GAClBJ,EAAQ1N,KAAK+M,WAAWH,OAAOkB,GAE/BC,EAAc,EACdC,EAAYN,EAAMhE,OAAOvQ,OAGvB+U,EAAcH,EAClBG,EAAcF,EACdE,GAAe,EACf,CAIA,IAAI3B,EAA2B,EAAd2B,EAAkBR,EAAMxC,OAASwC,EAAMxC,OACpDqB,EAAa,IACfA,EAAa,GAIf,IAAIC,EAA+B,GAAnB0B,EAAc,GAASR,EAAMxC,OAASwC,EAAMxC,OAAS,EACjEsB,GAAYJ,EAAK1C,OAAOvQ,SAC1BqT,EAAWJ,EAAK1C,OAAOvQ,QAGzB,IACE,IAAIqV,EAAajC,EACjBiC,EAAahC,EACbgC,GAAc,EACd,CACA,IAAI0B,EAAclQ,KAAKgN,YAAY7T,OAE/BgT,OAAK,EAEPA,EADEnM,KAAK+M,WAAWD,aACVY,EAAM3D,YAAYmE,GAElBR,EAAM5D,OAAOoE,GAAa7L,QAIpC,IAAI4J,EAAyB,IAAfuC,GAAoBN,IAAgBH,EAClD,GAAI9B,EACF,IAAK,IAAIhT,EAAI,EAAGA,EAAI,GAAKiX,EAAc,GAAIjX,GAAK,EAC9C+G,KAAKmQ,SAASF,EAAa9D,GAC3B8D,GAAe,EAInB,GAAIzB,EAAa,EACf,IAAK,IAAIvV,EAAI,EAAGA,EAAI,EAAIiX,EAAajX,GAAK,EACxC+G,KAAKmQ,SAASF,EAAa9D,GAC3B8D,GAAe,EAInB,IAAI/D,EACFsC,IAAehC,EAAW,GAAK0B,IAAgBF,EAAY,EAC7D,GAAI9B,EACF,IAAK,IAAIjT,EAAI,EAAGA,EAAI,GAAKiX,EAAc,GAAIjX,GAAK,EAC9C+G,KAAKmQ,SAASF,EAAa9D,GAC3B8D,GAAe,IA/Dd,8BAqEXjQ,KAAKoQ,WAAWjE,MAAMkE,aAAc,I,sCAIpC,IAAIC,EAAY,IAAIC,aAA4B,EAAfvQ,KAAKmN,SAClCxD,EAAU,IAAI4G,aAA4B,EAAfvQ,KAAKmN,SAChClC,EAAU,IAAIuF,WAAwB,EAAbxQ,KAAKoN,OAC9BtD,EAAS,IAAIyG,aAA4B,EAAfvQ,KAAKmN,SAEnCnN,KAAKyQ,aACH,WACA,IAAIrO,OAA6BkO,EAAW,IAE9CtQ,KAAKyQ,aAAa,SAAU,IAAIrO,OAA6BuH,EAAS,IACtE3J,KAAKyQ,aAAa,QAAS,IAAIrO,OAA6B0H,EAAQ,IACpE9J,KAAK0Q,SAAS,IAAItO,OAA4B6I,EAAS,IAEvDjL,KAAKsQ,UAAYtQ,KAAKoQ,WAAW/J,SAASsK,MAC1C3Q,KAAK2J,QAAU3J,KAAKoQ,WAAWxB,OAAO+B,MACtC3Q,KAAKiL,QAAUjL,KAAK4Q,MAAMD,MAC1B3Q,KAAK8J,OAAS9J,KAAKoQ,WAAWjE,MAAMwE,MAEpC3Q,KAAK6Q,cAAgB,EACrB7Q,KAAK8Q,WAAa,EAClB9Q,KAAKiQ,YAAc,I,+BAGXb,EAASjD,GACjB,IAAI4E,EAAY,EAAI3B,EACpBpP,KAAK8J,OAAOiH,GAAa5E,EAAM1O,EAC/BuC,KAAK8J,OAAOiH,EAAY,GAAK5E,EAAM6E,EACnChR,KAAK8J,OAAOiH,EAAY,GAAK5E,EAAMvJ,I,iCAGzBoM,GACVhP,KAAKsQ,UAAUtQ,KAAK6Q,eAAiB7B,EAAO/M,EAC5CjC,KAAKsQ,UAAUtQ,KAAK6Q,cAAgB,GAAK7B,EAAO9M,EAChDlC,KAAKsQ,UAAUtQ,KAAK6Q,cAAgB,GAAK7B,EAAO7M,EAEhDnC,KAAK6Q,eAAiB,EACtB7Q,KAAKiQ,aAAe,I,gDAGK/G,EAAIC,EAAI8H,EAAIC,EAASC,EAASC,GACvDpR,KAAKqR,WAAWnI,GAChBlJ,KAAKqR,WAAWlI,GAChBnJ,KAAKqR,WAAWJ,GAEhB,IAAIhY,EAAI+G,KAAK8Q,WACb9Q,KAAKiL,QAAQjL,KAAK8Q,YAAc7X,EAChC+G,KAAKiL,QAAQjL,KAAK8Q,WAAa,GAAK7X,EAAI,EACxC+G,KAAKiL,QAAQjL,KAAK8Q,WAAa,GAAK7X,EAAI,EAExC+G,KAAK8Q,YAAc,EAEnB,IAAI3W,EAAIlB,EAAI,EACRwI,EAAIxI,EAAI,EAEZ+G,KAAK2J,QAAY,EAAJ1Q,GAASiY,EAAQjP,EAC9BjC,KAAK2J,QAAY,EAAJ1Q,EAAQ,GAAKiY,EAAQhP,EAClClC,KAAK2J,QAAY,EAAJ1Q,EAAQ,GAAKiY,EAAQ/O,EAElCnC,KAAK2J,QAAY,EAAJxP,GAASgX,EAAQlP,EAC9BjC,KAAK2J,QAAY,EAAJxP,EAAQ,GAAKgX,EAAQjP,EAClClC,KAAK2J,QAAY,EAAJxP,EAAQ,GAAKgX,EAAQhP,EAElCnC,KAAK2J,QAAY,EAAJlI,GAAS2P,EAAQnP,EAC9BjC,KAAK2J,QAAY,EAAJlI,EAAQ,GAAK2P,EAAQlP,EAClClC,KAAK2J,QAAY,EAAJlI,EAAQ,GAAK2P,EAAQjP,I,gCAGzBiN,GACT,OAAO5F,EAAGvL,OACR+B,KAAKsQ,UAAoB,EAAVlB,GACfpP,KAAKsQ,UAAoB,EAAVlB,EAAc,GAC7BpP,KAAKsQ,UAAoB,EAAVlB,EAAc,Q,GA7bAhN,QAsc7BkP,G,0DACJ,WAAaC,EAAcC,EAAWC,GAAW,oCAC/C,eAEA,EAAKnV,KAAO,6BAEZ,EAAKyQ,WAAa,CAAEwE,eAAcE,YAAWD,aAE7C,EAAKrE,QAAU,EACf,EAAKC,MAAQ,EAEb,EAAKC,4BAEL,EAAKC,gBAEL,EAAKoE,UAd0C,E,yEAiBtBC,EAAOC,GAChC5R,KAAKmN,QAAU,EACfnN,KAAKoN,MAAQ,EAFyB,uBAIjBpN,KAAK+M,WAAWwE,cAJC,IAItC,2BAAmD,KAA1CpD,EAA0C,QAC7ChB,EAAUgB,EAAShV,OAEvB6G,KAAKoN,OAASD,EAAU,EAExBnN,KAAKoN,OAASD,EAAU,EAExBnN,KAAKoN,OAAS,EAAID,GAXkB,8BActCnN,KAAKmN,QAAU,EAAInN,KAAKoN,Q,gCAGf,uBACiBpN,KAAK+M,WAAWwE,aAAaM,WAD9C,IACT,2BAAkE,CAWhE,IAXgE,gCAAxD5Y,EAAwD,KAArDkV,EAAqD,KAC5DS,EAASO,GAAiBhB,EAAStP,MAAM,EAAG,IAC5CiT,EAAelD,EAChBvM,QACAI,eAAezC,KAAK+M,WAAW0E,UAAY,GAC1CtF,EAAQnM,KAAK+M,WAAWyE,UAAUvY,GAElCkU,EAAUgB,EAAShV,OACnBoS,EAAQ4B,EAAU,EAElB4E,EAAc,GACT9Y,EAAI,EAAGA,EAAIkV,EAAShV,OAAQF,GAAK,EACxC8Y,EAAYtY,KAAK0U,EAASlV,GAAGoJ,QAAQwI,IAAIiH,IAI3C,IADA,IAAIE,EAAiB,GACZ/Y,EAAI,EAAGA,EAAIkV,EAAShV,OAAQF,GAAK,EACxC+Y,EAAevY,KAAK0U,EAASlV,GAAGoJ,QAAQuI,IAAIkH,IAG9C,IAAK,IAAI7Y,EAAI,EAAGA,EAAIkU,EAAU,EAAGlU,GAAK,EACpC+G,KAAKiS,mBACHF,EAAY9Y,GACZ8Y,EAAY9Y,EAAI,GAChB8Y,EAAYxG,GACZY,GAIJ,IAAK,IAAIlT,EAAI,EAAGA,EAAIkU,EAAU,EAAGlU,GAAK,EACpC+G,KAAKiS,mBACHD,EAAe/Y,GACf+Y,EAAezG,GACfyG,EAAe/Y,EAAI,GACnBkT,GAIJ,IAAK,IAAIlT,EAAI,EAAGA,EAAIkU,EAASlU,GAAK,EAAG,CACnC,IAAIkB,EAAIlB,IAAMkU,EAAU,EAAI,EAAIlU,EAAI,EACpC+G,KAAKiS,mBACHF,EAAY9Y,GACZ+Y,EAAe/Y,GACf+Y,EAAe7X,GACfgS,GAEFnM,KAAKiS,mBACHF,EAAY9Y,GACZ+Y,EAAe7X,GACf4X,EAAY5X,GACZgS,KAnDG,8BAwDTnM,KAAKkS,yB,+BAGG9C,EAASjD,GACjB,IAAI4E,EAAY,EAAI3B,EACpBpP,KAAK8J,OAAOiH,GAAa5E,EAAM1O,EAC/BuC,KAAK8J,OAAOiH,EAAY,GAAK5E,EAAM6E,EACnChR,KAAK8J,OAAOiH,EAAY,GAAK5E,EAAMvJ,I,8BAG5BuP,GACPnS,KAAK+M,WAAWyE,UAAYW,EAC5B,IAFqB,EAEjBC,EAAe,EAFE,iBAGcpS,KAAK+M,WAAWwE,aAAaM,WAH3C,IAGrB,2BAIE,IAJyE,gCAAjEQ,EAAiE,KAArDlE,EAAqD,KACrEhC,EAAQnM,KAAK+M,WAAWyE,UAAUa,GAClClF,EAAUgB,EAAShV,OACnBmZ,EAAsB,GAAKnF,EAAU,GAAK,EAAIA,EACzCiC,EAAU,EAAGA,EAAUkD,EAAqBlD,GAAW,EAC9DpP,KAAKmQ,SAASiC,EAAcjG,GAC5BiG,GAAgB,EATC,8BAYrBpS,KAAKoQ,WAAWjE,MAAMkE,aAAc,I,sCAIpC,IAAIC,EAAY,IAAIC,aAA4B,EAAfvQ,KAAKmN,SAClCxD,EAAU,IAAI4G,aAA4B,EAAfvQ,KAAKmN,SAChClC,EAAU,IAAIuF,WAAwB,EAAbxQ,KAAKoN,OAC9BtD,EAAS,IAAIyG,aAA4B,EAAfvQ,KAAKmN,SAEnCnN,KAAKyQ,aACH,WACA,IAAIrO,OAA6BkO,EAAW,IAE9CtQ,KAAKyQ,aAAa,SAAU,IAAIrO,OAA6BuH,EAAS,IACtE3J,KAAKyQ,aAAa,QAAS,IAAIrO,OAA6B0H,EAAQ,IACpE9J,KAAK0Q,SAAS,IAAItO,OAA4B6I,EAAS,IAEvDjL,KAAKsQ,UAAYtQ,KAAKoQ,WAAW/J,SAASsK,MAC1C3Q,KAAK2J,QAAU3J,KAAKoQ,WAAWxB,OAAO+B,MACtC3Q,KAAKiL,QAAUjL,KAAK4Q,MAAMD,MAC1B3Q,KAAK8J,OAAS9J,KAAKoQ,WAAWjE,MAAMwE,MAEpC3Q,KAAK6Q,cAAgB,EACrB7Q,KAAK8Q,WAAa,EAClB9Q,KAAKiQ,YAAc,I,iCAGTjB,EAAQ7C,GAClBnM,KAAKsQ,UAAUtQ,KAAK6Q,eAAiB7B,EAAO/M,EAC5CjC,KAAKsQ,UAAUtQ,KAAK6Q,cAAgB,GAAK7B,EAAO9M,EAChDlC,KAAKsQ,UAAUtQ,KAAK6Q,cAAgB,GAAK7B,EAAO7M,EAEhDnC,KAAK8J,OAAO9J,KAAK6Q,eAAiB1E,EAAM1O,EACxCuC,KAAK8J,OAAO9J,KAAK6Q,cAAgB,GAAK1E,EAAM6E,EAC5ChR,KAAK8J,OAAO9J,KAAK6Q,cAAgB,GAAK1E,EAAMvJ,EAE5C5C,KAAK6Q,eAAiB,EACtB7Q,KAAKiQ,aAAe,I,yCAGF/G,EAAIC,EAAI8H,EAAI9E,GAC9BnM,KAAKqR,WAAWnI,EAAIiD,GACpBnM,KAAKqR,WAAWlI,EAAIgD,GACpBnM,KAAKqR,WAAWJ,EAAI9E,GAEpB,IAAIlT,EAAI+G,KAAK8Q,WACb9Q,KAAKiL,QAAQjL,KAAK8Q,YAAc7X,EAChC+G,KAAKiL,QAAQjL,KAAK8Q,WAAa,GAAK7X,EAAI,EACxC+G,KAAKiL,QAAQjL,KAAK8Q,WAAa,GAAK7X,EAAI,EAExC+G,KAAK8Q,YAAc,I,gCAGV1B,GACT,OAAO5F,EAAGvL,OACR+B,KAAKsQ,UAAoB,EAAVlB,GACfpP,KAAKsQ,UAAoB,EAAVlB,EAAc,GAC7BpP,KAAKsQ,UAAoB,EAAVlB,EAAc,Q,GA1KMhN,QAmLnCmQ,G,0DACJ,aAAe,6BACb,IAAI1F,EAAQ,IAAIzK,OAAY,CAC1B,IAAIA,QAAe,KAAO,IAC1B,IAAIA,OAAc,EAAK,IACvB,IAAIA,OAAc,KAAQ,MAGxBgK,EAAO,IAAIhK,OAAuB,CACpCoH,EAAGvL,OAAO,GAAI,GAAK,GACnBuL,EAAGvL,OAAO,EAAG,GAAK,KATP,OAYb,cAAM4O,EAAO,CACX2F,MAAO,EACPC,cAAc,EACdC,YAAatG,IAGf,EAAK9P,KAAO,qBAEZ,EAAKqW,aACH,IAAIvQ,QAAgBwQ,sBAClB,IAAIxQ,OAAY,EAAGL,KAAK6B,GAAK,EAAG,KAtBvB,E,UADgBxB,QAoCjC,SAASyQ,GAAYC,EAAKC,GACpBzN,IAAE0N,YAAYF,IAGlBA,EAAIG,UAAS,SAAU/V,GACrBA,EAAEgW,QAAUH,KAYhB,SAASI,GAAeL,GAEtB,IADA,IAAIvH,EAAQuH,EAAIM,SAASja,OAAS,EACzBF,EAAIsS,EAAOtS,GAAK,EAAGA,GAAK,EAAG,CAClC,IAAIoa,EAAQP,EAAIM,SAASna,GACpBqM,IAAE0N,YAAYK,EAAMC,cAGpBhO,IAAE0N,YAAYK,EAAME,WACvBF,EAAME,SAASC,UAEZlO,IAAE0N,YAAYK,EAAMI,WACvBJ,EAAMI,SAASD,UAEjBV,EAAIjL,OAAOwL,KAIf,SAAS5H,GAAY1H,EAAK2P,GACxB,IAAIC,EAAc5P,EAAI1B,QAAQI,eAAeiR,EAAI/H,IAAI5H,IAErD,OAAO2P,EAAIrR,QAAQuI,IAAI+I,GAGzB,SAASxE,GAAkBhB,GACzB,IAAIyF,EAAK,IAAIxR,OACTyR,EAAK,IAAIzR,OAQb,OANAwR,EAAGhE,WAAWzB,EAAS,GAAIA,EAAS,IACpC0F,EAAGjE,WAAWzB,EAAS,GAAIA,EAAS,IACpCyF,EAAG1P,MAAM2P,GAETD,EAAG7O,YAEI6O,EAGT,SAASE,GAAuBC,EAAWvX,GACzC,OAAO,IAAI4F,QAAmB4R,mBAAmBD,EAAWvX,GAG9D,SAASyX,GAAUF,EAAWvX,EAAQ0X,GACpC,OAAOA,GAAK1X,EAASuX,GAAaA,EAGpC,SAASI,GAAqBtP,EAAUhH,GACtC,IAAIuW,EAAW,IAAIhS,OACnB,OAAOgS,EAASC,MAAMxP,EAAUhH,GAWlC,SAASyW,GAAiBC,EAAKC,GAC7B,IAAI1B,EAAM,IAAI1Q,OAKd,OAJA0Q,EAAI2B,OAAOL,WACXtB,EAAIzM,SAASqO,KAAKH,GAClBzB,EAAI7P,MAAM0R,IAAIH,EAAQA,EAAQA,GAC9B1B,EAAI8B,eACG9B,EAAI2B,OAGb,SAASI,GAA6BL,EAAQM,GACxCxP,IAAE0N,YAAY8B,KAChBA,EAAiB,GAEnB,IAAIC,EAAyB,IAAI3S,OAC/BoS,EACAA,EACA,EACAM,EACA,GACA,GAOF,OALAC,EAAuBpC,aACrB,IAAIvQ,QAAgBwQ,sBAClB,IAAIxQ,OAAYL,KAAK6B,GAAK,EAAG7B,KAAK6B,GAAI,KAGnCmR,EAYT,SAASC,GAAmBC,EAAMC,EAAIV,GACpC,IAAI1B,EAAM,IAAI1Q,OAQd,OAPA0Q,EAAI7P,MAAM0R,IAAIH,EAAQA,EAAQS,EAAKE,WAAWD,IAC9CpC,EAAIzM,SACDqO,KAAKO,GACLpK,IAAIqK,GACJzS,eAAe,IAClBqQ,EAAIsC,OAAOF,GACXpC,EAAI8B,eACG9B,EAAI2B,OAGb,SAASY,GAA4BZ,EAAQa,EAAWjK,EAAQC,GAE9D,IADA,IAAIiK,EAAQd,EAAOe,SACVvc,EAAIoS,EAAQpS,EAAIqS,EAAMrS,GAAK,EAAG,CACrC,IAAIgJ,EAAIqT,EAAUrc,GACdiJ,EAAIoT,EAAUrc,EAAI,GAClBkJ,EAAImT,EAAUrc,EAAI,GACtBqc,EAAUrc,GAAKsc,EAAM,GAAKtT,EAAIsT,EAAM,GAAKrT,EAAIqT,EAAM,GAAKpT,EAAIoT,EAAM,IAClED,EAAUrc,EAAI,GAAKsc,EAAM,GAAKtT,EAAIsT,EAAM,GAAKrT,EAAIqT,EAAM,GAAKpT,EAAIoT,EAAM,IACtED,EAAUrc,EAAI,GAAKsc,EAAM,GAAKtT,EAAIsT,EAAM,GAAKrT,EAAIqT,EAAM,IAAMpT,EAAIoT,EAAM,KAI3E,SAASE,GACPhB,EACAa,EACAjK,EACAC,GAGA,IADA,IAAIiK,EAAQd,EAAOe,SACVvc,EAAIoS,EAAQpS,EAAIqS,EAAMrS,GAAK,EAAG,CACrC,IAAIgJ,EAAIqT,EAAUrc,GACdiJ,EAAIoT,EAAUrc,EAAI,GAClBkJ,EAAImT,EAAUrc,EAAI,GACtBqc,EAAUrc,GAAKsc,EAAM,GAAKtT,EAAIsT,EAAM,GAAKrT,EAAIqT,EAAM,GAAKpT,EACxDmT,EAAUrc,EAAI,GAAKsc,EAAM,GAAKtT,EAAIsT,EAAM,GAAKrT,EAAIqT,EAAM,GAAKpT,EAC5DmT,EAAUrc,EAAI,GAAKsc,EAAM,GAAKtT,EAAIsT,EAAM,GAAKrT,EAAIqT,EAAM,IAAMpT,GAIjE,SAASuT,GAAkBC,EAAUC,GAGnC,IAFA,IAAIC,EAAQF,EAASxc,OACjB2c,EAAc,IAAIvF,aAAasF,EAAQD,GAClCG,EAAQ,EAAGA,EAAQH,EAAOG,GAAS,EAE1C,IADA,IAAI1K,EAAS0K,EAAQF,EACZ5c,EAAI,EAAGA,EAAI4c,EAAO5c,GAAK,EAC9B6c,EAAYzK,EAASpS,GAAK0c,EAAS1c,GAGvC,OAAO6c,EAGT,SAASE,GAA0B7J,EAAOmJ,EAAWjK,EAAQC,GAC3D,IAAK,IAAIrS,EAAIoS,EAAQpS,EAAIqS,EAAMrS,GAAK,EAClCqc,EAAUrc,GAAKkT,EAAM1O,EACrB6X,EAAUrc,EAAI,GAAKkT,EAAM6E,EACzBsE,EAAUrc,EAAI,GAAKkT,EAAMvJ,EAI7B,SAASqT,GAAeN,EAAUC,EAAOM,GAGvC,IAFA,IAAIL,EAAQF,EAASxc,OACjB2c,EAAc,IAAIK,YAAYN,EAAQD,GACjCG,EAAQ,EAAGA,EAAQH,EAAOG,GAAS,EAG1C,IAFA,IAAI1K,EAAS0K,EAAQF,EACjBO,EAAcL,EAAQG,EACjBjd,EAAI,EAAGA,EAAI4c,EAAO5c,GAAK,EAC9B6c,EAAYzK,EAASpS,GAAK0c,EAAS1c,GAAKmd,EAG5C,OAAON,E,IAQHO,G,0DACJ,WAAaC,EAAoBV,GAAO,6BACtC,eAEA,EAAKtZ,KAAO,qBACZ,EAAKyQ,WAAa,CAChB6I,MAAOA,GAGT,EAAKW,kBAAoBD,EAEzB,IAAIhG,EAAYoF,GACdY,EAAmBlG,WAAW/J,SAASsK,MACvCiF,GAEF,EAAKnF,aACH,WACA,IAAIrO,OAA6BkO,EAAW,IAG9C,IAAI3G,EAAU+L,GACZY,EAAmBlG,WAAWxB,OAAO+B,MACrCiF,GAEF,EAAKnF,aAAa,SAAU,IAAIrO,OAA6BuH,EAAS,IAEtE,IAAI6M,EAAMd,GAAiBY,EAAmBlG,WAAWqG,GAAG9F,MAAOiF,GACnE,EAAKnF,aAAa,KAAM,IAAIrO,OAA6BoU,EAAK,IAE9D,IAAIE,EAAgBJ,EAAmBlG,WAAW/J,SAASsQ,MAE3D,GAAI,UAAWL,GACTA,EAAmB1F,MAAO,CAC5B,IAAI3F,EAAUgL,GACZK,EAAmB1F,MAAMD,MACzBiF,EACAc,GAEF,EAAKhG,SAAS,IAAItO,OAA4B6I,EAAS,IAI3D,IAAInB,EAAS,IAAIyG,aAA6B,EAAhBmG,EAAoBd,GAzCZ,OA0CtC,EAAKnF,aAAa,QAAS,IAAIrO,OAA6B0H,EAAQ,IA1C9B,E,iEA6CrB2K,EAAQsB,GACzB,IAAIa,EAAW5W,KAAKuW,kBAAkBnG,WAAW/J,SAASsK,MAAMxX,OAC5DmX,EAAYtQ,KAAKoQ,WAAW/J,SAASsK,MACrChH,EAAU3J,KAAKoQ,WAAWxB,OAAO+B,MACjCkG,EAAad,EAAQa,EACrBE,EAAWD,EAAaD,EAC5BvB,GAA2BZ,EAAQnE,EAAWuG,EAAYC,GAC1DrB,GAAqChB,EAAQ9K,EAASkN,EAAYC,K,uCAGlD3K,EAAO4J,GACvB,IAAIa,EAAW5W,KAAKuW,kBAAkBnG,WAAW/J,SAASsK,MAAMxX,OAC5D2Q,EAAS9J,KAAKoQ,WAAWjE,MAAMwE,MAC/BkG,EAAad,EAAQa,EACrBE,EAAWD,EAAaD,EAC5BZ,GAAyB7J,EAAOrC,EAAQ+M,EAAYC,O,GA7DvB1U,QChqC3B2U,G,WACJ,aAAe,uBACb/W,KAAKgX,GAAK,cACVhX,KAAKiX,OAAS,EACdjX,KAAKkX,MAAQ,EACblX,KAAKmX,aAAe,CAClBvO,MAAOY,EAAGvL,OAAO,EAAG,EAAG,GACvBoI,SAAUmD,EAAGvL,OAAO,EAAG,GAAI,GAC3BmZ,GAAI5N,EAAGvL,OAAO,EAAG,EAAG,GACpBoZ,OAAQ,EACRC,MAAO,EACPC,KAAM,GAERvX,KAAKwX,SAAW,GAChBxX,KAAKyX,OAAS,GACdzX,KAAK0X,UAAY,GACjB1X,KAAK2X,eAAiB,GACtB3X,KAAKyF,KAAO,2BACZzF,KAAK4X,OAAS,GACd5X,KAAKf,MAAQ,GACbe,KAAK6X,KAAO,CACVC,WAAW,EACXC,SAAS,EACTC,UAAU,EACVC,OAAO,EACPC,SAAS,EACTxK,OAAO,EACPyK,UAAU,EACVC,QAAQ,EACRC,QAAQ,EACRC,aAAa,GAEftY,KAAKuY,KAAO,CACVC,OAAQ,GACRC,QAAS,KACTC,WAAW,GAEb1Y,KAAK2Y,MAAO,EACZ3Y,KAAK4Y,QAAU,S,yDAGNzB,GACTnX,KAAKmX,aAAeA,I,0CAGD5C,GACnB,IAAIsE,EAAO7Y,KAAKqC,QACZyW,EAAOvE,EAAIlS,QAAQuI,IAAIiO,EAAK1B,aAAavO,OAG7C,OAFAiQ,EAAK1B,aAAavO,MAAM8L,KAAKH,GAC7BsE,EAAK1B,aAAa9Q,SAASwE,IAAIiO,GACxBD,I,8BAIP,IAAIvW,EAAI,IAAIyU,EAgBZ,OAfAzU,EAAE0U,GAAKhX,KAAKgX,GACZ1U,EAAErD,MAAQe,KAAKf,MACfqD,EAAE2U,MAAQjX,KAAKiX,MACf3U,EAAEkV,SAAWxX,KAAKwX,SAClBlV,EAAEqV,eAAiBrS,IAAEwJ,UAAU9O,KAAK2X,gBACpCrV,EAAEmV,OAASnS,IAAEwJ,UAAU9O,KAAKyX,QAC5BnV,EAAEoV,UAAYpS,IAAEwJ,UAAU9O,KAAK0X,WAC/BpV,EAAE4U,MAAQlX,KAAKkX,MACf5U,EAAEmD,KAAOzF,KAAKyF,KACdnD,EAAEyW,KAAO/Y,KAAK+Y,KACdzW,EAAE6U,aAAe7R,IAAEwJ,UAAU9O,KAAKmX,cAClC7U,EAAEuV,KAAOvS,IAAEwJ,UAAU9O,KAAK6X,MAC1BvV,EAAEiW,KAAOjT,IAAEwJ,UAAU9O,KAAKuY,MAC1BjW,EAAEqW,KAAO3Y,KAAK2Y,KACdrW,EAAEsW,QAAU5Y,KAAK4Y,QACVtW,I,gCAWP,IAAI0W,EAAYhZ,KAAKmX,aAAavO,MAC/BvG,QACAuI,IAAI5K,KAAKmX,aAAa9Q,UACrBkR,EAAOyB,EAAU7f,SACrB6f,EAAUjU,YACV,IAAIwP,EAAMvU,KAAKmX,aAAavO,MACxBqQ,EAAM1E,EAAIlS,QAAQwI,IAAImO,GACtBE,EAAM3E,EAAIlS,QAAQuI,IAAI5K,KAAKmX,aAAaC,IAExCS,EAAOvS,IAAEjD,MAAMrC,KAAK6X,MAIxB,OAHAA,EAAKsB,SAAWtB,EAAKM,gBACdN,EAAKM,SAEL,CACLiB,QAAS,EACTC,QAASrZ,KAAKgX,GACdsC,QAAStZ,KAAK4X,OACd2B,OAAQvZ,KAAKf,MACbiY,MAAOlX,KAAKkX,MACZW,KAAMA,EACNU,KAAMjT,IAAEwJ,UAAU9O,KAAKuY,MACvB9S,KAAMzF,KAAKyF,KACX+T,OAAQxZ,KAAKiX,MACbQ,OAAQzX,KAAKyX,OACbD,SAAUxX,KAAKwX,SACfiC,gBAAiBzZ,KAAK2X,eACtBD,UAAW1X,KAAK0X,UAChBgC,OAAQ,CACNC,KAAM,CACJC,QAAS5Z,KAAKmX,aAAaE,OAC3BwC,OAAQ7Z,KAAKmX,aAAaG,MAC1BC,KAAMA,GAERhD,IAAK,CAACA,EAAItS,EAAGsS,EAAIrS,EAAGqS,EAAIpS,GACxBiV,GAAI,CAAC8B,EAAIjX,EAAGiX,EAAIhX,EAAGgX,EAAI/W,GACvB2X,GAAI,CAACb,EAAIhX,EAAGgX,EAAI/W,EAAG+W,EAAI9W,IAEzBwW,KAAM3Y,KAAK2Y,KACXC,QAAS5Y,KAAK4Y,W,kCAILmB,GACX/Z,KAAKgX,GAAK+C,EAASV,QACnBrZ,KAAKf,MAAQ8a,EAASR,OACtBvZ,KAAK2Y,KAAOoB,EAASpB,KACrB3Y,KAAK4Y,QAAUmB,EAASnB,QACxB5Y,KAAKyF,KAAOsU,EAAStU,KACrBzF,KAAK4X,OAASmC,EAAST,QACvBtZ,KAAKkX,MAAQ6C,EAAS7C,MACtBlX,KAAKga,MAAQD,EAASC,MACtBha,KAAKiX,MAAQ8C,EAASP,OAEtBxZ,KAAKyX,OAASsC,EAAStC,OACvBzX,KAAKwX,SAAWuC,EAASvC,SACzBxX,KAAK0X,UAAYqC,EAASrC,UAbL,uBAeLpS,IAAE2U,KAAKF,EAASlC,OAfX,IAerB,2BAAuC,KAA9B3Z,EAA8B,QACjCA,KAAO8B,KAAK6X,OACd7X,KAAK6X,KAAK3Z,KAAS6b,EAASlC,KAAK3Z,IAEvB,aAARA,IACF8B,KAAK6X,KAAKM,WAAa4B,EAASlC,KAAKsB,WApBpB,8BAwBfnZ,KAAK6X,KAAKM,UAAYnY,KAAK6X,KAAKnK,OAAS1N,KAAK6X,KAAKO,SACvDpY,KAAK6X,KAAKO,QAAS,GAGfpY,KAAK6X,KAAKsB,UAAYnZ,KAAK6X,KAAKnK,OAAS1N,KAAK6X,KAAKO,SACvDpY,KAAK6X,KAAKM,UAAW,GAGnB,SAAU4B,IACZ/Z,KAAKuY,KAAOwB,EAASxB,MAGnB,oBAAqBwB,IACvB/Z,KAAK2X,eAAiBrS,IAAEwJ,UAAUiL,EAAS,qBAG7C,IAAIxF,EAAM/K,EAAGvL,OACX8b,EAASL,OAAOnF,IAAI,GACpBwF,EAASL,OAAOnF,IAAI,GACpBwF,EAASL,OAAOnF,IAAI,IAGlB2E,EAAM1P,EAAGvL,OACX8b,EAASL,OAAOtC,GAAG,GACnB2C,EAASL,OAAOtC,GAAG,GACnB2C,EAASL,OAAOtC,GAAG,IAGjB6B,EAAMzP,EAAGvL,OACX8b,EAASL,OAAOI,GAAG,GACnBC,EAASL,OAAOI,GAAG,GACnBC,EAASL,OAAOI,GAAG,IAGjBvC,EAAOwC,EAASL,OAAOC,KAAKpC,KAE5B3O,EAAQY,EAAGnH,MAAMkS,GAEjB2F,EAAkB1Q,EACnBnH,MAAM4W,GACNrO,IAAIhC,GACJnG,eAAe8U,GACf3L,SAECvF,EAAWmD,EAAGnH,MAAMuG,GAAOiC,IAAIqP,GAE/B9C,EAAK5N,EACNnH,MAAM6W,GACNtO,IAAIhC,GACJgD,SAEH5L,KAAKmX,aAAe,CAClBvO,MAAOA,EACPvC,SAAUA,EACV+Q,GAAIA,EACJC,OAAQ0C,EAASL,OAAOC,KAAKC,QAC7BtC,MAAOyC,EAASL,OAAOC,KAAKE,OAC5BtC,KAAMA,O,KAKZ,SAAS4C,GAAoBC,EAAWC,EAAcpG,GACpD,IAAIqG,EAAqBF,EAAU/T,SAAShE,QAAQuI,IAAIwP,EAAUxR,OAC9D2R,EAAUD,EAAmBnhB,SACjCmhB,EAAmBvV,YAEnB,IAAIyV,EAAwBH,EAAahU,SACtChE,QACAuI,IAAIyP,EAAazR,OAEhB6R,EAAaD,EAAsBrhB,SACvCqhB,EAAsBzV,YAEtB,IAAI2V,EAAoBC,GACtBL,EACAE,GAGEI,EAAyBR,EAAUhD,GACpC/U,QACAwY,gBAAgBH,GAEfI,EAAuBH,GACFC,EAAwBP,EAAajD,IAC3D2D,SAASL,GACRM,EAAmBL,GACrBG,EACA7G,GAGEgH,EAAYZ,EAAazR,MAC1BvG,QACAuI,IAAIwP,EAAUxR,OACdnG,eAAewR,GAEdrL,EAAQwR,EAAUxR,MAAMvG,QAAQwI,IAAIoQ,GAEpC1D,EAAOoD,GAAgBJ,EAASE,EAAYxG,GAE5CiH,EAAkBZ,EACnBjY,QACAwY,gBAAgBG,GAChBvY,eAAe8U,GAElB,MAAO,CACL3O,MAAOA,EACPvC,SAAUuC,EAAMvG,QAAQwI,IAAIqQ,GAC5B9D,GAAIgD,EAAUhD,GAAG/U,QAAQwY,gBAAgBG,GACzC3D,OAAQsD,GAAgBP,EAAU/C,OAAQgD,EAAahD,OAAQpD,GAC/DqD,MAAOqD,GAAgBP,EAAU9C,MAAO+C,EAAa/C,MAAOrD,GAC5DsD,KAAMA,G,IASJ4D,G,WACJ,WAAaC,GAAM,uBAEjBpb,KAAKob,KAAOA,EAEZpb,KAAK0Y,WAAY,EAGjB1Y,KAAKqb,mBAAoB,EAGzBrb,KAAKsb,gBAAiB,EAItBtb,KAAKub,0BAA2B,EAGhCvb,KAAKwb,mBAAoB,EAKzBxb,KAAKyb,YAAc,IAAI1E,GAGvB/W,KAAK0b,mBAAqB,GAC1B1b,KAAK2b,WAAa,GAClB3b,KAAK4b,kBAAoB,EAOzB5b,KAAK6b,aAAe,OAGpB7b,KAAK8b,WAAa,KAIlB9b,KAAK+b,aAAe,EAGpB/b,KAAKgc,cAAgB,GACrBhc,KAAKic,UAAY,GAEjBjc,KAAKlC,KAAO,S,uDAImB,IAA3BkC,KAAK2b,WAAWxiB,QAAiB6G,KAAKob,KAAKc,WAC7Clc,KAAKmc,iCAEPnc,KAAKoc,0B,gCAIL,OAAOpc,KAAKlC,O,8BAGLA,GACPkC,KAAKlC,KAAOA,I,8CAIZ,IAAK,IAAIue,KAAQrc,KAAKob,KAAK7C,KAAKC,OAC1B6D,KAAQrc,KAAKob,KAAK7C,KAAKC,SACzBxY,KAAKyb,YAAYlD,KAAKC,OAAO6D,GAAQrc,KAAKob,KAAK7C,KAAKC,OAAO6D,IAG3DhX,EAAOrF,KAAKob,KAAK7C,KAAKE,WACxBzY,KAAKyb,YAAYlD,KAAKE,QAAUzY,KAAKob,KAAK7C,KAAKE,W,uDAKjDzY,KAAKyb,YAAY5D,KAAKC,WAAY,EAClC9X,KAAKyb,YAAYvE,MAAQ,EACzBlX,KAAKyb,YAAYhW,KAAOzF,KAAKob,KAAKzZ,MAClC3B,KAAKyb,YAAYxc,MAAQe,KAAKob,KAAKkB,aAAa,GAChDtc,KAAKyb,YAAczb,KAAKuc,gCACxBvc,KAAKwc,SAASxc,KAAKyb,aACnBzb,KAAK0Y,WAAY,I,oCAGJG,GACb7Y,KAAKub,0BAA2B,EAChCvb,KAAKyc,eAAiB5D,EAAKxW,QAC3BrC,KAAKyc,eAAexF,MAAQjX,KAAKob,KAAKsB,mBACpC7D,EAAK1B,aAAavO,S,wCAKpB5I,KAAK8b,WAAa9b,KAAKyc,eACvBzc,KAAKyc,eAAiB,KACtBzc,KAAKwb,mBAAoB,EACzBxb,KAAKub,0BAA2B,EAChCvb,KAAK0Y,WAAY,I,yCAIjB,OAAO1Y,KAAKyb,YAAYxE,Q,yCAGNtX,GAClB,IAAK,IAAIgd,EAAQ,EAAGA,EAAQ3c,KAAK2b,WAAWxiB,OAAQwjB,GAAS,EAC3D,GAAI3c,KAAK2b,WAAWgB,GAAO3F,KAAOrX,EAChC,OAAOgd,EAGX,OAAQ,I,iCAGEA,EAAOC,EAAWC,GAC5B7c,KAAK0b,mBAAmBkB,GAAaC,EACjCF,GAAS3c,KAAK2b,WAAWxiB,OAC3B6G,KAAK2b,WAAWliB,KAAKojB,GAErB7c,KAAK2b,WAAWthB,OAAOsiB,EAAO,EAAGE,GAEnC7c,KAAK4b,kBAAoBe,EACzB,IAAK,IAAI1jB,EAAI,EAAGA,EAAI+G,KAAK2b,WAAWxiB,OAAQF,IAC1C+G,KAAK2b,WAAW1iB,GAAGie,MAAQje,I,iCAInB0G,GACV,IAAIgd,EAAQ3c,KAAK8c,mBAAmBnd,GACpC,KAAIgd,EAAQ,GAAZ,CAGA3c,KAAK2b,WAAWthB,OAAOsiB,EAAO,UACvB3c,KAAK0b,mBAAmB/b,GAC/B,IAAK,IAAIxF,EAAI,EAAGA,EAAI6F,KAAK2b,WAAWxiB,OAAQgB,IAC1C6F,KAAK2b,WAAWxhB,GAAG+c,MAAQ/c,EAEzB6F,KAAK4b,mBAAqB5b,KAAK2b,WAAWxiB,SAC5C6G,KAAK4b,kBAAoB5b,KAAK2b,WAAWxiB,OAAS,GAEpD6G,KAAK0Y,WAAY,K,+BAGTG,GACR7Y,KAAK0b,mBAAmB7C,EAAK7B,IAAM6B,EACnC7Y,KAAK2b,WAAWliB,KAAKof,K,yCAGHkE,GAClB,IAAIC,EAAYhd,KAAKob,KAAK6B,gBAEtBJ,EAAU7c,KAAKyb,YAAYpZ,QAE/B,GAAkB,IAAd2a,EACF,OAAOH,EAGT,IAAI1F,EAAe0F,EAAQ1F,aAE3BA,EAAaE,QAAU2F,EAAY,EACnC7F,EAAaG,MAAQ0F,EAAY,EACjC7F,EAAaI,KAA6B,KAAtBxV,KAAKC,IAAIgb,GAE7B,IAAIE,EAASld,KAAKob,KAAK+B,UAAUJ,GAE7BK,EAAOjG,EAAa9Q,SACrBhE,QACAuI,IAAIuM,EAAavO,OACjB7D,YAUH,OATAoS,EAAavO,MAAM8L,KAAKwI,GACxB/F,EAAa9Q,SAAW8Q,EAAavO,MAClCvG,QACAwI,IAAIuS,EAAK3a,eAAe0U,EAAaI,OAExCsF,EAAQ5F,MAAQjX,KAAKob,KAAKsB,mBAAmBQ,GAE7CL,EAAQlF,eAAexe,OAAS,EAEzB0jB,I,sDAIP,IAAIE,EAAczX,IAAEuI,MAAM7N,KAAKob,KAAKiC,gBACpC,OAAOrd,KAAKsd,mBAAmBP,K,4CAGVpd,GACrB,IAAIkZ,EAAO7Y,KAAK0b,mBAAmB/b,GACnCK,KAAK4b,kBAAoB5b,KAAK0b,mBAAmB/b,GAAQuX,MACzDlX,KAAKud,cAAc1E,K,wDAGc2E,GACjC,IADuC,EACnCxjB,EAAS,GACTyjB,EAAUzd,KAAKob,KAAKsC,gBAAgBF,GACpCG,EAAQF,EAAQE,MAChBC,EAAaH,EAAQG,WAJc,iBAKX5d,KAAKob,KAAKxO,OAAOiF,WALN,IAKvC,2BAAwD,iCAA9CgM,EAA8C,KAAtCnQ,EAAsC,KACtD+P,EAAQK,KAAKpQ,EAAMzC,QAAQ,IACvBwS,EAAQE,QAAUA,GAASF,EAAQG,aAAeA,GACpD5jB,EAAOP,KAAKokB,IARuB,8BAWvC,OAAO7jB,I,2CAGaid,GACpB,IAAI8G,EAAO/d,KAAKob,KAAK4C,aAAa/G,GAC9B4B,EAAO7Y,KAAKyb,YAAYwC,oBAAoBF,EAAKxJ,KACrDsE,EAAK5B,MAAQjX,KAAKob,KAAKsB,mBAAmB7D,EAAK1B,aAAavO,OAC5DiQ,EAAKlB,eAAiB3X,KAAKke,kCAAkCH,EAAKP,MAClExd,KAAKud,cAAc1E,K,oDAInB,IAD6B,EACzBgE,EAAU7c,KAAKyb,YAAYpZ,QAE3B0a,EAAc,GACdU,EAAUzd,KAAKob,KAAKsC,kBAJK,iBAKZpY,IAAEuI,MAAM7N,KAAKob,KAAK+C,oBALN,IAK7B,2BAAuD,KAA9CX,EAA8C,QACrDC,EAAQK,KAAKN,GACTC,EAAQjG,UACVuF,EAAYtjB,KAAKgkB,EAAQxG,QARA,8BAW7B,IAAIiG,EAASld,KAAKob,KAAK+B,UAAUJ,GAC7BC,EAAYhd,KAAKob,KAAK6B,cAAcF,GAExC,GAAkB,IAAdC,EACF,OAAOH,EAGT,IAAI1F,EAAe0F,EAAQ1F,aAE3BA,EAAaE,QAAU2F,EAAY,EACnC7F,EAAaG,MAAQ0F,EAAY,EACjC7F,EAAaI,KAA6B,IAAtBxV,KAAKC,IAAIgb,GAE7B,IAAII,EAAOjG,EAAa9Q,SACrBhE,QACAuI,IAAIuM,EAAavO,OACjB7D,YAOH,OANAoS,EAAavO,MAAM8L,KAAKwI,GACxB/F,EAAa9Q,SAAW8Q,EAAavO,MAClCvG,QACAwI,IAAIuS,EAAK3a,eAAe0U,EAAaI,OAExCsF,EAAQ5F,MAAQjX,KAAKob,KAAKsB,mBAAmBQ,GACtCL,I,wCAIP,IAAIA,EAAU7c,KAAKyb,YAAYpZ,QAC/Bwa,EAAQ7F,GAAKzP,KACbsV,EAAQpX,KAAO,kCACfoX,EAAQ5d,MAAQe,KAAKob,KAAKkB,aAAa,GACvCO,EAAQrF,SAAWxX,KAAKob,KAAKgD,0BAC7BvB,EAAQlF,eAAiBrS,IAAEwJ,UAAU9O,KAAKob,KAAKzD,gBAE/C,IAAI0G,EAAWre,KAAK4b,kBAAoB,EAOxC,OANA5b,KAAKse,WAAWD,EAAUxB,EAAQ7F,GAAI6F,GACtC7c,KAAKue,sBAAsB1B,EAAQ7F,IACnChX,KAAK0Y,WAAY,EACjB1Y,KAAKsb,gBAAiB,EACtB7c,QAAQ+f,IAAI,2BAA4B3B,GAEjCA,EAAQ7F,K,qCAGD6B,GACd,IAAI4F,EAAkBze,KAAKyb,YAAYjE,SAUvC,IAAK,IAAI6E,KATTrc,KAAKyb,YAAc5C,EAAKxW,QACxBrC,KAAKob,KAAKzD,eAAiBrS,IAAEwJ,UAAU+J,EAAKlB,gBACvCrS,IAAEhB,QAAQma,EAAgBC,OAAQ7F,EAAKrB,SAASkH,UACnD1e,KAAKob,KAAKuD,yBACV3e,KAAKob,KAAKwD,uBAAuB/F,EAAKrB,UAAU,GAChDxX,KAAKqb,mBAAoB,GAIVxC,EAAKN,KAAKC,OACrB6D,KAAQrc,KAAKob,KAAK7C,KAAKC,QACrBK,EAAKN,KAAKC,OAAO6D,KAAUrc,KAAKob,KAAK7C,KAAKC,OAAO6D,KACnDrc,KAAKob,KAAK7C,KAAKC,OAAO6D,GAAQxD,EAAKN,KAAKC,OAAO6D,GAC/Crc,KAAKwb,mBAAoB,EACzBxb,KAAKob,KAAK7C,KAAKG,WAAY,GAI5BpT,IAAEC,MAAMsT,EAAKN,KAAKE,UACjBzY,KAAKob,KAAK7C,KAAKE,UAAYI,EAAKN,KAAKE,UACvCzY,KAAKob,KAAK7C,KAAKE,QAAUI,EAAKN,KAAKE,QACnCzY,KAAKwb,mBAAoB,EACzBxb,KAAKob,KAAK7C,KAAKG,WAAY,GAI/B1Y,KAAK0Y,WAAY,I,4CAIjB,GAA+B,IAA3B1Y,KAAK2b,WAAWxiB,OAClB,MAAO,GAET6G,KAAK4b,mBAAqB,EACtB5b,KAAK4b,kBAAoB,IAC3B5b,KAAK4b,kBAAoB5b,KAAK2b,WAAWxiB,OAAS,GAEpD,IAAI6d,EAAKhX,KAAK2b,WAAW3b,KAAK4b,mBAAmB5E,GAEjD,OADAhX,KAAKue,sBAAsBvH,GACpBA,I,4CAIP,GAA+B,IAA3BhX,KAAK2b,WAAWxiB,OAClB,MAAO,GAET6G,KAAK4b,mBAAqB,EACtB5b,KAAK4b,mBAAqB5b,KAAK2b,WAAWxiB,SAC5C6G,KAAK4b,kBAAoB,GAE3B,IAAI5E,EAAKhX,KAAK2b,WAAW3b,KAAK4b,mBAAmB5E,GAEjD,OADAhX,KAAKue,sBAAsBvH,GACpBA,I,+CAIP,IAAIC,EAAQ3R,IAAE9H,IAAIwC,KAAK8b,WAAY,SAEjC7E,EADE5R,EAAO4R,GACDjX,KAAK8b,WAAW7E,MAEhBjX,KAAKyb,YAAYxE,MAEvBA,EAAQ,IACVA,EAAQ,GAEV,IAAIuG,EAAOxd,KAAKob,KAAK4C,aAAa/G,GAAOuG,KACrCA,GAAQ,EACVA,EAAOxd,KAAKob,KAAK+C,kBAAoB,EAErCX,GAAQ,EAEVvG,EAAQjX,KAAKob,KAAKsC,gBAAgBF,GAAMvG,MACxCjX,KAAK6e,qBAAqB5H,K,+CAI1B,IAAIA,EAAQ3R,IAAE9H,IAAIwC,KAAK8b,WAAY,SAEjC7E,EADE5R,EAAO4R,GACDjX,KAAK8b,WAAW7E,MAEhBjX,KAAKyb,YAAYxE,MAEvBA,EAAQ,IACVA,EAAQ,GAEV,IAAIuG,EAAOxd,KAAKob,KAAK4C,aAAa/G,GAAOuG,KACrCA,GAAQxd,KAAKob,KAAK+C,kBAAoB,EACxCX,EAAO,EAEPA,GAAQ,EAEVvG,EAAQjX,KAAKob,KAAKsC,gBAAgBF,GAAMvG,MACxCjX,KAAK6e,qBAAqB5H,K,mCAGd6H,EAAgBC,EAAgBC,EAAgBC,GAC5D,IAAI9H,EAAenX,KAAKyb,YAAYtE,aAEhCjV,EAAIiV,EAAaC,GACjBjV,EAAIgV,EAAa9Q,SAClBhE,QACAuI,IAAIuM,EAAavO,OACjB7D,YACC9C,EAAIuH,EACLvL,SACAoF,aAAanB,EAAGC,GAChB4C,YAECma,GAAO,IAAI9c,QAAmB+c,iBAAiBhd,EAAG6c,GAElDI,GAAO,IAAIhd,QAAmB+c,iBAAiBjd,GAAI6c,GAEnDM,GAAO,IAAIjd,QAAmB+c,iBAAiBld,GAAI6c,GAEnDja,GAAW,IAAIzC,QAChB2Y,SAASmE,GACTnE,SAASqE,GACTrE,SAASsE,GAERC,EAAUL,EAAY9H,EAAaI,KACnC+H,EAAU,IACZA,EAAU,GAERA,EAAU,MACZA,EAAU,KAGZ,IAAIjZ,EAAW8Q,EAAa9Q,SACzBhE,QACAuI,IAAIuM,EAAavO,OACjBiS,gBAAgBhW,GAChBE,YACAtC,eAAe6c,GACfzU,IAAIsM,EAAavO,OAEhBiQ,EAAO7Y,KAAKyb,YAAYpZ,QAC5BwW,EAAK1B,aAAavO,MAAQuO,EAAavO,MAAMvG,QAC7CwW,EAAK1B,aAAa9Q,SAAWA,EAC7BwS,EAAK1B,aAAaC,GAAKD,EAAaC,GAAG/U,QAAQwY,gBAAgBhW,GAC/DgU,EAAK1B,aAAaI,KAAO+H,EAEzBtf,KAAKuf,eAAe1G,K,mDAIpB7Y,KAAKuf,eAAevf,KAAK8b,YACF,UAAnB9b,KAAKwf,YACPxf,KAAKyb,YAAY5D,KAAKS,aAAc,GAEtCtY,KAAK8b,WAAa,KAClB9b,KAAKsb,gBAAiB,EACtBtb,KAAKwb,mBAAoB,EACzBxb,KAAK0Y,WAAY,EACjB1Y,KAAK8b,WAAa,O,sCAaH/C,EAAM0G,EAASC,EAAOC,GACrC,OACID,EAAQC,GAAQ,GACf5d,KAAK6d,IAAM,EAAI7d,KAAK6B,GAAM6b,EAAW1G,EAAQ,GAAShX,KAAK6B,IAAM,GACpE+b,I,8BAIKE,GAEP,GADA7f,KAAK+b,aAAe8D,EAAc7f,KAAKic,UACnCjc,KAAK+b,YAAc,GACrB,GAAwB,OAApB/b,KAAK8b,WACP9b,KAAK8f,6BACL9f,KAAK+b,YAAc/b,KAAKgc,mBAExB,GAAIhc,KAAKub,yBACPvb,KAAK0Y,WAAY,OACZ,GAA0B,SAAtB1Y,KAAK6b,aACV7b,KAAK+b,aAAe/b,KAAK+f,aAC3B/f,KAAKggB,2BAEF,GAA0B,WAAtBhgB,KAAK6b,aACd7b,KAAKigB,aAAa,EAAK,KAAO,EAAG,QAC5B,GAA0B,SAAtBjgB,KAAK6b,aAAyB,CACvC,IAAIqE,EAAY,GACZjd,EAAQjD,KAAKmgB,iBACdngB,KAAK+b,YAAcmE,EACpB,EAAIA,EACJ,EACA,GAEEE,EAAO,KACPC,EAAMD,EAAOnd,EACbjD,KAAK+b,aAAemE,EACtBlgB,KAAKigB,aAAa,EAAKI,EAAK,EAAG,GACtBrgB,KAAK+b,aAAe,EAAImE,EACjClgB,KAAKigB,aAAa,GAAMI,EAAK,EAAG,GACvBrgB,KAAK+b,aAAe,EAAImE,EACjClgB,KAAKigB,aAAa,GAAMI,EAAK,EAAG,GAEhCrgB,KAAK+b,YAAc,QAIpB,GAAI/b,KAAK+b,YAAc,GACL,MAAnB/b,KAAK8b,WAAoB,CAC3B,IAAIjD,EAAO7Y,KAAKyb,YAAYpZ,QACxBie,EAAYtgB,KAAK+b,YACjB9Y,EAAQjD,KAAKmgB,gBAAgBG,EAAWtgB,KAAKgc,cAAe,EAAG,GAC/D/H,EAAY,EAAMqM,EAAard,EAC/BgR,EAAW,IACbA,EAAW,GAEb4E,EAAK0H,UACHpG,GACEna,KAAKyb,YAAYtE,aACjBnX,KAAK8b,WAAW3E,aAChBlD,IAGJjU,KAAKuf,eAAe1G,Q,KAUtB2H,G,WACJ,WAAaC,GAAU,uBACrBzgB,KAAKob,KAAOqF,EAASrF,KACrBpb,KAAKygB,SAAWA,EAChBzgB,KAAK0gB,iBAAmB,K,8DAGVC,GACd3gB,KAAKygB,SAAShF,YAAY/D,UAAUrd,OAAOsmB,EAAW,GACtD3gB,KAAKygB,SAAS/H,WAAY,I,mCAGdkI,EAAQC,GACpB7gB,KAAKygB,SAAShF,YAAY/D,UAAUje,KAAK,CACvCqnB,QAASF,EACTG,QAASF,IAEX7gB,KAAKygB,SAAS/H,WAAY,I,oCAGbzB,EAAOxR,GACpBzF,KAAKygB,SAAShF,YAAYhE,OAAOhe,KAAK,CAAE+f,OAAQvC,EAAOxR,SACvDzF,KAAKygB,SAAS/H,WAAY,I,sCAGXsI,GACfhhB,KAAKygB,SAAShF,YAAYhE,OAAOpd,OAAO2mB,EAAQ,GAChDhhB,KAAKygB,SAAS/H,WAAY,I,oCAGbG,GACb7Y,KAAKygB,SAASlD,cAAc1E,K,4CAGPlZ,GACrBK,KAAKygB,SAASlC,sBAAsB5e,K,2CAGhBsX,GACpBjX,KAAKygB,SAAS5B,qBAAqB5H,K,+CAMnC,IAFA,IAAIgK,EAAY,KACZxD,EAAUzd,KAAKob,KAAKsC,kBACfF,EAAO,EAAGA,EAAOxd,KAAKob,KAAK+C,kBAAmBX,GAAQ,EAC7D,GAAIC,EAAQK,KAAKN,GAAMhG,SAAU,CAC/ByJ,EAAYzD,EACZ,MAGc,OAAdyD,GACEA,EAAY,EACdA,GAAa,EAEbA,EAAYjhB,KAAKob,KAAK+C,gBAAkB,EAE1CV,EAAQK,KAAKmD,GACbjhB,KAAKkhB,wBACLlhB,KAAK6e,qBAAqBpB,EAAQxG,QAElCjX,KAAKygB,SAASU,2B,+CAQhB,IAHA,IAAIC,EAAW,KACX3D,EAAUzd,KAAKob,KAAKsC,kBACpB2D,EAAOrhB,KAAKob,KAAK+C,kBACZX,EAAO6D,EAAO,EAAG7D,EAAO,EAAGA,GAAQ,EAC1C,GAAIC,EAAQK,KAAKN,GAAMhG,SAAU,CAC/B4J,EAAW5D,EACX,MAGa,OAAb4D,GACEA,EAAWC,EAAO,EACpBD,GAAY,EAEZA,EAAW,EAEb3D,EAAQK,KAAKsD,GACbphB,KAAKkhB,wBACLlhB,KAAK6e,qBAAqBpB,EAAQxG,QAElCjX,KAAKygB,SAASa,2B,0CAOhB,IAHiC,IAAhBC,IAAgB,yDAC7BN,EAAY,KACZxD,EAAUzd,KAAKob,KAAKsC,kBACfF,EAAO,EAAGA,EAAOxd,KAAKob,KAAK+C,kBAAmBX,GAAQ,EAC7D,GAAIC,EAAQK,KAAKN,GAAMhG,SAAU,CAC/ByJ,EAAYzD,EACZ,MAGJ,GAAkB,OAAdyD,EACEA,EAAY,EACdA,GAAa,EAEbA,EAAYjhB,KAAKob,KAAK+C,gBAAkB,EAEtCoD,GACFvhB,KAAKkhB,wBAEPlhB,KAAKwhB,cAAcP,GAAW,OACzB,CACDM,GACFvhB,KAAKkhB,wBAGP,IADA,IAAIO,EAAa,KACRjE,EAAOxd,KAAKob,KAAK+C,kBAAoB,EAAGX,GAAQ,EAAGA,GAAQ,EAClE,GAAIC,EAAQK,KAAKN,GAAMkE,UAAW,CAChCD,EAAajE,EACb,MAGJxd,KAAKwhB,cAAcC,GAAY,GAEjCzhB,KAAKygB,SAASpF,mBAAoB,EAClCrb,KAAKygB,SAAS/H,WAAY,I,0CAO1B,IAJiC,IAAhB6I,IAAgB,yDAC7BH,EAAW,KACX3D,EAAUzd,KAAKob,KAAKsC,kBACpB2D,EAAOrhB,KAAKob,KAAK+C,kBACZX,EAAO6D,EAAO,EAAG7D,GAAQ,EAAGA,GAAQ,EAC3C,GAAIC,EAAQK,KAAKN,GAAMhG,SAAU,CAC/B4J,EAAW5D,EACX,MAIJ,GADA/e,QAAQ+f,IAAI,gCAAiC4C,EAAUG,GACtC,OAAbH,EACEA,EAAWC,EAAO,EACpBD,GAAY,EAEZA,EAAW,EAETG,GACFvhB,KAAKkhB,wBAEPlhB,KAAKwhB,cAAcJ,GAAU,OACxB,CACLphB,KAAKkhB,wBAEL,IADA,IAAIO,EAAa,KACRjE,EAAO,EAAGA,EAAO6D,EAAO,EAAG7D,GAAQ,EAC1C,GAAIC,EAAQK,KAAKN,GAAMkE,UAAW,CAChCD,EAAajE,EACb,MAGJxd,KAAKwhB,cAAcC,GAAY,GAEjCzhB,KAAKygB,SAASpF,mBAAoB,EAClCrb,KAAKygB,SAAS/H,WAAY,I,4CAI1B,OAAO1Y,KAAKygB,SAASkB,wB,4CAIrB,OAAO3hB,KAAKygB,SAAST,wB,gCAGZ/mB,EAAGkB,GACZ6F,KAAKygB,SAAS9E,WAAWxhB,GAAG+c,MAAQje,EACpC+G,KAAKygB,SAAS9E,WAAW1iB,GAAGie,MAAQ/c,EACpC,IAAIynB,EAAQ5hB,KAAKygB,SAAS9E,WAAWxhB,GACrC6F,KAAKygB,SAAS9E,WAAWxhB,GAAK6F,KAAKygB,SAAS9E,WAAW1iB,GACvD+G,KAAKygB,SAAS9E,WAAW1iB,GAAK2oB,I,qCAK9B,IADA,IAAIC,EAAY,GACP5oB,EAAI,EAAGA,EAAI+G,KAAKygB,SAAS9E,WAAWxiB,OAAQF,GAAK,EACxD4oB,EAAUpoB,KAAKuG,KAAKygB,SAAS9E,WAAW1iB,GAAG6oB,WAE7C,OAAOD,I,+CAIP7hB,KAAKob,KAAKuD,yBACV3e,KAAKygB,SAAShF,YAAYjE,SAAWxX,KAAKob,KAAKgD,0BAC/Cpe,KAAKygB,SAASpF,mBAAoB,EAClCrb,KAAKygB,SAAS/H,WAAY,I,8CAI1B1Y,KAAKob,KAAK8F,wBACVlhB,KAAKygB,SAAShF,YAAYjE,SAAWxX,KAAKob,KAAKgD,0BAC/Cpe,KAAKygB,SAASnF,gBAAiB,EAC/Btb,KAAKygB,SAAS/H,WAAY,I,uCAGV8E,EAAMvV,GACtB,IAAI8Z,EAAM/hB,KAAKob,KAAKsC,gBAAgBF,GACpCuE,EAAIvK,SAAWvP,EACfjI,KAAKygB,SAASnF,gBAAiB,EAC/Btb,KAAKygB,SAAS/H,WAAY,I,0CAI1B,IADmB,EACfqJ,EAAM/hB,KAAKob,KAAKsC,kBADD,iBAEFpY,IAAEuI,MAAM7N,KAAKob,KAAK+C,oBAFhB,IAEnB,2BAAuD,KAA9CX,EAA8C,QACrDuE,EAAIjE,KAAKN,GAAM1F,WAAY,GAHV,8BAKnB9X,KAAKygB,SAASpF,mBAAoB,EAClCrb,KAAKygB,SAAS/H,WAAY,I,oCAGb8E,EAAMvV,GACnB,IAAI8Z,EAAM/hB,KAAKob,KAAKsC,gBAAgBF,GAChClY,IAAE0N,YAAY/K,KAChBA,GAAO8Z,EAAIvK,UAGbxX,KAAKgiB,iBAAiBxE,EAAMvV,GAC5BjI,KAAK0gB,iBAAmBzY,EAAMuV,EAAO,KACrCxd,KAAKygB,SAASnF,gBAAiB,EAC/Btb,KAAKygB,SAAS/H,WAAY,I,0CAGPzQ,GACnB,IAAK,IAAIuV,EAAO,EAAGA,EAAOxd,KAAKob,KAAK+C,kBAAmBX,GAAQ,EAC7Dxd,KAAKgiB,iBAAiBxE,EAAMvV,GAE9BjI,KAAK0gB,iBAAmB,KACxB1gB,KAAKygB,SAASnF,gBAAiB,EAC/Btb,KAAKygB,SAAS/H,WAAY,I,8CAGH8E,GACvB,IAAIuE,EAAM/hB,KAAKob,KAAKsC,gBAAgBF,GAChCvV,GAAO8Z,EAAIvK,SACfxX,KAAKgiB,iBAAiBxE,EAAMvV,GAC5BjI,KAAK0gB,iBAAmBzY,EAAMuV,EAAO,KACrCxd,KAAKygB,SAASnF,gBAAiB,EAC/Btb,KAAKygB,SAAS/H,WAAY,I,qDAGI8E,GAC9B,IAAIuE,EAAM/hB,KAAKob,KAAKsC,gBAAgBF,GAChCvV,GAAO8Z,EAAIvK,SACf,GAA8B,OAA1BxX,KAAK0gB,iBAA2B,CAClC,IAAIuB,EAAUjiB,KAAKob,KAAKsC,gBAAgB1d,KAAK0gB,kBAC7C,GAAIqB,EAAInE,aAAeqE,EAAQrE,WAG7B,IAFA,IAAIsE,EAAYngB,KAAK0G,IAAIzI,KAAK0gB,iBAAkBlD,GAC5C2E,EAAWpgB,KAAKqgB,IAAIpiB,KAAK0gB,iBAAkBlD,GACtCvkB,EAAIipB,EAAWjpB,EAAIkpB,EAAW,EAAGlpB,GAAK,EAC7C+G,KAAKgiB,iBAAiB/oB,GAAG,GAI/B+G,KAAK0gB,iBAAmBzY,EAAMuV,EAAO,KACrCxd,KAAKygB,SAASnF,gBAAiB,EAC/Btb,KAAKygB,SAAS/H,WAAY,I,qCAGZ2J,GAKd,IAJA,IAAIN,EAAM/hB,KAAKob,KAAKsC,gBAAgB2E,GAChCC,EAAKP,EAAIO,GACTjB,EAAOrhB,KAAKob,KAAK+C,kBACjBnkB,EAAS,GACJwjB,EAAO6E,EAAY7E,GAAQ,EAAGA,GAAQ,EAAG,CAEhD,GADAuE,EAAIjE,KAAKN,GACLuE,EAAIO,KAAOA,EACb,MAEFtoB,EAAOP,KAAK+jB,GAEd,IAAK,IAAIA,EAAO6E,EAAa,EAAG7E,EAAO6D,EAAM7D,GAAQ,EAAG,CAEtD,GADAuE,EAAIjE,KAAKN,GACLuE,EAAIO,KAAOA,EACb,MAEFtoB,EAAOP,KAAK+jB,GAEd,OAAOxjB,I,+CAGiBqoB,GAA6B,IAAjBE,IAAiB,yDACrDviB,KAAKkhB,wBACL,IAFqD,EAEjDsB,EAAUxiB,KAAKyiB,eAAeJ,GAC9BN,EAAM/hB,KAAKob,KAAKsC,gBAAgB2E,GAHiB,iBAIpCG,GAJoC,IAIrD,2BAA0B,KAAjBhF,EAAiB,QACxBuE,EAAIjE,KAAKN,GAAMhG,SAAW+K,GALyB,8BAOrDviB,KAAKygB,SAASnF,gBAAiB,EAC/Btb,KAAKygB,SAAS/H,WAAY,I,+CAGF2J,GACxB,IAAIG,EAAUxiB,KAAKyiB,eAAeJ,GAC9BN,EAAM/hB,KAAKob,KAAKsC,gBAAgB2E,GAChCK,EAAiBpd,IAAEqd,MACrBrd,IAAEsd,IAAIJ,GAAS,SAAAhF,GAAI,OAAKuE,EAAIjE,KAAKN,GAAMhG,aAErCkL,EACF1iB,KAAK6iB,yBAAyBR,GAAY,GAE1CriB,KAAK6iB,yBAAyBR,GAAY,K,iDAU5C,IALA,IAAI5E,EAAUzd,KAAKob,KAAKsC,kBACpBzS,EAAU,GACV6X,EAAqB,EACrBC,EAA2B,EAC3BC,EAAiB,EACZxF,EAAO,EAAGA,EAAOxd,KAAKob,KAAK+C,kBAAmBX,GAAQ,EAC7DC,EAAQK,KAAKN,GACTC,EAAQjG,WACVsL,GAAsB,EACtB7X,EAAQxR,KAAK+jB,GACTC,EAAQ3F,YACViL,GAA4B,IAG5BtF,EAAQ3F,YACVkL,GAAkB,GAItB,GAA2B,IAAvBF,EAA0B,CAC5B,IAAIG,GAAiB,EACjBD,EAAiB,IACnBC,GAAiB,GAEnB,IAAK,IAAIzF,EAAO,EAAGA,EAAOxd,KAAKob,KAAK+C,kBAAmBX,GAAQ,EAC7DC,EAAQK,KAAKN,GACbC,EAAQ3F,UAAYmL,MAEjB,CACL,IAAIC,GAAiB,EACjBH,EAA2B,IAC7BG,GAAiB,GAHd,uBAKYjY,GALZ,IAKL,2BAA0B,KAAjBuS,EAAiB,QACxBC,EAAQK,KAAKN,GACbC,EAAQ3F,UAAYoL,GAPjB,+BAWPljB,KAAKygB,SAASpF,mBAAoB,EAClCrb,KAAKygB,SAAS/H,WAAY,I,+CAQ1B,IAJA,IAAIzN,EAAU,GAEVkY,EAAY,EACZ1F,EAAUzd,KAAKob,KAAKsC,kBACfF,EAAO,EAAGA,EAAOxd,KAAKob,KAAK+C,kBAAmBX,GAAQ,EAC7DC,EAAQK,KAAKN,GACTC,EAAQjG,WACVvM,EAAU3F,IAAE8d,OAAOnY,EAASjL,KAAKob,KAAKiI,cAAc7F,IACpD2F,GAAa,GAIjB,GAAkB,IAAdA,EAAiB,CACnB1kB,QAAQ+f,IAAI,mDACZ,IAAIjK,EAAMvU,KAAKygB,SAAShF,YAAYtE,aAAavO,MACjDqC,EAAUjL,KAAKob,KAAKkI,qBAAqB/O,GAG3C,GAAuB,IAAnBtJ,EAAQ9R,OAAc,CACxB,IAAI8d,EAAQjX,KAAKygB,SAAShF,YAAYxE,MAClCuG,EAAOxd,KAAKob,KAAK4C,aAAa/G,GAAOuG,KACzCvS,EAAU3F,IAAE8d,OAAOnY,EAASjL,KAAKob,KAAKiI,cAAc7F,IAEtD,IAxBwB,EAwBpB+F,EAAa,EAxBO,iBAyBPtY,GAzBO,IAyBxB,2BAA0B,KAAjBuS,EAAiB,QACpBC,EAAQK,KAAKN,GAAM1F,YACrByL,GAAc,IA3BM,8BA8BxB,IAAIC,EAAcD,EAAatY,EAAQ9R,OAEvC6G,KAAKob,KAAKwD,uBAAuB3T,EAASuY,GAC1CxjB,KAAKygB,SAAShF,YAAYjE,SAAWxX,KAAKob,KAAKgD,0BAC/Cpe,KAAKygB,SAAS/H,WAAY,EAC1B1Y,KAAKygB,SAASpF,mBAAoB,I,wCAIlC,OAAOrb,KAAKygB,SAASgD,oB,iCAGX9jB,GACVK,KAAKygB,SAASiD,WAAW/jB,K,yCAIzB,SAASgkB,EAAW7hB,EAAGc,GACrB,OAAOd,EAAEoV,MAAQtU,EAAEsU,MAGrBlX,KAAKygB,SAAS9E,WAAW+C,KAAKiF,GAC9B,IAAK,IAAI1qB,EAAI,EAAGA,EAAI+G,KAAKygB,SAAS9E,WAAWxiB,OAAQF,GAAK,EACxD+G,KAAKygB,SAAS9E,WAAW1iB,GAAGie,MAAQje,I,6CAIhB4oB,GACtB,IAAK,IAAI5oB,EAAI,EAAGA,EAAI4oB,EAAU1oB,OAAQF,GAAK,EAAG,CAC5C,IAAI4f,EAAO,IAAI9B,GACf8B,EAAK+K,YAAY/B,EAAU5oB,IACX,gBAAZ4f,EAAK7B,IAGThX,KAAKygB,SAASjE,SAAS3D,GAEzB7Y,KAAK6jB,qB,sGAGqBC,EAAaC,G,iGACjC/jB,KAAKob,KAAK4I,qBAAqBF,EAAaC,G,OAElD/jB,KAAKygB,SAASlT,QACdvN,KAAKygB,SAAS/H,WAAY,EAC1B1Y,KAAKygB,SAASjF,mBAAoB,E,8IAGvBoC,EAAYD,GACvB3d,KAAKob,KAAKzD,eAAexe,OAAS,EAClC6G,KAAKkhB,wBACL,IAH8B,EAG1BjK,EAAQ,KAHkB,iBAIFjX,KAAKob,KAAKxO,OAAOiF,WAJf,IAI9B,2BAAwD,iCAA9CgM,EAA8C,KAAtCnQ,EAAsC,KAClD8P,EAAO9P,EAAMzC,QAAQ,GACrBwS,EAAUzd,KAAKob,KAAKsC,gBAAgBF,GACpCC,EAAQG,aAAeA,GAAcH,EAAQE,QAAUA,IACzD3d,KAAKob,KAAKzD,eAAele,KAAKokB,GAC9B5G,EAAQwG,EAAQxG,QATU,8BAYzB3R,IAAEC,MAAM0R,IACXjX,KAAKikB,0BAA0BhN,K,oCAIpBiN,EAAQC,GACrB1lB,QAAQ+f,IAAI,2BAA4B0F,EAAQC,GAChDnkB,KAAKygB,SAAShF,YAAY5D,KAAKqM,GAAUC,EACzCnkB,KAAKygB,SAASjF,mBAAoB,EAClCxb,KAAKygB,SAAS/H,WAAY,I,oCAGbwL,GACb,OAAOlkB,KAAKygB,SAAShF,YAAY5D,KAAKqM,K,uCAGtBA,GAChB,IAAIjc,EAAMjI,KAAKokB,cAAcF,GAC7BlkB,KAAKqkB,cAAcH,GAASjc,K,sCAI5BjI,KAAKygB,SAAS/H,WAAY,I,8BAGnBpB,EAAOD,GACd,IAAIF,EAAenX,KAAKygB,SAAShF,YAAYtE,aAC7CA,EAAaG,MAAQA,EACrBH,EAAaE,OAASA,EACtBrX,KAAKygB,SAASjF,mBAAoB,EAClCxb,KAAKygB,SAAS/H,WAAY,I,qCAGZ2D,GACd,IAAIzZ,EAAI5C,KAAKob,KAAK7C,KAAKC,OAAO6D,GAC9Brc,KAAKob,KAAK7C,KAAKC,OAAO6D,IAASzZ,EAC/B5C,KAAKob,KAAK7C,KAAKG,WAAY,EAE3B1Y,KAAKygB,SAAShF,YAAYlD,KAAKC,OAASlT,IAAEwJ,UAAU9O,KAAKob,KAAK7C,KAAKC,QACnExY,KAAKygB,SAAS/H,WAAY,EAE1B1Y,KAAKygB,SAASjF,mBAAoB,EAClCxb,KAAKygB,SAASnF,gBAAiB,I,oCAGlB7C,GACbzY,KAAKob,KAAK7C,KAAKE,QAAUA,EACzBzY,KAAKob,KAAK7C,KAAKG,WAAY,EAC3B1Y,KAAKygB,SAAShF,YAAYlD,KAAKE,QAAUA,EACrCpT,EAAOrF,KAAKygB,SAAS3E,cACvB9b,KAAKygB,SAAS3E,WAAWvD,KAAKE,QAAUA,GAEtCpT,EAAOrF,KAAKygB,SAAShE,kBACvBzc,KAAKygB,SAAShE,eAAelE,KAAKE,QAAUA,GAE9CzY,KAAKygB,SAASjF,mBAAoB,EAClCxb,KAAKygB,SAAS/H,WAAY,I,8BAI1B,IADO,EACHhB,EAAY1X,KAAKygB,SAAShF,YAAY/D,UADnC,iBAEOpS,IAAEgf,QAAQhf,IAAEuI,MAAM6J,EAAUve,UAFnC,IAEP,2BAAoD,KAA3CF,EAA2C,QAClD+G,KAAKukB,eAAetrB,IAHf,8BAKP,IALO,EAKHwe,EAASzX,KAAKygB,SAAShF,YAAYhE,OALhC,iBAMOnS,IAAEgf,QAAQhf,IAAEuI,MAAM4J,EAAOte,UANhC,IAMP,2BAAiD,KAAxCF,EAAwC,QAC/C+G,KAAKwkB,gBAAgBvrB,IAPhB,8BASP+G,KAAK2e,yBACL3e,KAAKkhB,0B,wCAIL,OAAOlhB,KAAKygB,SAAS5E,e,sCAGNvZ,GACftC,KAAKygB,SAAS5E,aAAevZ,EAC7BtC,KAAKygB,SAASjF,mBAAoB,EAClCxb,KAAKygB,SAAS/H,WAAY,I,sCASXkF,GAWf,IAVA,IAAIG,EAAO/d,KAAKob,KAAK4C,eACjB+D,EAAM/hB,KAAKob,KAAKsC,kBAEhB+G,EAAa,KACbC,EAAW,KACXrY,EAAY,KACZC,EAAU,KACVyB,EAAc,KACdC,EAAY,KAEPiJ,EAAQ,EAAGA,EAAQjX,KAAKob,KAAKiC,eAAgBpG,GAAS,EAC7D8G,EAAK9G,MAAQA,EACb8K,EAAIvE,KAAOO,EAAKP,KACZuE,EAAInE,aAAeA,IACF,OAAf6G,IACFA,EAAaxN,GAEfyN,EAAWzN,EAAQ,EACD,OAAd5K,IACFA,EAAY0R,EAAKP,MAEnBlR,EAAUyR,EAAKP,KAAO,GAtBC,uBA0BRlY,IAAEuI,MAAM7N,KAAKob,KAAKxO,OAAOzT,SA1BjB,IA0B3B,2BAAqD,OAA5C0kB,EAA4C,QAC/CnQ,EAAQ1N,KAAKob,KAAKxO,OAAOiR,GADsB,iBAElCnQ,EAAMzC,SAF4B,IAEnD,2BAAgC,KAAvBuS,EAAuB,QAC1BmH,EAAanH,EAAMnR,EAAWC,KAC5BhH,IAAEC,MAAMwI,IACVA,EAAc8P,EACd7P,EAAY6P,EAAS,GAErB7P,EAAY6P,EAAS,IARwB,gCA1B1B,8BAwC3B,SAAS8G,EAAc1rB,EAAGoS,EAAQC,GAChC,OAAOrS,GAAKoS,GAAUpS,EAAIqS,EAG5B,SAASsZ,EAAe3rB,EAAGoS,EAAQC,GACjC,OAAOrS,GAAKqS,EAAOrS,GAAKqS,EAAOD,GAAUpS,EAG3C,SAAS4rB,EAAahM,GACpBvT,IAAEuC,OACAgR,EAAKlB,eACLrS,IAAEwf,QAAQH,EAAc5W,EAAaC,IAEvC6K,EAAKlB,eAAiBrS,IAAEsd,IACtB/J,EAAKlB,eACLrS,IAAEwf,QAAQF,EAAe7W,EAAaC,IAGxC1I,IAAEuC,OACAgR,EAAKnB,WACL,SAAAva,GAAC,OACCwnB,EAAaxnB,EAAE2jB,QAAS2D,EAAYC,IACpCC,EAAaxnB,EAAE4jB,QAAS0D,EAAYC,MAdd,uBAgBZ7L,EAAKnB,WAhBO,IAgB1B,2BAA8B,KAArBva,EAAqB,QAC5BA,EAAE2jB,QAAU8D,EAAcznB,EAAE2jB,QAAS2D,EAAYC,GACjDvnB,EAAE4jB,QAAU6D,EAAcznB,EAAE4jB,QAAS0D,EAAYC,IAlBzB,8BAqB1Bpf,IAAEuC,OAAOgR,EAAKrB,UAAU,SAAAgG,GAAI,OAAImH,EAAanH,EAAMnR,EAAWC,MAC9DuM,EAAKrB,SAAWlS,IAAEsd,IAAI/J,EAAKrB,UAAU,SAAAgG,GAAI,OACvCoH,EAAcpH,EAAMnR,EAAWC,MAGjChH,IAAEuC,OAAOgR,EAAKpB,QAAQ,SAAA5c,GAAC,OAAI8pB,EAAa9pB,EAAEoc,MAAOwN,EAAYC,MA1BnC,uBA2BZ7L,EAAKpB,QA3BO,IA2B1B,2BAA2B,KAAlB5c,EAAkB,QACzBA,EAAEoc,MAAQ2N,EAAc/pB,EAAEoc,MAAOwN,EAAYC,IA5BrB,+BAgC5Bpf,IAAEuC,OACA7H,KAAKob,KAAKzD,eACVrS,IAAEwf,QAAQH,EAAc5W,EAAaC,IAEvChO,KAAKob,KAAKzD,eAAiBrS,IAAEsd,IAC3B5iB,KAAKob,KAAKzD,eACVrS,IAAEwf,QAAQF,EAAe7W,EAAaC,IAGxC6W,EAAY7kB,KAAKygB,SAAShF,aAzFC,uBA0FVzb,KAAKygB,SAAS9E,YA1FJ,IA0F3B,2BAA2C,KAAlC9C,EAAkC,QACzCgM,EAAYhM,IA3Fa,8BA8F3B,IAAIkM,EAAcL,EAAWD,EACzBO,EAAQhlB,KAAKob,KAAKiC,eAClB4H,EAAWD,EAAQD,EACnBG,EAAYF,EAAQN,EAEpBS,EAAa7Y,EAAUD,EACvBgV,EAAOrhB,KAAKob,KAAK+C,kBACjBiH,EAAU/D,EAAO8D,EACjBE,EAAWhE,EAAO/U,EAEtBtM,KAAKob,KAAKkK,UAAUC,WAAWd,EAAYC,EAAUQ,GACrDllB,KAAKob,KAAKkK,UAAU3O,OAASoO,EAE7B,IAAK,IAAI9N,EAAQ,EAAGA,EAAQgO,EAAUhO,GAAS,EAC7C8G,EAAK9G,MAAQA,EACT8G,EAAKP,MAAQnR,IACf0R,EAAKP,MAAQ2H,GAIjB,IAAK,IAAI3H,EAAO,EAAGA,EAAO4H,EAAS5H,GAAQ,EACzC,GAAIA,GAAQnR,EAAW,CACrB,IAAImZ,EAAUhI,EAAO2H,EACjBK,KAAWxlB,KAAKob,KAAKqK,gBACvBzlB,KAAKob,KAAKqK,cAAcjI,GAAQxd,KAAKob,KAAKqK,cACxCD,GACAnjB,SAKR,IAAK,IAAImb,EAAO4H,EAAS5H,EAAO6D,EAAM7D,GAAQ,SACrCxd,KAAKob,KAAKqK,cAAcjI,GAGjCxd,KAAKob,KAAKsK,aAAaH,WAAWlZ,EAAWC,EAAS+Y,GACtDrlB,KAAKob,KAAKsK,aAAa/O,OAASwO,EAChCnlB,KAAKob,KAAKuK,OAAOtrB,OAAOgS,EAAW8Y,GAEnC,IAAK,IAAI3H,EAAO,EAAGA,EAAO4H,EAAS5H,GAAQ,EACzCuE,EAAIvE,KAAOA,EACPuE,EAAI9K,OAASwN,IACf1C,EAAI9K,OAAS8N,EACbhH,EAAK9G,MAAQ8K,EAAI9K,OAEfjX,KAAKob,KAAKsK,aAAaE,WAAWpI,IAASiH,IAC7CzkB,KAAKob,KAAKsK,aAAaE,WAAWpI,IAASuH,GAEzChD,EAAInE,YAAcA,IACpBmE,EAAInE,YAAc,GAWtB,GAPA5d,KAAKob,KAAKkB,aAAajiB,OAAOujB,EAAY,GAC1C5d,KAAKob,KAAKwC,YAAc,EAExB5d,KAAKob,KAAKyK,qBAEV7lB,KAAKob,KAAK0K,4BAEN9lB,KAAKob,KAAKc,UAAW,CACvBlc,KAAKygB,SAAS9E,WAAWxiB,OAAS,EADX,uBAERmM,IAAE2U,KAAKja,KAAKygB,SAAS/E,qBAFb,IAEvB,2BAAyD,KAAhD1E,EAAgD,eAChDhX,KAAKygB,SAAS/E,mBAAmB1E,IAHnB,8BAKvBhX,KAAKygB,SAAShF,YAAc,IAAI1E,GAChC/W,KAAKygB,SAAS3E,WAAa,KAC3B9b,KAAKygB,SAASlF,0BAA2B,EACzCvb,KAAKygB,SAAS1E,aAAe,OAE7B/b,KAAKygB,SAASpF,mBAAoB,EAClCrb,KAAKygB,SAASnF,gBAAiB,EAEjCtb,KAAKygB,SAASjF,mBAAoB,EAClCxb,KAAKygB,SAAS/H,WAAY,I,gCAIrB1Y,KAAKob,KAAKc,YACblc,KAAKud,cAAcvd,KAAKygB,SAASlE,iCACjCvc,KAAKygB,SAAS/H,WAAY,K,gDAIHzB,GACzB,IAAI8G,EAAO/d,KAAKob,KAAK4C,aAAa/G,GAC9B8F,EAAc/c,KAAKob,KAAK2K,iCAAiChI,EAAKP,MAC9D3E,EAAO7Y,KAAKygB,SAASnD,mBAAmBP,GAC5ClE,EAAKlB,eAAiB3X,KAAKygB,SAASvC,kCAClCH,EAAKP,MAEPxd,KAAKud,cAAc1E,K,wCAId7Y,KAAKob,KAAKc,YACblc,KAAKud,cAAcvd,KAAKygB,SAASuF,+BACjChmB,KAAKygB,SAAS/H,WAAY,K,mCAIhBoG,EAAgBC,EAAgBC,EAAgBC,GAC5Djf,KAAKygB,SAASR,aACZnB,EACAC,EACAC,EACAC,K,kCAISgH,GACX,GAAI3gB,IAAEC,MAAM0gB,GACVjmB,KAAKkhB,wBACLlhB,KAAKkmB,cACA,CACL,IAAInI,EAAO/d,KAAKob,KAAK4C,aAAaiI,GAC9BxI,EAAUzd,KAAKob,KAAKsC,gBAAgBK,EAAKP,MACzCG,EAAQF,EAAQE,MAChBC,EAAaH,EAAQG,WACrBuI,GAAsB,EAC1B,GAAgC,UAA5BnmB,KAAKygB,SAASjB,UAAuB,CACvC,GAAIxf,KAAKob,KAAKzD,eAAexe,OAAS,EAAG,CACvC,IAAI0kB,EAAS7d,KAAKob,KAAKzD,eAAe,GAClC6F,EAAOxd,KAAKob,KAAKxO,OAAOiR,GAAQ5S,QAAQ,GACxCwS,EAAUzd,KAAKob,KAAKsC,gBAAgBF,GACpCC,EAAQG,aAAeA,GAAcH,EAAQE,QAAUA,IACzDwI,GAAsB,GAG1B,IAAKA,EAGH,OAFAnmB,KAAKkhB,6BACLlhB,KAAKikB,0BAA0BlG,EAAK9G,OAIxCjX,KAAKkhB,wBACLlhB,KAAKwhB,cAAczD,EAAKP,MAAM,GAC9Bxd,KAAK6e,qBAAqBoH,GAE5BjmB,KAAKygB,SAASnF,gBAAiB,EAC/Btb,KAAKygB,SAASjF,mBAAoB,M,KCnhDhC4K,I,yHACJ,WAAajY,GAAU,uBACrBnO,KAAKmO,SAAWA,EAChBnO,KAAKqmB,QAAU,IACfrmB,KAAKsmB,IAAM,EACXtmB,KAAKumB,OAAS,EAAMvmB,KAAKsmB,IACzBtmB,KAAKwmB,OAAS,CAAC,EAAK,EAAK,GACzBxmB,KAAKymB,OAAS,CAAC,EAAK,EAAK,GACzBzmB,KAAK0mB,MAAQ,CAAC,EAAK,EAAK,GACxB1mB,KAAK2mB,MAAQ,CAAC,EAAG,EAAG,GAEpB,IAAK,IAAIC,EAAO,EAAGA,EAAO,EAAGA,IAAQ,CACnC,IAAK,IAAIxX,EAAU,EAAGA,EAAUpP,KAAKmO,SAAShV,OAAQiW,GAAW,EAC3DpP,KAAKymB,OAAOG,GAAQ5mB,KAAKmO,SAASiB,GAASwX,KAC7C5mB,KAAKymB,OAAOG,GAAQ5mB,KAAKmO,SAASiB,GAASwX,IAEzC5mB,KAAKwmB,OAAOI,GAAQ5mB,KAAKmO,SAASiB,GAASwX,KAC7C5mB,KAAKwmB,OAAOI,GAAQ5mB,KAAKmO,SAASiB,GAASwX,IAG/C5mB,KAAKymB,OAAOG,IAAS5mB,KAAKqmB,QAC1BrmB,KAAKwmB,OAAOI,IAAS5mB,KAAKqmB,QAC1BrmB,KAAK0mB,MAAME,GAAQ5mB,KAAKwmB,OAAOI,GAAQ5mB,KAAKymB,OAAOG,GACnD5mB,KAAK2mB,MAAMC,GAAQ7kB,KAAK8kB,KAAK7mB,KAAK0mB,MAAME,GAAQ5mB,KAAKumB,QAGvDvmB,KAAK8mB,MAAQ,GACb9mB,KAAK+mB,OAAS,GACd,IAAK,IAAI3X,EAAU,EAAGA,EAAUpP,KAAKmO,SAAShV,OAAQiW,IAAW,CAC/D,IAAIJ,EAAShP,KAAKmO,SAASiB,GACvB4X,EAAQhnB,KAAKinB,mBAAmBjY,GACpChP,KAAK+mB,OAAOttB,KAAKutB,GACjB,IAAIE,EAAOlnB,KAAKmnB,iBAAiBH,GAC3BE,KAAQlnB,KAAK8mB,QACjB9mB,KAAK8mB,MAAMI,GAAQ,IAErBlnB,KAAK8mB,MAAMI,GAAMztB,KAAK2V,I,kEAINJ,GAElB,IADA,IAAIhV,EAAS,GACJ4sB,EAAO,EAAGA,EAAO,EAAGA,IAC3B5sB,EAAOP,KAAKsI,KAAKqlB,OAAOpY,EAAO4X,GAAQ5mB,KAAKymB,OAAOG,IAAS5mB,KAAKumB,SAEnE,OAAOvsB,I,uCAGSO,GAChB,OAAOA,EAAE,GAAKyF,KAAK2mB,MAAM,GAAK3mB,KAAK2mB,MAAM,GAAKpsB,EAAE,GAAKyF,KAAK2mB,MAAM,GAAKpsB,EAAE,K,sCAGxD8sB,EAAOrY,EAAQI,GAU9B,IATA,IAAIkY,EAActnB,KAAKinB,mBAAmBjY,GAEtCuY,EAAcxlB,KAAKqgB,IAAI,EAAGkF,EAAY,GAAK,GAC3CE,EAAYzlB,KAAK0G,IAAIzI,KAAK2mB,MAAM,GAAIW,EAAY,GAAK,GACrDG,EAAc1lB,KAAKqgB,IAAI,EAAGkF,EAAY,GAAK,GAC3CI,EAAY3lB,KAAK0G,IAAIzI,KAAK2mB,MAAM,GAAIW,EAAY,GAAK,GACrDK,EAAc5lB,KAAKqgB,IAAI,EAAGkF,EAAY,GAAK,GAC3CM,EAAY7lB,KAAK0G,IAAIzI,KAAK2mB,MAAM,GAAIW,EAAY,GAAK,GAEhDO,EAASN,EAAaM,EAASL,EAAWK,IACjD,IAAK,IAAIC,EAASL,EAAaK,EAASJ,EAAWI,IACjD,IAAK,IAAIC,EAASJ,EAAaI,EAASH,EAAWG,IAAU,CAC3D,IAAIb,EAAOlnB,KAAKmnB,iBAAiB,CAACU,EAAQC,EAAQC,IAClD,GAAIb,KAAQlnB,KAAK8mB,MAEf,IADA,IAAIkB,EAAOhoB,KAAK8mB,MAAMI,GAEhBe,EAAgB,EACpBA,EAAgBD,EAAK7uB,OACrB8uB,IACA,CACA,IAAIC,EAAUF,EAAKC,GACnBZ,EAAM5tB,KAAK,CAAC2V,EAAS8Y,Q,sCAU/B,IADA,IAAIb,EAAQ,GACHjY,EAAU,EAAGA,EAAUpP,KAAKmO,SAAShV,OAAQiW,IACpDpP,KAAKmoB,gBAAgBd,EAAOrnB,KAAKmO,SAASiB,GAAUA,GAEtD,OAAOiY,I,2CAGarY,EAAQI,GAC5B,IAAIiY,EAAQ,GAEZ,OADArnB,KAAKmoB,gBAAgBd,EAAOrY,EAAQI,GAC7BiY,M,6DCtGX,SAASe,GAAeC,EAAWC,GACjC,OAAQD,GACN,IAAK,OACH,OAAO,IAAIE,UAAUD,GACvB,IAAK,QACH,OAAO,IAAIE,WAAWF,GACxB,IAAK,QACH,OAAO,IAAI9X,WAAW8X,GACxB,IAAK,QACH,OAAO,IAAIG,WAAWH,GACxB,IAAK,SACH,OAAO,IAAII,YAAYJ,GACzB,IAAK,SACH,OAAO,IAAInS,YAAYmS,GACzB,IAAK,UACH,OAAO,IAAI/X,aAAa+X,GAC1B,QACE,MAAM,IAAIvsB,MAAM,sBAAwBssB,I,OAQxCM,G,WAKJ,WAAaC,EAAQC,GAAM,uBAEzB7oB,KAAK7G,OAAS,EAGd6G,KAAK2W,MAAQ,EAEb3W,KAAK8oB,QAAUF,EAEXG,OAAOC,UAAUH,GACnB7oB,KAAKipB,MAAMJ,GAEX7oB,KAAKipB,MAAM,G,qDAQRJ,GACL7oB,KAAK7G,OAAS0vB,EACd7oB,KAAK2W,MAAQ,EAFF,uBAIO3W,KAAK8oB,SAJZ,IAIX,2BAAgC,KAAvBI,EAAuB,QAC9BlpB,KAAKmpB,WAAL,MAAAnpB,KAAA,gBAAmBkpB,KALV,iC,iCAgBDxsB,EAAMmsB,EAAMvsB,GACtB0D,KAAKtD,GAAQ0rB,GAAc9rB,EAAM0D,KAAK7G,OAAS0vB,K,+BAUvCnsB,EAAMmsB,EAAMvsB,GACpB0D,KAAK8oB,QAAQrvB,KAAK,CAACiD,EAAMmsB,EAAMvsB,IAC/B0D,KAAKmpB,WAAWzsB,EAAMmsB,EAAMvsB,K,6BAOtBusB,GAGN7oB,KAAK7G,OAAS4I,KAAKqlB,MAAMyB,GAAQ,GACjC7oB,KAAK2W,MAAQ5U,KAAK0G,IAAIzI,KAAK2W,MAAO3W,KAAK7G,QAEvC,IAAK,IAAIF,EAAI,EAAGmwB,EAAKppB,KAAK8oB,QAAQ3vB,OAAQF,EAAImwB,IAAMnwB,EAAG,CACrD,IAAMyD,EAAOsD,KAAK8oB,QAAQ7vB,GAAG,GACvBowB,EAAWrpB,KAAK8oB,QAAQ7vB,GAAG,GAC3BqvB,EAAYtoB,KAAK7G,OAASkwB,EAC1BC,EAAW,IAAItpB,KAAKtD,GAAM6sB,YAAYjB,GAExCtoB,KAAKtD,GAAMvD,OAASmvB,EACtBgB,EAAS3U,IAAI3U,KAAKtD,GAAM8sB,SAAS,EAAGlB,IAEpCgB,EAAS3U,IAAI3U,KAAKtD,IAEpBsD,KAAKtD,GAAQ4sB,K,mCAUf,GAAItpB,KAAK2W,OAAS3W,KAAK7G,OAAQ,CAC7B,IAAM0vB,EAAO9mB,KAAKqlB,MAAoB,IAAdpnB,KAAK7G,QAC7B6G,KAAKypB,OAAO1nB,KAAKqgB,IAAI,IAAKyG,O,kCAQ5B7oB,KAAK2W,OAAS,EACd3W,KAAK0pB,e,+BAUGC,EAAOC,EAAYC,EAAa1wB,GACxC,IAAK,IAAIF,EAAI,EAAGmwB,EAAKppB,KAAK8oB,QAAQ3vB,OAAQF,EAAImwB,IAAMnwB,EAMlD,IALA,IAAMyD,EAAOsD,KAAK8oB,QAAQ7vB,GAAG,GACvBowB,EAAWrpB,KAAK8oB,QAAQ7vB,GAAG,GAC3B6wB,EAAY9pB,KAAKtD,GACjBqtB,EAAaJ,EAAMjtB,GAEhBvC,EAAI,EAAGA,EAAIhB,IAAUgB,EAG5B,IAFA,IAAM6vB,EAAYX,GAAYO,EAAazvB,GACrC8vB,EAAaZ,GAAYQ,EAAc1vB,GACpCsH,EAAI,EAAGA,EAAI4nB,IAAY5nB,EAC9BqoB,EAAUE,EAAYvoB,GAAKsoB,EAAWE,EAAaxoB,K,iCAY/CyoB,EAAcC,EAAchxB,GACtC,IAAK,IAAIF,EAAI,EAAGmwB,EAAKppB,KAAK8oB,QAAQ3vB,OAAQF,EAAImwB,IAAMnwB,EAKlD,IAJA,IAAMyD,EAAOsD,KAAK8oB,QAAQ7vB,GAAG,GACvBowB,EAAWrpB,KAAK8oB,QAAQ7vB,GAAG,GAC3B6wB,EAAY9pB,KAAKtD,GAEdvC,EAAI,EAAGA,EAAIhB,IAAUgB,EAG5B,IAFA,IAAMiwB,EAAcf,GAAYa,EAAe/vB,GACzCkwB,EAAchB,GAAYc,EAAehwB,GACtCsH,EAAI,EAAGA,EAAI4nB,IAAY5nB,EAC9BqoB,EAAUM,EAAc3oB,GAAKqoB,EAAUO,EAAc5oB,K,2BAWvD6oB,GACJ,IAAMC,EAAYvqB,KACZwqB,EAAW,IAAIxqB,KAAKupB,YAAYvpB,KAAK8oB,QAAS,GAEpD,SAAS2B,EAAMC,EAAQC,GACjBD,IAAWC,IACfH,EAASI,SAASL,EAAW,EAAGG,EAAQ,GACxCH,EAAUhF,WAAWmF,EAAQC,EAAQ,GACrCJ,EAAUK,SAASJ,EAAUG,EAAQ,EAAG,IAG1C,SAASE,EAAWtkB,EAAMukB,GACxB,GAAIvkB,EAAOukB,EAAO,CAChB,IAAIC,EAAQhpB,KAAKsF,OAAOd,EAAOukB,GAAS,GACpCE,EAAUzkB,EACV0kB,EAAWH,EACf,EAAG,CACD,MAAOR,EAAgBU,EAASD,GAAS,EACvCC,GAAW,EAEb,MAAOV,EAAgBW,EAAUF,GAAS,EACxCE,GAAY,EAEVD,GAAWC,IACTD,IAAYD,EACdA,EAAQE,EACCA,IAAaF,IACtBA,EAAQC,GAEVP,EAAKO,EAASC,GACdD,GAAW,EACXC,GAAY,SAEPD,GAAWC,GACpBJ,EAAUtkB,EAAM0kB,GAChBJ,EAAUG,EAASF,IAIvBD,EAAU,EAAG7qB,KAAK2W,MAAQ,K,8BAO1B3W,KAAK2W,MAAQ,I,uCAON3W,KAAK7G,cACL6G,KAAK2W,MAEZ,IAAK,IAAI1d,EAAI,EAAGmwB,EAAKppB,KAAK8oB,QAAQ3vB,OAAQF,EAAImwB,IAAMnwB,EAAG,CACrD,IAAMyD,EAAOsD,KAAK8oB,QAAQ7vB,GAAG,UACtB+G,KAAKtD,Q,KAKHisB,MChPTuC,GAAkB,CACtB,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEIC,GAAc,CAAC,KAAM,KAAM,KAAM,KAAM,IAAK,IAAK,IAAK,KACtDC,GAAc,CAAC,KAAM,KAAM,KAAM,KAAM,IAAK,IAAK,IAAK,KAItDC,GAAQ,IAAIjpB,OAAY,SACxBkpB,GAAO,IAAIlpB,OAAY,SACvBmpB,GAAS,IAAInpB,OAAY,UACzBopB,GAAS,IAAIppB,OAAY,SACzBqpB,GAAO,IAAIrpB,OAAY,UACvBspB,GAAM,IAAItpB,OAAY,UACtBupB,GAAW,IAAIvpB,OAAY,UAE7BwpB,GAAgB,CAClBC,EAAG,SACHC,EAAG,SACHC,EAAG,SACHC,EAAG,IACHC,EAAG,SACHC,EAAG,QACHC,EAAG,MACHC,GAAI,MACJC,GAAI,QACJC,EAAG,QACHC,GAAI,SACJC,GAAI,QACJC,GAAI,QACJC,GAAI,SACJC,GAAI,QACJC,GAAI,SACJC,GAAI,SACJC,GAAI,U,kBAGaxnB,IAAEynB,QAAQnB,K,IAA7B,8BAA6C,mCAAnCnqB,GAAmC,MAAhCa,GAAgC,MAC3CspB,GAAcnqB,IAAK,IAAIW,OAAYE,K,kCAGrC,SAAS0qB,GAAY1K,GACnB,MAAW,MAAPA,EACKiJ,GACS,MAAPjJ,EACFgJ,GACS,MAAPhJ,EACFkJ,GACS,MAAPlJ,EACF+I,GACS,MAAP/I,EACFoJ,GAEFD,GAGT,IAAMwB,GAAU,CACdC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,EAAG,IACHC,EAAG,IACHC,EAAG,IACH9C,EAAG,IACH+C,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,EAAG,KAKCC,GAAoB,CACxB,IACA,IACA,IACA,IACA,KACA,KACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,OACA,QAIIC,GAAW,IAAI/sB,OAAY,CAC/B,IAAIA,QAAe,IAAM,IACzB,IAAIA,QAAe,GAAK,IACxB,IAAIA,OAAc,GAAM,IACxB,IAAIA,OAAc,IAAO,MAG3B,SAASgtB,GAA4BC,GACnC,IAAIC,EAAY,GAUhB,MATgB,OAAZD,GAAgC,MAAZA,GAED,OAAZA,GAAgC,MAAZA,EAD7BC,EAAY,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAGxC,OAAZD,GAAgC,MAAZA,EAC7BC,EAAY,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MACtB,OAAZD,GAAgC,MAAZA,IAC7BC,EAAY,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,OAEtCA,EAGT,SAASC,GAAqCF,GAC5C,IAAIG,EAAY,GAUhB,MATgB,OAAZH,GAAgC,MAAZA,GAED,OAAZA,GAAgC,MAAZA,EAD7BG,EAAY,CAAC,CAAC,MAAO,OAAQ,CAAC,MAAO,OAAQ,CAAC,MAAO,OAGhC,OAAZH,GAAgC,MAAZA,EAC7BG,EAAY,CAAC,CAAC,MAAO,OAAQ,CAAC,MAAO,OAAQ,CAAC,MAAO,OAChC,OAAZH,GAAgC,MAAZA,IAC7BG,EAAY,CAAC,CAAC,MAAO,OAAQ,CAAC,MAAO,OAAQ,CAAC,MAAO,QAEhDA,EC/KT,SAASC,GAAehqB,GACtB,OAAOA,EAAKiqB,QAAQ,MAAO,IAG7B,SAASC,GAAkBC,EAAM1xB,EAAKN,GAC9BM,KAAO0xB,IACXA,EAAK1xB,GAAO,IAEd0xB,EAAK1xB,GAAKzE,KAAKmE,GAGjB,SAASiyB,GAAoBC,EAAWlyB,GAAyB,IAAlBmyB,EAAkB,uDAAN,KACzD,GAAIzqB,IAAEC,MAAMwqB,GAIV,OAHKzqB,IAAE0qB,SAASF,EAAWlyB,IACzBkyB,EAAUr2B,KAAKmE,GAEVkyB,EAAU7oB,QAAQrJ,GAEzB,IAAI3E,EAAIqM,IAAE2qB,UAAUH,GAAW,SAAAI,GAAO,OAAIH,EAAUnyB,EAAOsyB,MAC3D,OAAIj3B,GAAK,EACAA,GAEP62B,EAAUr2B,KAAKmE,GACRkyB,EAAU32B,OAAS,GAKhC,SAASg3B,GAAWl3B,GAClB,OAAa,IAANA,EAGT,SAASm3B,GAAWxtB,GAClB,OAAOA,EAAI,EAAI,EAGjB,SAASytB,GAAWp3B,GAClB,OAAOA,EAAIq3B,OAAOC,aAAat3B,GAAK,GAGtC,SAASu3B,GAAWtzB,GAClB,OAAOA,EAAEuzB,WAAW,GAGtB,SAASC,GAAwBjrB,GAC/B,IADqC,EACjCzL,EAAS,GACT22B,EAAQlrB,EAAKmrB,MAAM,SAFc,iBAGpBD,GAHoB,IAGrC,2BAAwB,KAAfE,EAAe,QACO,UAAzBA,EAAKvpB,UAAU,EAAG,KACpBtN,GAAU62B,EAAKvpB,UAAU,MALQ,gCAQrC,OAAOtN,EAGT,SAAS82B,GAAe73B,GACtB,OAAO,IAAImJ,QAAc2uB,OAAO93B,EAAI,GAGtC,IAAM+3B,GAAkB,CACtB,CAAC,IAAK,EAAG,WACT,CAAC,IAAK,EAAG,WACT,CAAC,IAAK,EAAG,WACT,CAAC,UAAW,EAAG,WACf,CAAC,MAAO,EAAG,SACX,CAAC,YAAa,EAAG,UACjB,CAAC,QAAS,EAAG,UACb,CAAC,OAAQ,EAAG,UACZ,CAAC,SAAU,EAAG,SACd,CAAC,aAAc,EAAG,UAClB,CAAC,YAAa,EAAG,WAGbC,G,WACJ,WAAa7V,EAAMnE,GAAO,uBACxBjX,KAAKob,KAAOA,EACR2N,OAAOC,UAAU/R,IACnBjX,KAAK8d,KAAK7G,GAEZjX,KAAKkxB,KAAO1nB,EAAGvL,S,oDAGXgZ,GAEJ,OADAjX,KAAKiX,MAAQA,EACNjX,O,uCA6DP,IAAIqL,EAASrL,KAAKob,KAAKkK,UAAU6L,WAAWnxB,KAAKiX,OAC7C7Y,EAAI4B,KAAKob,KAAKkK,UAAU8L,UAAUpxB,KAAKiX,OACvC3L,EAAOD,EAASjN,EACpB,OAAOkH,IAAEuI,MAAMxC,EAAQC,K,0BAzDvB,OAHAtL,KAAKkxB,KAAKjvB,EAAIjC,KAAKob,KAAKkK,UAAUrjB,EAAEjC,KAAKiX,OACzCjX,KAAKkxB,KAAKhvB,EAAIlC,KAAKob,KAAKkK,UAAUpjB,EAAElC,KAAKiX,OACzCjX,KAAKkxB,KAAK/uB,EAAInC,KAAKob,KAAKkK,UAAUnjB,EAAEnC,KAAKiX,OAClCjX,KAAKkxB,O,4BAIZ,OAAOlxB,KAAKob,KAAKuK,OAAO3lB,KAAKwd,Q,2BAI7B,IAAI6T,EAAQrxB,KAAKob,KAAKkK,UAAU+L,MAAMrxB,KAAKiX,OAC3C,OAAOjX,KAAKob,KAAKkW,UAAUD,K,8BAI3B,OAAOrxB,KAAKob,KAAKkK,UAAUiM,QAAQvxB,KAAKiX,S,+BAIxC,IAAIua,EAAYxxB,KAAKob,KAAKkK,UAAUkM,UAAUxxB,KAAKiX,OACnD,OAAOjX,KAAKob,KAAKqW,cAAcD,K,0BAI/B,OAAOnB,GAAUrwB,KAAKob,KAAKkK,UAAUoM,IAAI1xB,KAAKiX,S,aAGvC/Z,GACP8C,KAAKob,KAAKkK,UAAUoM,IAAI1xB,KAAKiX,OAASuZ,GAAUtzB,K,2BAIhD,OAAO8C,KAAKob,KAAKkK,UAAU9H,KAAKxd,KAAKiX,Q,aAG7BuG,GACRxd,KAAKob,KAAKkK,UAAU9H,KAAKxd,KAAKiX,OAASuG,I,8BAIvC,IAAImU,EAAW3xB,KAAKob,KAAKsK,aAAaiM,SAAS3xB,KAAKwd,MACpD,OAAOxd,KAAKob,KAAKwW,aAAaD,K,4BAI9B,IAAIA,EAAW3xB,KAAKob,KAAKsK,aAAaiM,SAAS3xB,KAAKwd,MAChD6R,EAAUrvB,KAAKob,KAAKwW,aAAaD,GACjCjqB,EACF1H,KAAKob,KAAKuK,OAAO3lB,KAAKwd,MAAQ,IAAM6R,EAAU,IAAMrvB,KAAK6xB,SAI3D,OAHI7xB,KAAK0xB,MACPhqB,GAAS,IAAM1H,KAAK0xB,KAEfhqB,I,4BAWP,IAAI+V,EAAUzd,KAAKob,KAAKsC,gBAAgB1d,KAAKwd,MAC7C,GAAIC,EAAQiE,UAAW,CACrB,IAAIoQ,EAAWrU,EAAQsU,YACvB,GAAkB,MAAd/xB,KAAKqc,MAA8B,MAAdrc,KAAKqc,KAC5B,OAAOyV,EACF,GAAI9xB,KAAKqc,QAAQ1jB,GAAoB,CAC1C,IAAIq5B,EAAYr5B,GAAmBqH,KAAKqc,MACrCha,QACA4vB,UAAU,GAAI,IAAM,IACvB,OAAO,IAAI7vB,QAAc8vB,UAAUJ,EAAUE,IAGjD,OAAIhyB,KAAKqc,QAAQ1jB,GACRA,GAAmBqH,KAAKqc,MAE1B1jB,O,KAILw5B,GAAqB,CACzB,CAAC,aAAc,EAAG,UAClB,CAAC,YAAa,EAAG,UACjB,CAAC,eAAgB,EAAG,UACpB,CAAC,WAAY,EAAG,UAChB,CAAC,SAAU,EAAG,SACd,CAAC,aAAc,EAAG,SAClB,CAAC,SAAU,EAAG,SACd,CAAC,UAAW,EAAG,SACf,CAAC,SAAU,EAAG,SACd,CAAC,SAAU,EAAG,UACd,CAAC,eAAgB,EAAG,UACpB,CAAC,YAAa,EAAG,SACjB,CAAC,WAAY,EAAG,SAChB,CAAC,YAAa,EAAG,SACjB,CAAC,SAAU,EAAG,UAGhB,SAASC,GAAWC,EAAIC,GACtB,OAAOD,EAAG50B,IAAM60B,EAAG70B,GAAK40B,EAAGrhB,IAAMshB,EAAGthB,GAAKqhB,EAAGzvB,IAAM0vB,EAAG1vB,E,IAGjD2vB,G,WACJ,WAAanX,EAAMoC,GAAM,uBACvBxd,KAAKob,KAAOA,EACR2N,OAAOC,UAAUxL,IACnBxd,KAAK8d,KAAKN,G,oDAIRA,GAEJ,OADAxd,KAAKwd,KAAOA,EACLxd,O,uCAkIP,IAAIqL,EAASrL,KAAKob,KAAKsK,aAAaE,WAAW5lB,KAAKwd,MAChDpf,EAAI4B,KAAKob,KAAKsK,aAAa8M,UAAUxyB,KAAKwd,MAC1ClS,EAAOD,EAASjN,EACpB,OAAOkH,IAAEuI,MAAMxC,EAAQC,K,mCAGXumB,GACZ,IADsB,EAClB9T,EAAO/d,KAAKob,KAAK4C,eADC,iBAEJhe,KAAKyyB,kBAFD,IAEtB,2BAAyC,KAAhCxb,EAAgC,QAEvC,GADA8G,EAAK9G,MAAQA,EACT8G,EAAK8T,WAAaA,EACpB,OAAO9T,GALW,gCAQtB,OAAO,O,+BAGC8T,GAAU,uBACA7xB,KAAKyyB,kBADL,IAClB,2BAAyC,KAAhCxb,EAAgC,QACnCua,EAAYxxB,KAAKob,KAAKkK,UAAUkM,UAAUva,GAC1Cyb,EAAgB1yB,KAAKob,KAAKqW,cAAcD,GAC5C,GAAIkB,IAAkBb,EACpB,OAAO5a,GALO,gCAQlB,OAAO,O,qCAGOqY,GAAW,uBACJA,GADI,IACzB,2BAAgC,KAAvBuC,EAAuB,QAC9B,GAAgC,OAA5B7xB,KAAK2yB,SAASd,GAChB,OAAO,GAHc,gCAMzB,OAAO,I,iDAIP,GAAkB,IAAd7xB,KAAKwd,KACP,OAAO,EAGT,IAAIoV,EAAU5yB,KACV6yB,EAAU,IAAIN,EAAavyB,KAAKob,KAAMpb,KAAKwd,KAAO,GAEhDsV,EAAmB,CAAC,MAC1B,GACED,EAAQE,eAAeD,IACvBF,EAAQG,eAAeD,GACvB,CACA,IAAIE,EAAMH,EAAQ7U,aAAa,MAAMzJ,IACjC0e,EAAML,EAAQ5U,aAAa,MAAMzJ,IACrC,GAAI/K,EAAGlG,SAAS0vB,EAAKC,GAAO,EAC1B,OAAO,EAIX,OAAO,I,oDAIP,GAAkB,IAAdjzB,KAAKwd,KACP,OAAO,EAGT,IAAIoV,EAAU5yB,KACV6yB,EAAU,IAAIN,EAAavyB,KAAKob,KAAMpb,KAAKwd,KAAO,GAEhD0V,EAAmB,CAAC,MAAO,OAEjC,GACEL,EAAQE,eAAeG,IACvBN,EAAQG,eAAeG,IACvBN,EAAQG,eAAe,CAAC,MACxB,CACA,IAAII,EAAKN,EAAQ7U,aAAa,OAAOzJ,IACjC7Z,EAAIk4B,EAAQ5U,aAAa,KAAKzJ,IAClC,GAAI/K,EAAGlG,SAAS6vB,EAAIz4B,GAAK,IACvB,OAAO,EAGX,OAAO,I,0CAIP,OAAOsF,KAAKozB,4BAA8BpzB,KAAKqzB,gC,4CAI/C,IAAIC,EAAKtzB,KAAKge,aAAa,OAAOzJ,IAC9Bgf,EAAKvzB,KAAKge,aAAa,OAAOzJ,IAC9B8d,EAAKryB,KAAKge,aAAa,OAAOzJ,IAC9Bif,EAAUhqB,EAAG7G,KAAK2wB,EAAIC,GACtBnc,EAAK5N,EAAG7G,KAAK0vB,EAAIiB,GACrB,OAAO9pB,EAAGpG,aAAaowB,EAASpc,K,4BA5NhC,OAAOpX,KAAKob,KAAKsK,aAAa+N,aAAazzB,KAAKwd,O,aAGvCvG,GACTjX,KAAKob,KAAKsK,aAAa+N,aAAazzB,KAAKwd,MAAQvG,I,6BAIjD,OAAOjX,KAAKob,KAAKsK,aAAagO,OAAO1zB,KAAKwd,Q,4BAI1C,OAAOxd,KAAKob,KAAKuY,OAAO3zB,KAAK0zB,U,iCAI7B,OAAO1zB,KAAKob,KAAKsK,aAAa9H,WAAW5d,KAAKwd,O,aAGhCI,GACd5d,KAAKob,KAAKsK,aAAa9H,WAAW5d,KAAKwd,MAAQI,I,4BAI/C,OAAO5d,KAAKob,KAAKuK,OAAO3lB,KAAKwd,Q,6BAI7B,OAAOxd,KAAKob,KAAKsK,aAAakO,OAAO5zB,KAAKwd,Q,8BAI1C,OAAO6S,GAAUrwB,KAAKob,KAAKsK,aAAamO,QAAQ7zB,KAAKwd,Q,aAG1CtgB,GACX8C,KAAKob,KAAKsK,aAAamO,QAAQ7zB,KAAKwd,MAAQgT,GAAUtzB,K,gCAItD,OAAOizB,GAAUnwB,KAAKob,KAAKsK,aAAahE,UAAU1hB,KAAKwd,Q,aAG1Clb,GACbtC,KAAKob,KAAKsK,aAAahE,UAAU1hB,KAAKwd,MAAQ4S,GAAU9tB,K,gCAIxD,OAAO6tB,GAAUnwB,KAAKob,KAAKsK,aAAa5N,UAAU9X,KAAKwd,Q,aAG1Clb,GACbtC,KAAKob,KAAKsK,aAAa5N,UAAU9X,KAAKwd,MAAQ4S,GAAU9tB,K,+BAIxD,OAAO6tB,GAAUnwB,KAAKob,KAAKsK,aAAalO,SAASxX,KAAKwd,Q,aAG1Clb,GACZtC,KAAKob,KAAKsK,aAAalO,SAASxX,KAAKwd,MAAQ4S,GAAU9tB,K,4BAIvD,IAAIwxB,EAAS9zB,KAAKob,KAAKsK,aAAaoO,OAAO9zB,KAAKwd,MAChD,OAAOxd,KAAKob,KAAK2Y,WAAWD,I,aAGnB3nB,GACT,IAAI2nB,EAASjE,GACX7vB,KAAKob,KAAK2Y,WACV,IAAI3xB,OAAY+J,GAChBimB,IAEFpyB,KAAKob,KAAKsK,aAAaoO,OAAO9zB,KAAKwd,MAAQsW,I,kCAI3C,IAAIA,EAAS9zB,KAAKob,KAAKsK,aAAasO,aAAah0B,KAAKwd,MACtD,OAAOxd,KAAKob,KAAK2Y,WAAWD,I,aAGb3nB,GACf,IAAI2nB,EAASjE,GACX7vB,KAAKob,KAAK2Y,WACV,IAAI3xB,OAAY+J,GAChBimB,IAEFpyB,KAAKob,KAAKsK,aAAasO,aAAah0B,KAAKwd,MAAQsW,I,kCAIjD,IAAIA,EAAS9zB,KAAKob,KAAKsK,aAAaoO,OAAO9zB,KAAKwd,MAC5CrR,EAAQnM,KAAKob,KAAK2Y,WAAWD,GAIjC,OAHI9zB,KAAKwX,WACPrL,EAAQA,EAAM9J,QAAQ4vB,UAAU,EAAG,EAAG,KAEjC9lB,I,8BAIP,IAAIwlB,EAAW3xB,KAAKob,KAAKsK,aAAaiM,SAAS3xB,KAAKwd,MACpD,OAAOxd,KAAKob,KAAKwW,aAAaD,K,6BAI9B,IAAIsC,EAAYj0B,KAAKwd,QAAQxd,KAAKob,KAAKqK,cACvC,OAAOwO,EAAYj0B,KAAKob,KAAKqK,cAAczlB,KAAKwd,MAAMnb,QAAU,O,yBAIhE,OAAOguB,GAAUrwB,KAAKob,KAAKsK,aAAawO,OAAOl0B,KAAKwd,Q,aAG9CtgB,GACN8C,KAAKob,KAAKsK,aAAawO,OAAOl0B,KAAKwd,MAAQgT,GAAUtzB,K,4BAIrD,IAAIy0B,EAAW3xB,KAAKob,KAAKsK,aAAaiM,SAAS3xB,KAAKwd,MAChD6R,EAAUrvB,KAAKob,KAAKwW,aAAaD,GACjCjqB,EAAQ1H,KAAKob,KAAKuK,OAAO3lB,KAAKwd,MAAQ,IAAM6R,EAChD,OAAO3nB,M,KAsGLysB,GAAkB,CAAC,CAAC,SAAU,EAAG,SAAU,CAAC,SAAU,EAAG,UAEzDC,G,WACJ,WAAahZ,EAAMiZ,GAAO,uBACxBr0B,KAAKob,KAAOA,EACR2N,OAAOC,UAAUqL,IACnBr0B,KAAK8d,KAAKuW,G,oDAIRA,GAEJ,OADAr0B,KAAKq0B,MAAQA,EACNr0B,O,6BAIP,OAAOA,KAAKob,KAAKkZ,UAAU1T,OAAO5gB,KAAKq0B,S,6BAIvC,OAAOr0B,KAAKob,KAAKkZ,UAAUzT,OAAO7gB,KAAKq0B,W,KAYrCE,G,WACJ,aAAe,uBACbv0B,KAAKw0B,aAAe,GACpBx0B,KAAK2B,MAAQ,GAEb3B,KAAKsc,aAAe,GACpBtc,KAAKy0B,YAAc,KACnBz0B,KAAK4d,YAAc,EAEnB5d,KAAK2zB,OAAS,GAEd3zB,KAAKgd,UAAY,KAGjBhd,KAAK4M,OAAS,GAEd5M,KAAK2X,eAAiB,GAEtB3X,KAAK00B,UAAY,YAEjB10B,KAAKslB,UAAY,IAAIqD,GAAMqI,IAC3BhxB,KAAK0lB,aAAe,IAAIiD,GAAMwJ,IAC9BnyB,KAAKs0B,UAAY,IAAI3L,GAAMwL,IAE3Bn0B,KAAK2lB,OAAS,GACd3lB,KAAKylB,cAAgB,GAErBzlB,KAAK20B,aAAe,IAAIpC,GAAavyB,MACrCA,KAAK40B,UAAY,IAAI3D,GAAUjxB,MAE/BA,KAAKsxB,UAAY,GACjBtxB,KAAKyxB,cAAgB,GACrBzxB,KAAK4xB,aAAe,GACpB5xB,KAAK+zB,WAAa,GAElB/zB,KAAKuY,KAAO,CACVE,QAAS,GACToc,KAAM,EACNC,KAAM,GACNC,SAAS,EACTvc,OAAQ,GACRwc,SAAU,SAAApyB,GAAC,OAAKA,EAAEqyB,QAAQ,K,yDAK5B,OAA+B,IAAxBj1B,KAAKqd,iB,qCAGExd,GAId,IAHA,IAAIoC,EAAGC,EAAGC,EAAGwb,EAAO0R,EAChBwC,EAAUN,EAASlV,EAAMqV,EAAKkC,EAAQC,EAEjCqB,EAAQ,EAAGA,EAAQr1B,EAAS1G,OAAQ+7B,GAAS,EAAG,CACvD,IAAIrE,EAAOhxB,EAASq1B,GAEpB,GAA0B,SAAtBrE,EAAKsE,OAAO,EAAG,IAAuC,WAAtBtE,EAAKsE,OAAO,EAAG,GAAiB,CAClE,IACEtD,EAAWvsB,IAAE8vB,KAAKvE,EAAKsE,OAAO,GAAI,IAClCzD,EAAMpsB,IAAE8vB,KAAKvE,EAAKsE,OAAO,GAAI,IAC7B9F,EAAU/pB,IAAE8vB,KAAKvE,EAAKsE,OAAO,GAAI,IACjCxX,EAAQkT,EAAK,IACb+C,EAASyB,SAASxE,EAAKsE,OAAO,GAAI,IAClCtB,EAAUhD,EAAKsE,OAAO,GAAI,GAC1BlzB,EAAIqzB,WAAWzE,EAAKsE,OAAO,GAAI,IAC/BjzB,EAAIozB,WAAWzE,EAAKsE,OAAO,GAAI,IAC/BhzB,EAAImzB,WAAWzE,EAAKsE,OAAO,GAAI,IAC/B5D,EAAU+D,WAAWzE,EAAKsE,OAAO,GAAI,IACrC9Y,EAAOoT,GAAcnqB,IAAE8vB,KAAKvE,EAAKsE,OAAO,GAAI,KAC5C,MAAOr6B,GACPkF,KAAKw0B,aAAe,QAAUU,EAC9Bz2B,QAAQ+f,IAAR,kBAAuBqS,EAAvB,MACA,SAGW,KAATxU,IACFA,EAAOoT,GAAcnqB,IAAE8vB,KAAKvD,IAAWsD,OAAO,EAAG,IAGnDn1B,KAAKu1B,QACHtzB,EACAC,EACAC,EACAovB,EACAG,EACAG,EACAxV,EACAgT,EACAuE,EACAC,EACAlW,O,mDAMsB9d,GAC5BG,KAAKw1B,wBAAwBx1B,KAAK4d,YAElC5d,KAAKy1B,0BAA2B,EAIhC,IAFA,IAAIhY,EAAUzd,KAAK0d,kBAEVwX,EAAQ,EAAGA,EAAQr1B,EAAS1G,OAAQ+7B,GAAS,EAAG,CACvD,IAAIrE,EAAOhxB,EAASq1B,GAEpB,GAA0B,UAAtBrE,EAAKsE,OAAO,EAAG,GAAgB,CACjCn1B,KAAKy1B,0BAA2B,EAChC,IAFiC,EAE7B9X,EAAQkT,EAAKsE,OAAO,GAAI,GACxBO,EAAcL,SAASxE,EAAKsE,OAAO,GAAI,IACvCQ,EAAYN,SAASxE,EAAKsE,OAAO,GAAI,IAJR,iBAKhBn1B,KAAK41B,mBACpB51B,KAAK4d,WACLD,EACA+X,IAR+B,IAKjC,2BAIG,KAJMlY,EAIN,QACDC,EAAQD,KAAOA,EACf,MAAQC,EAAQmW,QAAU+B,GAAehY,IAAUF,EAAQE,MACzDF,EAAQ6E,GAAK,IACb7E,EAAQD,KAAOC,EAAQD,KAAO,GAbD,iCAkBnC,GAA0B,UAAtBqT,EAAKsE,OAAO,EAAG,GAAgB,CACjCn1B,KAAKy1B,0BAA2B,EAChC,IAFiC,EAE7B9X,EAAQkT,EAAKsE,OAAO,GAAI,GACxBO,EAAcL,SAASxE,EAAKsE,OAAO,GAAI,IACvCQ,EAAYN,SAASxE,EAAKsE,OAAO,GAAI,IAJR,iBAKhBn1B,KAAK41B,mBACpB51B,KAAK4d,WACLD,EACA+X,IAR+B,IAKjC,2BAIG,KAJMlY,EAIN,QACDC,EAAQD,KAAOA,EACf,MAAQC,EAAQmW,QAAU+B,GAAehY,IAAUF,EAAQE,MACzDF,EAAQ6E,GAAK,IACb7E,EAAQD,KAAOC,EAAQD,KAAO,GAbD,qC,mCAoBzBte,EAASD,GACrBe,KAAKy0B,YAAcx1B,EACnBe,KAAKsc,aAAa7iB,KAAKwF,GACvBe,KAAK4d,WAAa5d,KAAKsc,aAAanjB,OAAS,EAE7C,IAAIwI,EAAQ+uB,GAAuBxxB,GAC/B8X,EAAKhX,KAAKy0B,YAAYoB,cAC1B71B,KAAK2B,MACH,kDAA2CqV,EAA3C,aAAkDA,EAAlD,UAA+DrV,EAEjE,IAAI9B,EAAWX,EAAQ0xB,MAAM,SAE7B,GAAwB,IAApB/wB,EAAS1G,OAAb,CAZ4B,uBAiBdmM,IAAEuI,MAAMhO,EAAS1G,SAjBH,IAiB5B,2BAAwC,KAA/BF,EAA+B,QACtC,GAAIqM,IAAE0qB,SAAS,CAAC,OAAQnwB,EAAS5G,GAAG4F,MAAM,EAAG,IAAK,CAChDgB,EAAWA,EAAShB,MAAM,EAAG5F,GAC7B,QApBwB,gCAwB5B+G,KAAK81B,eAAej2B,GACpBG,KAAK+1B,6BAA6Bl2B,QAZhCG,KAAKw0B,aAAe,kB,2BAelBwB,GACJv3B,QAAQ+f,IAAR,0BAA+Bxe,KAAKy0B,YAApC,QAEAz0B,KAAKi2B,aAAaD,EAAQ92B,QAASc,KAAKy0B,aAExCh2B,QAAQ+f,IACN,8BAAuBxe,KAAKqd,eAA5B,sBACKrd,KAAKme,kBADV,cAIF1f,QAAQ+f,IAAI,8BACZxe,KAAK6lB,qBAELpnB,QAAQ+f,IAAR,+BAAoCxe,KAAKk2B,eAAzC,a,sGAG0BpS,EAAaC,G,kGACnC7kB,EAAU4kB,EAAY5kB,QACtBD,EAAQ6kB,EAAY7kB,MAEW,IAA/B6kB,EAAY5kB,QAAQ/F,O,gCAChB4qB,EAAkB,uB,wDAIpBA,EAAkB,YAAD,OAAa9kB,EAAb,M,UACvBe,KAAKi2B,aAAa/2B,EAASD,IAEvBe,KAAKw0B,a,wBACHh2B,EAAMwB,KAAKob,KAAKoZ,a,UACdzQ,EAAkB,uBAAD,OAAwBvlB,I,iDAI7CwmB,EAAQhlB,KAAKqd,eACbgE,EAAOrhB,KAAKme,kB,UACV4F,EAAkB,yBAAD,OACIiB,EADJ,mBACoB3D,EADpB,iB,WAIvBrhB,KAAK6lB,qBAEA7lB,KAAKy1B,yB,kCACF1R,EAAkB,cAAD,OACP/jB,KAAKk2B,eADE,+C,QAGvBl2B,KAAKm2B,yB,QAGPn2B,KAAKgd,UAAYhd,KAAKid,gBAEtBjd,KAAKo2B,iBAELp2B,KAAKq2B,qCAELr2B,KAAKs2B,gBAELt2B,KAAK8lB,4B,2IAIL7jB,EACAC,EACAC,EACAovB,EACAG,EACAG,EACAxV,EACAgT,EACAuE,EACAC,EACAlW,GAEA,IAAI1G,EAAQjX,KAAKslB,UAAU3O,MAE3B3W,KAAKslB,UAAUiR,YAEfv2B,KAAKslB,UAAUrjB,EAAEgV,GAAShV,EAC1BjC,KAAKslB,UAAUpjB,EAAE+U,GAAS/U,EAC1BlC,KAAKslB,UAAUnjB,EAAE8U,GAAS9U,EAE1BnC,KAAKslB,UAAUiM,QAAQta,GAASsa,EAChCvxB,KAAKslB,UAAUoM,IAAIza,GAASuZ,GAAUkB,GAEtC1xB,KAAKslB,UAAU8L,UAAUna,GAAS,EAElCjX,KAAKslB,UAAUkM,UAAUva,GAAS4Y,GAChC7vB,KAAKyxB,cACLI,GAGF7xB,KAAKslB,UAAU+L,MAAMpa,GAAS4Y,GAAmB7vB,KAAKsxB,UAAWjV,GAEjE,IAAIgF,EAAOrhB,KAAKme,kBAEZqY,GAAW,EACF,IAATnV,EACFmV,GAAW,GAEXx2B,KAAK20B,aAAanX,KAAO6D,EAAO,GAC5BrhB,KAAK20B,aAAaf,SAAWA,GAEtB5zB,KAAK20B,aAAad,UAAYA,GAE9B7zB,KAAK2zB,OAAO3zB,KAAK20B,aAAajB,UAAY/V,KAHnD6Y,GAAW,IAQXA,GACFx2B,KAAKy2B,WAAWxf,EAAO2c,EAAQC,EAASlW,EAAO0R,GAGjD,IAAI7R,EAAOxd,KAAKme,kBAAoB,EACpCne,KAAK0lB,aAAa8M,UAAUhV,IAAS,EACrCxd,KAAKslB,UAAU9H,KAAKvG,GAASuG,I,iCAGnBkZ,EAAiB9C,EAAQC,EAASlW,EAAO0R,GACnD,IAAI7R,EAAOxd,KAAKme,kBAChBne,KAAK0lB,aAAa6Q,YAElB,IAAIvc,EAAQha,KAAKy0B,YAAc,IAC3B9W,IACF3D,GAAS2D,EAAQ,KAEnB3D,GAAS4Z,EAAStuB,IAAE8vB,KAAKvB,GAEzB7zB,KAAK2lB,OAAOlsB,KAAKugB,GAEjB,IAAI0Z,EAAS7D,GAAmB7vB,KAAK2zB,OAAQhW,GAC7C3d,KAAK0lB,aAAagO,OAAOlW,GAAQkW,EAEjC1zB,KAAK0lB,aAAakO,OAAOpW,GAAQoW,EACjC5zB,KAAK0lB,aAAamO,QAAQrW,GAAQgT,GAAUqD,GAE5C7zB,KAAK0lB,aAAaiM,SAASnU,GAAQqS,GACjC7vB,KAAK4xB,aACLvC,GAGFrvB,KAAK0lB,aAAaE,WAAWpI,GAAQkZ,EACrC12B,KAAK0lB,aAAa8M,UAAUhV,GAAQ,EAEpCxd,KAAK0lB,aAAa9H,WAAWJ,GAAQxd,KAAK4d,a,uCAG1BD,EAAOiW,GACvB,IAD+B,EAC3BnW,EAAUzd,KAAK0d,kBADY,iBAEdpY,IAAEuI,MAAM7N,KAAKme,oBAFC,IAE/B,2BAAkD,KAAzCX,EAAyC,QAEhD,GADAC,EAAQD,KAAOA,EACXC,EAAQE,QAAUA,GAASF,EAAQmW,SAAWA,EAChD,OAAOnW,GALoB,gCAQ/B,OAAO,O,yCAGWG,EAAYD,EAAOiW,GACrC,IAD6C,EACzC55B,EAAS,GACTyjB,EAAUzd,KAAK0d,kBAF0B,iBAG5BpY,IAAEuI,MAAM7N,KAAKme,oBAHe,IAG7C,2BAAkD,KAAzCX,EAAyC,QAChDC,EAAQD,KAAOA,EAEbC,EAAQG,aAAeA,GACvBH,EAAQE,QAAUA,GAClBF,EAAQmW,SAAWA,GAEnB55B,EAAOP,KAAK+jB,IAV6B,gCAa7C,OAAOxjB,I,8CAGgB4jB,GAEvB,IADA,IAAImE,EAAM/hB,KAAK0d,kBACNF,EAAO,EAAGA,EAAOxd,KAAKme,kBAAmBX,GAAQ,EAGxD,GAFAuE,EAAIvE,KAAOA,EAEPuE,EAAInE,aAAeA,EAIvB,GAAItY,IAAE0qB,SAASr3B,GAAsBopB,EAAIsN,SACvCtN,EAAI9K,MAAQ8K,EAAI4Q,SAAS,MACzB5Q,EAAIO,GAAK,IACTP,EAAIL,WAAY,OACX,GACLpc,IAAE0qB,SAASr3B,GAAkBopB,EAAIsN,UACjC/pB,IAAE0qB,SAASr3B,GAAkBopB,EAAIsN,SAEjCtN,EAAI9K,MAAQ8K,EAAI4Q,SAAS,OACzB5Q,EAAIO,GAAK,IACTP,EAAIL,WAAY,MACX,CACLK,EAAIL,WAAY,EACI,QAAhBK,EAAIsN,QAENtN,EAAIO,GAAK,IACgB,QAAhBP,EAAIsN,QAEbtN,EAAIO,GAAK,IAETP,EAAIO,GAAK,IAEX,IAAIpF,EAASld,KAAKmd,UAAU4E,EAAI0Q,kBAChC1Q,EAAI9K,MAAQjX,KAAK22B,gBAAgBzZ,EAAQ6E,EAAI0Q,qB,sCAKlCle,EAAKwI,GACpB,IADiC,EAC7B6Z,EAAe,KACfC,EAAO,IACP9Y,EAAO/d,KAAKge,eAHiB,iBAIfjB,GAJe,IAIjC,2BAA+B,KAAtB9F,EAAsB,QAC7B,GAAqB,OAAjB2f,EACFA,EAAe3f,MACV,CACL8G,EAAK9G,MAAQA,EACb,IAAI9Z,EAAIqM,EAAGlG,SAASiR,EAAKwJ,EAAKxJ,KAC1BpX,EAAI05B,IACND,EAAe3f,EACf4f,EAAO15B,KAZoB,gCAgBjC,OAAOy5B,I,yCAGWriB,GAClB,IADuB,EACnBwI,EAAczX,IAAEuI,MAAM7N,KAAKqd,gBAC3BuZ,EAAe,KACfC,EAAO,IACP9Y,EAAO/d,KAAKge,eAJO,iBAKLjB,GALK,IAKvB,2BAA+B,KAAtB9F,EAAsB,QAC7B,GAAqB,OAAjB2f,EACFA,EAAe3f,MACV,CACL8G,EAAK9G,MAAQA,EACb,IAAI9Z,EAAIqM,EAAGlG,SAASiR,EAAKwJ,EAAKxJ,KAC1BpX,EAAI05B,IACND,EAAe3f,EACf4f,EAAO15B,KAbU,gCAiBvB,OAAI05B,EAAO,GACFD,GAEC,I,gCAID7Z,GACT,IADsB,EAClB/iB,EAASwP,EAAGvL,OAAO,EAAG,EAAG,GACzB8f,EAAO/d,KAAKge,eAFM,iBAGJjB,GAHI,IAGtB,2BAA+B,KAAtB9F,EAAsB,QAC7Bjd,EAASwP,EAAG3G,IAAI7I,EAAQ+jB,EAAKD,KAAK7G,GAAO1C,MAJrB,gCAOtB,OADAva,EAAO88B,aAAa/Z,EAAY5jB,QACzBa,I,sCAG0B,IAApB+iB,EAAoB,uDAAN,KACvByJ,EAAS,CAAC,EAAK,EAAK,GACpBC,EAAS,CAAC,EAAK,EAAK,GACpBC,EAAQ,CAAC,EAAK,EAAK,GAEvB,SAASqQ,EAAMz0B,EAAGrJ,GAChB,OAAU,IAANA,EAAgBqJ,EAAEL,EACZ,IAANhJ,EAAgBqJ,EAAEJ,EACZ,IAANjJ,EAAgBqJ,EAAEH,OAAtB,EAGEmD,IAAE0xB,OAAOja,KACXA,EAAczX,IAAEuI,MAAM7N,KAAKqd,iBAG7B,IADA,IAAIU,EAAO/d,KAAKge,eACP4I,EAAO,EAAGA,EAAO,EAAGA,IAAQ,wBACjB7J,GADiB,IACnC,2BAA+B,KAAtB9F,EAAsB,QACzB1C,EAAMwJ,EAAKD,KAAK7G,GAAO1C,IACvBkS,EAAOG,GAAQmQ,EAAKxiB,EAAKqS,KAC3BH,EAAOG,GAAQmQ,EAAKxiB,EAAKqS,IAEvBJ,EAAOI,GAAQmQ,EAAKxiB,EAAKqS,KAC3BJ,EAAOI,GAAQmQ,EAAKxiB,EAAKqS,KAPM,gCAUnCF,EAAME,GAAQJ,EAAOI,GAAQH,EAAOG,GAEtC,OAAO7kB,KAAKqgB,IAAIsE,EAAM,GAAIA,EAAM,GAAIA,EAAM,M,2CAWtB,WACpB1mB,KAAKs0B,UAAU3d,MAAQ,EAEvB,IAAMsgB,EAAgB,KAChBC,EAAiB,KACjBC,EAAgB,KAChBC,EAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,KAEzC,SAASC,EAAUC,EAAOC,GACxB,GAAc,OAAVD,GAA4B,OAAVC,EACpB,OAAO,EAGT,GAAkB,KAAdD,EAAM5F,KAA4B,KAAd6F,EAAM7F,KACxB4F,EAAM5F,MAAQ6F,EAAM7F,IACtB,OAAO,EAIX,IAAI8F,EAEFA,EADiB,MAAfF,EAAMjb,MAA+B,MAAfkb,EAAMlb,KACnB4a,EACFlwB,GAAQuwB,EAAMjb,KAAM+a,IAAWrwB,GAAQwwB,EAAMlb,KAAM+a,GACjDF,EAEAC,EAGb,IAAIM,EAAQH,EAAM/iB,IAAItS,EAAIs1B,EAAMhjB,IAAItS,EAChCy1B,EAAQJ,EAAM/iB,IAAIrS,EAAIq1B,EAAMhjB,IAAIrS,EAChCy1B,EAAQL,EAAM/iB,IAAIpS,EAAIo1B,EAAMhjB,IAAIpS,EAChCy1B,EAASH,EAAQA,EAAQC,EAAQA,EAAQC,EAAQA,EACrD,OAAOC,GAAUJ,EAqBnB,IAlBA,IAAIK,EAAW,SAACP,EAAOC,GACrB,IAAIlD,EAAQ,EAAK6B,eACjB,EAAK5B,UAAUiC,YACf,EAAKjC,UAAU1T,OAAOyT,GAASiD,EAAMrgB,MACrC,EAAKqd,UAAUzT,OAAOwT,GAASkD,EAAMtgB,MAErCod,EAAQ,EAAK6B,eACb,EAAK5B,UAAUiC,YACf,EAAKjC,UAAU1T,OAAOyT,GAASkD,EAAMtgB,MACrC,EAAKqd,UAAUzT,OAAOwT,GAASiD,EAAMrgB,OAGnC6gB,EAAW93B,KAAK0d,kBAChBqa,EAAW/3B,KAAK0d,kBAChB2D,EAAOrhB,KAAKme,kBACZmZ,EAAQt3B,KAAKge,eACbuZ,EAAQv3B,KAAKge,eAERga,EAAQ,EAAGA,EAAQ3W,EAAM2W,IAAS,CACzCD,EAASva,KAAOwa,EADyB,uBAItBD,EAAStF,kBAJa,IAIzC,2BAA8C,OAArC7R,EAAqC,yBACzBmX,EAAStF,kBADgB,IAC5C,2BAA8C,KAArC5R,EAAqC,QAC5CyW,EAAMrgB,MAAQ2J,EACd2W,EAAMtgB,MAAQ4J,EACVwW,EAASC,EAAOC,IAClBM,EAASP,EAAOC,IALwB,kCAJL,iCAe3C,IAAK,IAAIU,EAAQ,EAAGA,EAAQ5W,EAAM4W,IAAS,CAGzC,GAFAH,EAASta,KAAOya,EAAQ,EACxBF,EAASva,KAAOya,EACZF,EAAS3E,2BACP0E,EAAS/E,eAAe,CAAC,OAASgF,EAAShF,eAAe,CAAC,QAC7DuE,EAAMrgB,MAAQ6gB,EAASnF,SAAS,KAChC4E,EAAMtgB,MAAQ8gB,EAASpF,SAAS,UAE7B,KAAIoF,EAAS1E,8BASlB,SAPEyE,EAAS/E,eAAe,CAAC,SACzBgF,EAAShF,eAAe,CAAC,QAEzBuE,EAAMrgB,MAAQ6gB,EAASnF,SAAT,OACd4E,EAAMtgB,MAAQ8gB,EAASpF,SAAS,MAKpCkF,EAASP,EAAOC,GAIlB,IAAIW,EAAcl4B,KAAKs0B,UAAU1T,OACjC5gB,KAAKs0B,UAAU5V,MAAK,SAACzlB,EAAGkB,GAAJ,OAAU+9B,EAAYj/B,GAAKi/B,EAAY/9B,MAG3D,IAAK,IAAI8c,EAAQ,EAAGA,EAAQjX,KAAKqd,eAAgBpG,GAAS,EACxDjX,KAAKslB,UAAU8L,UAAUna,GAAS,EAIpC,IAFA,IAAIkhB,EAAOn4B,KAAKo4B,eACZxX,EAAS,KACJyT,EAAQ,EAAGA,EAAQr0B,KAAKk2B,eAAgB7B,GAAS,EACxD8D,EAAK9D,MAAQA,EACTzT,IAAWuX,EAAKvX,SAClBA,EAASuX,EAAKvX,OACd5gB,KAAKslB,UAAU6L,WAAWvQ,GAAUyT,GAEtCr0B,KAAKslB,UAAU8L,UAAUxQ,IAAW,I,2CAkBtC,IAPA,IAAInD,EAAUzd,KAAK0d,kBACf2a,EAAQr4B,KAAKge,eACbsZ,EAAQt3B,KAAKge,eAEbhkB,EAAS,GACTs+B,EAAS,IAGP1a,EAAa,EACjBA,EAAa5d,KAAKsc,aAAanjB,OAC/BykB,GAAc,EACd,CAIA,IAFA,IAAIzP,EAAW,GACX4O,EAAc,GACTS,EAAO,EAAGA,EAAOxd,KAAKme,kBAAmBX,GAAQ,EAExD,GADAC,EAAQD,KAAOA,EACXC,EAAQG,aAAeA,GAIvBH,EAAQiE,UACV,cAAsB,CAAC,IAAK,KAA5B,eAAkC,CAA7B,IAAI6W,EAAS,KACZthB,EAAQwG,EAAQkV,SAAS4F,GACf,OAAVthB,IACFohB,EAAMphB,MAAQA,EACd9I,EAAS1U,KAAK,CAAC4+B,EAAM9jB,IAAItS,EAAGo2B,EAAM9jB,IAAIrS,EAAGm2B,EAAM9jB,IAAIpS,IACnD4a,EAAYtjB,KAAKwd,IAMzB,IAtBA,EAsBIuhB,EAAY,IAAIpS,GAAUjY,GAtB9B,iBAuBiBqqB,EAAUC,iBAvB3B,IAuBA,2BAA4C,KAAnCC,EAAmC,QAG1C,GAFAL,EAAMphB,MAAQ8F,EAAY2b,EAAK,IAC/BpB,EAAMrgB,MAAQ8F,EAAY2b,EAAK,IACZ,MAAfL,EAAMhc,MAA+B,MAAfib,EAAMjb,KAAc,OAC1B,CAACib,EAAOe,GAAxBA,EAD0C,KACnCf,EADmC,KAG9C,GAAqB,MAAfe,EAAMhc,MAA+B,MAAfib,EAAMjb,KAAlC,CAGA,IAAIsc,EAAQN,EAAM7a,KACdwa,EAAQV,EAAM9Z,KACdmb,IAAUX,GAGVxuB,EAAGlG,SAAS+0B,EAAM9jB,IAAK+iB,EAAM/iB,MAAQ+jB,GACvC3I,GAAiB31B,EAAQ2+B,EAAOX,KAtCpC,iCA2CFh4B,KAAK44B,aAAe5+B,I,+CAgBpBgG,KAAK64B,qBACL,IAAID,EAAe54B,KAAK44B,aACpBE,EAAiB,GAEjBzX,EAAOrhB,KAAKme,kBACZ4a,EAAW/4B,KAAK0d,kBAChBoa,EAAW93B,KAAK0d,kBAEhB2a,EAAQr4B,KAAKge,eACbsZ,EAAQt3B,KAAKge,eAEjB,SAASgb,EAAQL,EAAOX,GACtB,QAAIA,EAAQ,GAAKA,GAAS3W,GAAQsX,EAAQ,GAAKA,GAAStX,IAGjD/b,IAAE0qB,SAAS4I,EAAaZ,GAAQW,GAGzC,SAASM,EAAoBN,EAAOX,GAGlC,OAFAK,EAAMphB,MAAQ8hB,EAASjb,KAAK6a,GAAO1hB,MACnCqgB,EAAMrgB,MAAQ6gB,EAASha,KAAKka,GAAO/gB,MAC5BzN,EAAG7G,KAAK01B,EAAM9jB,IAAK+iB,EAAM/iB,KAOlC,IAHA,IAAIpG,EAAW,GACX4O,EAAc,GACdmc,EAAa,GACR1b,EAAO,EAAGA,EAAOxd,KAAKme,kBAAmBX,GAAQ,EAExD,GADAub,EAASvb,KAAOA,EACZub,EAASrX,WAA+B,MAAhBqX,EAASzW,GAAa,CAChD,IAAIrL,EAAQ8hB,EAASpG,SAAS,MAChB,OAAV1b,IACFohB,EAAMphB,MAAQA,EACd9I,EAAS1U,KAAK,CAAC4+B,EAAM9jB,IAAItS,EAAGo2B,EAAM9jB,IAAIrS,EAAGm2B,EAAM9jB,IAAIpS,IACnD4a,EAAYtjB,KAAKwd,GACjBiiB,EAAWz/B,KAAK+jB,IAKtB,IAAK,IAAImb,EAAQ,EAAGA,EAAQtX,EAAMsX,GAAS,EAGzC,GAFAI,EAASvb,KAAOmb,EAEXI,EAASrX,UAId,GAAoB,MAAhBqX,EAASzW,GAAb,CAMA,GAAI0W,EAAOL,EAAOA,EAAQ,IAAMK,EAAOL,EAAQ,EAAGA,EAAQ,GAGxD,IAFA,IAAIQ,EAAUF,EAAmBN,EAAOA,EAAQ,GAC5CS,EAAUH,EAAmBN,EAAQ,EAAGA,EAAQ,GAC3CX,EAAQW,EAAQ,EAAGX,EAAQW,EAAQ,EAAGX,GAAS,EACtDe,EAASjb,KAAKka,GAAO1V,GAAK,IAC1BqN,GAAiBmJ,EAAgBd,EAAOmB,GACxCxJ,GAAiBmJ,EAAgBd,EAAOoB,GAK5C,GAAIJ,EAAOL,EAAOA,EAAQ,IAAMK,EAAOL,EAAQ,EAAGA,EAAQ,GAGxD,IAFA,IAAIS,EAAUH,EAAmBN,EAAOA,EAAQ,GAC5CU,EAAUJ,EAAmBN,EAAQ,EAAGA,EAAQ,GAC3CX,EAAQW,EAAQ,EAAGX,EAAQW,EAAQ,EAAGX,GAAS,EACtDe,EAASjb,KAAKka,GAAO1V,GAAK,IAC1BqN,GAAiBmJ,EAAgBd,EAAOoB,GACxCzJ,GAAiBmJ,EAAgBd,EAAOqB,QAtB1C1J,GAAiBmJ,EAAgBH,EAAOI,EAASO,uBA2BrD,IA7EwB,EA6EpBC,EAAe,GACff,EAAY,IAAIpS,GAAUjY,GA9EN,iBA+EPqqB,EAAUC,iBA/EH,IA+ExB,2BAA4C,KAAnCC,EAAmC,yBACfA,EADe,GACrCc,EADqC,KAC3BC,EAD2B,KAEtCd,EAAQO,EAAWM,GACnBxB,EAAQkB,EAAWO,GACvB,KAAI13B,KAAKC,IAAI22B,EAAQX,IAAU,GAA/B,CAYA,GARIgB,EAAOL,EAAOX,EAAQ,IAAMgB,EAAOhB,EAAQ,EAAGW,KAChDY,EAAeA,EAAanW,OAAO,CAACuV,EAAOX,KAEzCgB,EAAOL,EAAQ,EAAGX,IAAUgB,EAAOhB,EAAOW,EAAQ,KACpDY,EAAeA,EAAanW,OAAO,CAACuV,EAAOX,KAIzCgB,EAAOL,EAAOX,IAAUgB,EAAOhB,EAAOW,GAAQ,CAChDY,EAAeA,EAAanW,OAAO,CAACuV,EAAOX,IAC3C,IAAIppB,EAASqqB,EAAmBN,EAAOX,GACvCrI,GAAiBmJ,EAAgBH,EAAO/pB,GACxC+gB,GAAiBmJ,EAAgBd,EAAOxuB,EAAGjH,OAAOqM,GAAS,IAI7D,GAAIoqB,EAAOL,EAAQ,EAAGX,EAAQ,IAAMgB,EAAOhB,EAAQ,EAAGW,EAAQ,GAAI,CAChEY,EAAeA,EAAanW,OAAO,CAACuV,EAAOX,IAC3C,IAAIppB,EAASqqB,EAAmBN,EAAOX,GACvCrI,GAAiBmJ,EAAgBH,EAAOnvB,EAAGjH,OAAOqM,GAAS,IAC3D+gB,GAAiBmJ,EAAgBd,EAAOppB,MA3GpB,uDA+GP2qB,GA/GO,IA+GxB,2BAA+B,KAAtB/b,EAAsB,QAC7Bub,EAASjb,KAAKN,GAAM8E,GAAK,KAhHH,gCAoHxB,IAAK,IAAI9E,EAAO,EAAGA,EAAO6D,EAAM7D,GAAQ,EACtC,GAAIA,KAAQsb,GAAkBA,EAAetb,GAAMrkB,OAAS,EAAG,CAC7D,IAD6D,EACzDugC,EAAYlwB,EAAGvL,OAAO,EAAG,EAAG,GAD6B,iBAE1C66B,EAAetb,IAF2B,IAE7D,2BAAyC,KAAhC5O,EAAgC,QACvC8qB,EAAYlwB,EAAG3G,IAAI62B,EAAW9qB,IAH6B,gCAK7D5O,KAAKylB,cAAcjI,GAAQhU,EAAG9G,WAAWg3B,GAM7C,IAAK,IAAIlc,EAAO,EAAGA,EAAO6D,EAAM7D,GAAQ,EACtCub,EAASvb,KAAOA,EAAO,EACvBsa,EAASta,KAAOA,EACI,MAAhBub,EAASzW,IAAcyW,EAASnqB,QACd,MAAhBkpB,EAASxV,IAAcwV,EAASlpB,QAC9BkpB,EAASlpB,OAAOjD,IAAIotB,EAASnqB,QAAU,GACzC5O,KAAKylB,cAAcjI,GAAM5R,W,kDAON,IAGvB+tB,EAHuB,OAC3B35B,KAAK4M,OAAOzT,OAAS,EAOrB,IAJA,IAAIskB,EAAUzd,KAAK0d,kBACfkc,EAAc55B,KAAK0d,kBACnBK,EAAO/d,KAAKge,eACZqD,EAAOrhB,KAAKme,kBACPX,EAAO,EAAGA,EAAO6D,EAAM7D,GAAQ,EACtCC,EAAQD,KAAOA,EACXA,EAAO6D,EAAO,IAChBuY,EAAYpc,KAAOA,EAAO,EACtBoc,EAAYC,sBAEdpc,EAAQiE,WAAY,EACpBkY,EAAYlY,WAAY,IAGxBjE,EAAQiE,aAERpc,IAAE0N,YAAY2mB,IACL,IAATnc,GACCC,EAAQoc,qBACT,WACA,IAAIC,EAAW,IAAInf,GACnBmf,EAASC,aAAe,SAAA9gC,GAEtB,OADAwkB,EAAQD,KAAOsc,EAAS7uB,QAAQhS,GACzBwkB,GAET,EAAK7Q,OAAOnT,KAAKqgC,GACjBH,EAAYG,EAPZ,GASFH,EAAU1uB,QAAQxR,KAAK+jB,GAEnBC,EAAQkV,SAAS,MACnB5U,EAAK9G,MAAQwG,EAAQkV,SAAS,MACrBlV,EAAQkV,SAAS,OAC1B5U,EAAK9G,MAAQwG,EAAQkV,SAAS,OAE9B5U,EAAK9G,MAAQwG,EAAQxG,MAGvB0iB,EAAU1vB,WAAWxQ,KAAKgkB,EAAQD,MAClCmc,EAAUjwB,OAAOjQ,KAAKskB,EAAKxJ,IAAIlS,SAC/Bs3B,EAAU7vB,OAAOrQ,KAAKgkB,EAAQsU,aAC9B4H,EAAU5vB,YAAYtQ,KAAKq3B,GAAcrT,EAAQxG,QACjD0iB,EAAU3vB,aAAavQ,KAAKgkB,EAAQ6E,IACpCqX,EAAUhwB,QAAQlQ,KAAKgkB,EAAQ7O,SA/CR,uBAmDT5O,KAAK4M,QAnDI,IAmD3B,2BAA+B,KAAtBc,EAAsB,QAC7BA,EAAMssB,eACNtsB,EAAMusB,cACNvsB,EAAMwsB,gBACNxsB,EAAMysB,UAvDmB,mC,8CA4D3B,GAAIn6B,KAAK2X,eAAexe,OAAS,EAAG,CAClC,IAAI0kB,EAAS7d,KAAK2X,eAAe,GAC7BjK,EAAQ1N,KAAK4M,OAAOiR,GACxB,GAAIvY,IAAEC,MAAMmI,GACV,OAAO,KAET,IAAI8P,EAAOxd,KAAK4M,OAAOiR,GAAQ5S,QAAQ,GACnCwS,EAAUzd,KAAK0d,gBAAgBF,GAC/BI,EAAaH,EAAQG,WACrBD,EAAQF,EAAQE,MACpB,MAAO,CAAEC,aAAYD,SAEvB,OAAO,O,mCAGK1G,GACZ,OAAO,IAAIga,GAAUjxB,KAAMiX,K,qCAI3B,OAAOjX,KAAKslB,UAAU3O,Q,sCAGP6G,GACf,OAAO,IAAI+U,GAAavyB,KAAMwd,K,mCAGlB6W,GACZ,OAAO,IAAID,GAAUp0B,KAAMq0B,K,qCAI3B,OAAOr0B,KAAKs0B,UAAU3d,Q,wCAItB,OAAO3W,KAAK0lB,aAAa/O,Q,uCAGTgiB,EAAOX,GACvB,IAAIK,EAAQr4B,KAAKge,eACbsZ,EAAQt3B,KAAKge,eAEboc,EAAOp6B,KAAK0d,gBAAgBib,GAC5B0B,EAAOhC,EAAMva,KAAKsc,EAAKnjB,OAAO1C,IAAIlS,QAClCi4B,EAAeF,EAAK3H,iBAEpB8H,EAAOv6B,KAAK0d,gBAAgBsa,GAC5BwC,EAAOlD,EAAMxZ,KAAKyc,EAAKtjB,OAAO1C,IAAIlS,QAClCo4B,EAAeF,EAAK9H,iBAExB,GAAIjpB,EAAGlG,SAAS+2B,EAAMG,GAAQ,GAC5B,OAAO,EAbqB,uBAgBXF,GAhBW,IAgB9B,2BAAiC,OAAxBI,EAAwB,yBACZD,GADY,IAC/B,2BAAiC,KAAxB7Z,EAAwB,QAC/B,GAAIpX,EAAGlG,SAAS+0B,EAAMva,KAAK4c,GAAQnmB,IAAK+iB,EAAMxZ,KAAK8C,GAAQrM,KAAO,EAChE,OAAO,GAHoB,kCAhBH,gCAuB9B,OAAO,I,8CAKP,IADA,IAAIkJ,EAAUzd,KAAK0d,kBACVF,EAAO,EAAGA,EAAOxd,KAAKme,kBAAmBX,GAAQ,EACxDC,EAAQK,KAAKN,GAAMhG,UAAW,I,+CAMhC,IADA,IAAIiG,EAAUzd,KAAK0d,kBACVF,EAAO,EAAGA,EAAOxd,KAAKme,kBAAmBX,GAAQ,EACxDC,EAAQK,KAAKN,GAAM1F,WAAY,I,6CAIX6iB,EAAgBnX,GACtC,IADmD,EAC/C/F,EAAUzd,KAAK0d,kBADgC,iBAElCid,GAFkC,IAEnD,2BAAiC,KAAxBnd,EAAwB,QAC/BC,EAAQK,KAAKN,GAAM1F,UAAY0L,GAHkB,mC,uDAOnBhG,GAKhC,IAJA,IAAIC,EAAUzd,KAAK0d,gBAAgBF,GAC/BI,EAAaH,EAAQG,WACrBD,EAAQF,EAAQE,MAChBZ,EAAc,GACT9jB,EAAI,EAAGA,EAAI+G,KAAKme,kBAAmBllB,GAAK,EAC/CwkB,EAAQD,KAAOvkB,EACXwkB,EAAQG,aAAeA,GAAcH,EAAQE,QAAUA,GACzDZ,EAAYtjB,KAAKgkB,EAAQxG,OAG7B,OAAO8F,I,oCAGMS,GAEb,IADA,IAAIvS,EAAU,CAACuS,GACNod,EAAO,EAAGA,EAAO56B,KAAKme,kBAAmByc,GAAQ,EACpD56B,KAAK66B,iBAAiBD,EAAMpd,IAC9BvS,EAAQxR,KAAKmhC,GAGjB,OAAO3vB,I,wCAGU0tB,EAAO6B,GACxB,IAAInC,EAAQr4B,KAAKge,eAEboc,EAAOp6B,KAAK0d,gBAAgBib,GAC5B0B,EAAOhC,EAAMva,KAAKsc,EAAKnjB,OAAO1C,IAAIlS,QACtC,GAAImH,EAAGlG,SAAS+2B,EAAMG,GAAQ,GAC5B,OAAO,EAGT,IAT8B,EAS1BF,EAAeF,EAAK3H,iBATM,iBAUX6H,GAVW,IAU9B,2BAAiC,KAAxBI,EAAwB,QAC/B,GAAIlxB,EAAGlG,SAAS+0B,EAAMva,KAAK4c,GAAQnmB,IAAKimB,GAAQ,EAC9C,OAAO,GAZmB,gCAe9B,OAAO,I,2CAGajmB,GAEpB,IADA,IAAItJ,EAAU,GACL2vB,EAAO,EAAGA,EAAO56B,KAAKme,kBAAmByc,GAAQ,EACpD56B,KAAK86B,kBAAkBF,EAAMrmB,IAC/BtJ,EAAQxR,KAAKmhC,GAGjB,OAAO3vB,I,2DAIP,IADoC,EAChCwS,EAAUzd,KAAK0d,kBADiB,iBAEnBpY,IAAEuI,MAAM7N,KAAKme,oBAFM,IAEpC,2BAAkD,KAAzCX,EAAyC,QAChDC,EAAQD,KAAOA,EACfC,EAAQsd,YAAcpiC,GAAgB8kB,EAAQ6E,KAJZ,mC,sCASpC,IAAI7E,EAAUzd,KAAK0d,kBACfsd,EAAe11B,IAAE21B,KAAK31B,IAAE41B,OAAOl7B,KAAKuY,KAAKC,SAC7C,GAAIwiB,EAAc,wBACC11B,IAAEuI,MAAM7N,KAAKme,oBADd,IAChB,2BAAkD,KAAzCX,EAAyC,QAChDC,EAAQD,KAAOA,EACfC,EAAQtR,MAAQxT,IAHF,iCAHH,uBAUE2M,IAAEuI,MAAM7N,KAAKme,oBAVf,IAUf,2BAAkD,KAAzCX,EAAyC,QAChDC,EAAQD,KAAOA,EACfC,EAAQtR,MAAQ6uB,EAAeriC,GAAgB8kB,EAAQsd,aAZ1C,mC,uCAoBf,IAAItd,EAAUzd,KAAK0d,kBACfK,EAAO/d,KAAKge,eAChBhe,KAAKuY,KAAKC,OAAS,GACnB,IAAK,IAAIgF,EAAO,EAAGA,EAAOxd,KAAKme,kBAAmBX,GAAQ,EACxDC,EAAQD,KAAOA,EACI,MAAfC,EAAQ6E,KACVvE,EAAK9G,MAAQwG,EAAQxG,MACf8G,EAAK1B,QAAQrc,KAAKuY,KAAKC,SAC3BxY,KAAKuY,KAAKC,OAAOuF,EAAK1B,OAAQ,GAET,OAAnBrc,KAAKuY,KAAKuc,MACZ90B,KAAKuY,KAAKuc,KAAO/W,EAAKwT,QACtBvxB,KAAKuY,KAAKsc,KAAO9W,EAAKwT,UAElBxT,EAAKwT,QAAUvxB,KAAKuY,KAAKsc,OAC3B70B,KAAKuY,KAAKsc,KAAO9W,EAAKwT,SAEpBxT,EAAKwT,QAAUvxB,KAAKuY,KAAKuc,OAC3B90B,KAAKuY,KAAKuc,KAAO/W,EAAKwT,WAMP,OAAnBvxB,KAAKuY,KAAKuc,OACZ90B,KAAKuY,KAAKuc,KAAO,GAEI,OAAnB90B,KAAKuY,KAAKsc,OACZ70B,KAAKuY,KAAKuc,KAAO,GAEfxvB,IAAEC,MAAMvF,KAAKuY,QACfvY,KAAKuY,KAAKE,QAAUzY,KAAKuY,KAAKuc,Q,gDAOhC,IAFA,IAAI96B,EAAS,GACTyjB,EAAUzd,KAAK0d,kBACVzkB,EAAI,EAAGA,EAAI+G,KAAKme,kBAAmBllB,GAAK,EAC3CwkB,EAAQK,KAAK7kB,GAAG6e,WAClB9d,EAAOP,KAAKR,GAGhB,OAAOe,M,oEC/9CLmhC,I,yCACJ,WAAaC,EAAYjvB,GAAO,uBAC9BnM,KAAKmM,MAAQA,EAEbnM,KAAKsmB,IAAM1gB,IAAE,YAAYQ,IAAI,CAC3BC,SAAU,WACV,UAAW,IACXg1B,QAAS,OACT,iBAAkB,SAGpBr7B,KAAKs7B,OAASt7B,KAAKsmB,IAAI,GACvBtmB,KAAKu7B,UAAYv7B,KAAKs7B,OAAOE,WAAW,MAExCx7B,KAAKyH,UAAY7B,IAAEw1B,EAAWK,QAC9Bz7B,KAAKyH,UAAUe,OAAOxI,KAAKsmB,K,sDAI3BtmB,KAAKsmB,IAAIlgB,IAAI,UAAW,U,2BAGpBs1B,EAAIC,EAAIC,EAAIC,GACG77B,KAAKyH,UAAUpB,WAAlC,IAEIqC,EAAQ3G,KAAKC,IAAI05B,EAAKE,GACtBntB,EAAS1M,KAAKC,IAAI25B,EAAKE,GAEvBt1B,EAAOxE,KAAK0G,IAAIizB,EAAIE,GACpBt1B,EAAMvE,KAAK0G,IAAIkzB,EAAIE,GAEvB77B,KAAKsmB,IACFlgB,IAAI,UAAW,SACfA,IAAI,QAASsC,GACbtC,IAAI,SAAUqI,GACdrI,IAAI,MAAOE,GACXF,IAAI,OAAQG,GAEfvG,KAAKs7B,OAAO5yB,MAAQA,EACpB1I,KAAKs7B,OAAO7sB,OAASA,EAErBzO,KAAKu7B,UAAUO,UAAU,EAAG,EAAGpzB,EAAO+F,GACtCzO,KAAKu7B,UAAUQ,YACf/7B,KAAKu7B,UAAUS,OAAON,EAAKn1B,EAAMo1B,EAAKr1B,GACtCtG,KAAKu7B,UAAUU,OAAOL,EAAKr1B,EAAMs1B,EAAKv1B,GACtCtG,KAAKu7B,UAAUW,UAAY,EAC3Bl8B,KAAKu7B,UAAUY,YAAcn8B,KAAKmM,MAClCnM,KAAKu7B,UAAUa,a,MAWbC,G,WACJ,WAAaC,GAAU,kCACrBt8B,KAAKyH,UAAY7B,IAAE02B,GACnBt8B,KAAKu8B,YAAcv8B,KAAKyH,UAAU+0B,KAAK,MAEvCx8B,KAAKsmB,IAAM1gB,IAAE,SAASQ,IAAI,cAAe,QAGzCpG,KAAKyH,UAAUe,OAAOxI,KAAKsmB,KAE3BtmB,KAAKs7B,OAAS11B,IAAE,YAEhB5F,KAAKsmB,IAAI9d,OAAOxI,KAAKs7B,QACrBt7B,KAAKy8B,UAAYz8B,KAAKs7B,OAAO,GAC7Bt7B,KAAK08B,YAAc18B,KAAKy8B,UAAUjB,WAAW,MAE7Cx7B,KAAK28B,cAAe,EACpB38B,KAAK48B,UAAY,KACjB,IAAMC,EAAM78B,KAAKy8B,UACXt+B,EAAO,SAAC2+B,EAAIC,GAChBF,EAAIG,iBAAiBF,EAAIC,IAE3B5+B,EAAK,aAAa,SAAArD,GAAC,OAAI,EAAKmiC,UAAUniC,MACtCqD,EAAK,aAAa,SAAArD,GAAC,OAAI,EAAKoiC,UAAUpiC,MACtCqD,EAAK,WAAW,SAAArD,GAAC,OAAI,EAAKqiC,QAAQriC,MAClCqD,EAAK,YAAY,SAAArD,GAAC,OAAI,EAAKsiC,SAAStiC,MACpCqD,EAAK,cAAc,SAAArD,GAAC,OAAI,EAAKmiC,UAAUniC,MACvCqD,EAAK,aAAa,SAAArD,GAAC,OAAI,EAAKoiC,UAAUpiC,MACtCqD,EAAK,YAAY,SAAArD,GAAC,OAAI,EAAKqiC,QAAQriC,MACnCqD,EAAK,eAAe,SAAArD,GAAC,OAAI,EAAKqiC,QAAQriC,M,uDAItC,OAAOkF,KAAKyH,UAAUiB,U,+BAItB,OAAO1I,KAAKyH,UAAUgH,W,0BAItB,IAAI4uB,EAAer9B,KAAKyH,UAAUpB,WAClC,OAAOg3B,EAAa92B,O,0BAIpB,IAAI82B,EAAer9B,KAAKyH,UAAUpB,WAClC,OAAOg3B,EAAa/2B,M,6BAGdrE,EAAGC,GACT,OACED,GAAKjC,KAAKiC,KACVA,GAAKjC,KAAKiC,IAAMjC,KAAK0I,SACrBxG,GAAKlC,KAAKkC,KACVA,GAAKlC,KAAKkC,IAAMlC,KAAKyO,W,iEAOvBzO,KAAKy8B,UAAU/zB,MAAQ1I,KAAK0I,QAC5B1I,KAAKy8B,UAAUhuB,OAASzO,KAAKyO,W,iCAGnBxM,EAAGC,EAAGM,EAAG86B,EAAGnB,GACtBn8B,KAAK08B,YAAYP,YAAcA,EAC/Bn8B,KAAK08B,YAAYa,WAAWt7B,EAAGC,EAAGM,EAAG86B,K,+BAG7Br7B,EAAGC,EAAGM,EAAG86B,EAAGE,GACpBx9B,KAAK08B,YAAYc,UAAYA,EAC7Bx9B,KAAK08B,YAAYP,YAAc,OAC/Bn8B,KAAK08B,YAAYe,SAASx7B,EAAGC,EAAGM,EAAG86B,K,2BAG/B5B,EAAIC,EAAIC,EAAIC,EAAIK,EAAW/vB,GAC/BnM,KAAK08B,YAAYc,UAAYrxB,EAC7BnM,KAAK08B,YAAYP,YAAchwB,EAC/BnM,KAAK08B,YAAYX,YACjB/7B,KAAK08B,YAAYR,UAAYA,EAC7Bl8B,KAAK08B,YAAYV,OAAON,EAAIC,GAC5B37B,KAAK08B,YAAYT,OAAOL,EAAIC,GAC5B77B,KAAK08B,YAAYN,W,2BAGb32B,EAAMxD,EAAGC,EAAGw7B,EAAMvxB,EAAOwxB,GAC7B39B,KAAK08B,YAAYc,UAAYrxB,EAC7BnM,KAAK08B,YAAYgB,KAAOA,EACxB19B,KAAK08B,YAAYkB,UAAYD,EAC7B39B,KAAK08B,YAAYmB,aAAe,SAChC79B,KAAK08B,YAAYoB,SAASr4B,EAAMxD,EAAGC,K,gCAG1BuD,EAAMi4B,GAGf,OAFA19B,KAAK08B,YAAYgB,KAAOA,EACxB19B,KAAK08B,YAAYkB,UAAY,SACtB59B,KAAK08B,YAAYqB,YAAYt4B,GAAMiD,Q,kCAI1C1I,KAAKg+B,WAAah+B,KAAKi+B,SACvBj+B,KAAKk+B,WAAal+B,KAAKm+B,SACvBn+B,KAAKo+B,WAAap+B,KAAKq+B,OACvBr+B,KAAKs+B,WAAat+B,KAAKu+B,S,4BAGlBviC,M,kCAEMA,M,gCAEFA,GAAO,WAChBA,EAAM+J,iBAEN/F,KAAKw+B,WAAWxiC,GAChBgE,KAAKy+B,YACLz+B,KAAK28B,cAAe,EAEG,OAAnB38B,KAAK48B,UACP58B,KAAK48B,UAAY//B,YAAW,kBAAM,EAAK6hC,MAAM1iC,KAAQ,MAErDG,aAAa6D,KAAK48B,WAClB58B,KAAK2+B,YAAY3iC,GACjBgE,KAAK48B,UAAY,MAGnB58B,KAAKk9B,UAAUlhC,K,gCAGNA,M,+BAEDA,M,8BAEDA,GACPA,EAAM+J,iBACN/F,KAAK28B,cAAe,I,iCAGV3gC,GACN4iC,EAAY5iC,EAAM6iC,UAAY7iC,EAAM6iC,QAAQ1lC,OAAS,GACvD6G,KAAK8+B,OAAS9iC,EAAM6iC,QAAQ,GAAGE,QAC/B/+B,KAAKg/B,OAAShjC,EAAM6iC,QAAQ,GAAGI,UAE/Bj/B,KAAK8+B,OAAS9iC,EAAM+iC,QACpB/+B,KAAKg/B,OAAShjC,EAAMijC,SAGtB,IAAIC,EAAOljC,EAAMQ,OAAO2iC,wBACxBn/B,KAAKi+B,SAAWj+B,KAAK8+B,OAASI,EAAK34B,KACnCvG,KAAKm+B,SAAWn+B,KAAKg/B,OAASE,EAAK54B,IAEnC,IAAIrE,EAAIjC,KAAKi+B,SAAWj+B,KAAK0I,QAAU,EACnCxG,EAAIlC,KAAKm+B,SAAWn+B,KAAKyO,SAAW,EAExCzO,KAAKq+B,OAASt8B,KAAKq9B,KAAKn9B,EAAIA,EAAIC,EAAIA,GAEpClC,KAAKu+B,OAASx8B,KAAKs9B,KAAKn9B,EAAID,GACxBA,EAAI,IACFC,EAAI,EACNlC,KAAKu+B,QAAUx8B,KAAK6B,GAEpB5D,KAAKu+B,QAAUx8B,KAAK6B,Q,KAWtB07B,G,WACJ,WAAa7D,EAAQ8D,GAAa,uBAC5Bj6B,IAAE0N,YAAYusB,GAChBv/B,KAAKu/B,YAAc,GAEnBv/B,KAAKu/B,YAAcA,EAGrBv/B,KAAKsmB,IAAM1gB,IAAE,SAASQ,IAAI,CACxBC,SAAU,WACVC,IAAK,EACLC,KAAM,EACNi5B,WAAY,QACZ,aAAc,aACd9B,KAAM,iBACNvxB,MAAO,OACPka,QAAS,IACToZ,QAAS,GACTpE,QAAS,OACT,YAAa,QACb,UAAW,EACXqE,OAAQ,UACR,cAAe,OACf,iBAAkB,SAGpB1/B,KAAK2/B,MAAQ/5B,IAAE,SAASQ,IAAI,CAC1BC,SAAU,WACVC,IAAK,EACLC,KAAM,EACNmC,MAAO,EACP+F,OAAQ,EACR,aAAc,aACd,cAAe,wBACf,eAAgB,wBAChB,aAAczO,KAAKu/B,YAAc,iBACjCE,QAAS,GACTpE,QAAS,OACT,UAAW,EACX,iBAAkB,OAClB,cAAe,SAGjBr7B,KAAKyH,UAAY7B,IAAE61B,GACnBz7B,KAAKyH,UAAUe,OAAOxI,KAAKsmB,KAC3BtmB,KAAKyH,UAAUe,OAAOxI,KAAK2/B,O,oDAGvB19B,EAAGC,GACPlC,KAAKsmB,IAAIlgB,IAAI,CAAEi1B,QAAS,UACxB,IAAI6D,EAAOl/B,KAAKsmB,IAAI,GAAG6Y,wBACnBz2B,EAAQw2B,EAAKx2B,MACb+F,EAASywB,EAAKzwB,OAElBzO,KAAK2/B,MAAMv5B,IAAI,CAAEi1B,QAAS,UAGxBp5B,EAAI,GACJA,EAAIjC,KAAKyH,UAAUiB,SACnBxG,EAAI,GACJA,EAAIlC,KAAKyH,UAAUgH,SAEnBzO,KAAK4/B,QAIP5/B,KAAK2/B,MAAMv5B,IAAI,CACbE,IAAKpE,EAAIlC,KAAKu/B,YACdh5B,KAAMtE,EAAI,IAGZjC,KAAKsmB,IAAIlgB,IAAI,CACXE,IAAKpE,EAAIlC,KAAKu/B,YAAc9wB,EAC5BlI,KAAMtE,EAAIyG,EAAQ,O,6BAKpB1I,KAAKsmB,IAAIlgB,IAAI,UAAW,QACxBpG,KAAK2/B,MAAMv5B,IAAI,UAAW,U,2BAGtBX,GACJzF,KAAKsmB,IAAIzgB,KAAKJ,K,+BAIdzF,KAAKsmB,IAAIze,SACT7H,KAAK2/B,MAAM93B,a,KASTg4B,G,WACJ,WAAazE,GAAY,uBACvBp7B,KAAKo7B,WAAaA,EAClBp7B,KAAKygB,SAAW2a,EAAW3a,SAC3BzgB,KAAK8/B,WAAa1E,EAAW0E,WAC7B9/B,KAAK+/B,OAAS,G,2DAGH9mC,GACX+G,KAAK8/B,WAAWtb,gBAAgBvrB,GAChC+G,KAAK+/B,OAAO9mC,GAAG4O,SACf7H,KAAK+/B,OAAO1lC,OAAOpB,EAAG,K,kCAGXA,GAAG,WACV+mC,EAAQ,IAAIV,GAAUt/B,KAAKo7B,WAAWK,QAM1C,OALAuE,EAAM/mC,EAAIA,EACV+mC,EAAM1Z,IAAIlgB,IAAI,iBAAkB,QAChC45B,EAAM1Z,IAAIoY,OAAM,WACd,EAAKuB,YAAYD,EAAM/mC,MAElB+mC,I,kCAIP,IAAIvoB,EAASzX,KAAKygB,SAAShF,YAAYhE,OAEvC,GAAIA,EAAOte,OAAS6G,KAAK+/B,OAAO5mC,OAC9B,IAAK,IAAIF,EAAI+G,KAAK+/B,OAAO5mC,OAAQF,EAAIwe,EAAOte,OAAQF,GAAK,EACvD+G,KAAK+/B,OAAOtmC,KAAKuG,KAAKkgC,YAAYjnC,IAItC,GAAI+G,KAAK+/B,OAAO5mC,OAASse,EAAOte,OAC9B,IAAK,IAAIF,EAAI+G,KAAK+/B,OAAO5mC,OAAS,EAAGF,GAAKwe,EAAOte,OAAQF,GAAK,EAC5D+G,KAAKigC,YAAYhnC,GAKrB,IADA,IAAI8kB,EAAO/d,KAAKygB,SAASrF,KAAK4C,eACrB/kB,EAAI,EAAGA,EAAIwe,EAAOte,OAAQF,GAAK,EAAG,CACzC+G,KAAK+/B,OAAO9mC,GAAGA,EAAIA,EAEnB8kB,EAAK9G,MAAQQ,EAAOxe,GAAGugB,OAEvBxZ,KAAK+/B,OAAO9mC,GAAG4M,KAAK4R,EAAOxe,GAAGwM,MAE9B,IAAIg6B,EAAU,GAAMz/B,KAAKo7B,WAAWqE,QAAQ1hB,EAAKxJ,KAAO,GACxDvU,KAAK+/B,OAAO9mC,GAAGqtB,IAAIlgB,IAAI,UAAWq5B,GAClCz/B,KAAK+/B,OAAO9mC,GAAG0mC,MAAMv5B,IAAI,UAAWq5B,GAEpC,IAAIn9B,EAAItC,KAAKo7B,WAAW+E,SAASpiB,EAAKxJ,KACtCvU,KAAK+/B,OAAO9mC,GAAGmnC,KAAK99B,EAAEL,EAAGK,EAAEJ,GAEtBlC,KAAKo7B,WAAWiF,OAAOtiB,EAAKxJ,OAC/BvU,KAAK+/B,OAAO9mC,GAAGqtB,IAAIlgB,IAAI,UAAW,QAClCpG,KAAK+/B,OAAO9mC,GAAG0mC,MAAMv5B,IAAI,UAAW,c,KAWtCk6B,G,WACJ,WAAalF,GAAY,uBACvBp7B,KAAKugC,iBAAmB,GACxBvgC,KAAKwgC,MAAQpF,EAAWqF,aACxBzgC,KAAKygB,SAAW2a,EAAW3a,SAC3BzgB,KAAK8/B,WAAa1E,EAAW0E,WAC7B9/B,KAAKo7B,WAAaA,EAClBp7B,KAAKyH,UAAY7B,IAAE5F,KAAKo7B,WAAWK,QACnCz7B,KAAK0gC,KAAO,G,8DAGEznC,GACd+G,KAAKwgC,MAAM34B,OAAO7H,KAAKugC,iBAAiBtnC,GAAG43B,MAC3C7wB,KAAKugC,iBAAiBtnC,GAAGqtB,IAAIze,SAC7B7H,KAAK8/B,WAAWvb,eAAetrB,GAC/B+G,KAAKugC,iBAAiBlmC,OAAOpB,EAAG,K,4CAGXA,GAAG,WACpBqtB,EAAM1gB,IAAE,SAASQ,IAAI,CACvBC,SAAU,WACVC,IAAK,EACLC,KAAM,EACN,mBAAoB,UACpB8f,QAAS,IACToZ,QAAS,GACT,cAAe,eAEjBnZ,EAAIrtB,EAAIA,EACRqtB,EAAIoY,OAAM,WACR,EAAKiC,eAAera,EAAIrtB,MAE1B+G,KAAKyH,UAAUe,OAAO8d,GAEtB,IAAI/S,EAAW,IAAInR,OACnBmR,EAASpF,SAAS1U,KAAK,IAAI2I,OAAc,EAAG,EAAG,IAC/CmR,EAASpF,SAAS1U,KAAK,IAAI2I,OAAc,EAAG,EAAG,IAC/C,IAAIqR,EAAW,IAAIrR,OAAyB,CAC1C+J,MAAO,SACPy0B,SAAU,EACVC,QAAS,EACTC,UAAW,IAETjQ,EAAO,IAAIzuB,OAAWmR,EAAUE,GAIpC,OAHAod,EAAKvd,YAAa,EAClBtT,KAAKwgC,MAAM31B,IAAIgmB,GAER,CAAEA,OAAMvK,S,kCAIf,IAAI5O,EAAY1X,KAAKygB,SAAShF,YAAY/D,UAE1C,GAAIA,EAAUve,OAAS6G,KAAKugC,iBAAiBpnC,OAC3C,IAAK,IAAIF,EAAI+G,KAAKugC,iBAAiBpnC,OAAQF,EAAIye,EAAUve,OAAQF,GAAK,EACpE+G,KAAKugC,iBAAiB9mC,KAAKuG,KAAK+gC,sBAAsB9nC,IAI1D,GAAI+G,KAAKugC,iBAAiBpnC,OAASue,EAAUve,OAC3C,IACE,IAAIF,EAAI+G,KAAKugC,iBAAiBpnC,OAAS,EACvCF,GAAKye,EAAUve,OACfF,GAAK,EAEL+G,KAAK2gC,eAAe1nC,GAIL+G,KAAKyH,UAAUpB,WAKlC,IALA,IAEI26B,EAAKhhC,KAAKygB,SAASrF,KAAK4C,eACxBijB,EAAKjhC,KAAKygB,SAASrF,KAAK4C,eAEnB/kB,EAAI,EAAGA,EAAIye,EAAUve,OAAQF,GAAK,EAAG,CAC5C,IAAIqK,EAAWoU,EAAUze,GACzB+G,KAAKugC,iBAAiBtnC,GAAGqtB,IAAIrtB,EAAIA,EACjC,IAAIioC,EAAkBlhC,KAAKugC,iBAAiBtnC,GAExCsK,EAAKy9B,EAAGljB,KAAKxa,EAASwd,SAASvM,IAC/B/Q,EAAKy9B,EAAGnjB,KAAKxa,EAASyd,SAASxM,IAE/B9O,EAAOlC,EAAG4R,WAAW3R,GAAIyxB,QAAQ,GACrCiM,EAAgB5a,IAAI7gB,KAAKA,GAEzB,IAAIxI,EAAIsG,EACLlB,QACAwI,IAAIrH,GACJf,eAAe,IACdg9B,EAAU,GAAMz/B,KAAKo7B,WAAWqE,QAAQxiC,GAAK,GAE7CqF,EAAItC,KAAKo7B,WAAW+E,SAASljC,GAC7BgF,EAAIK,EAAEL,EACNC,EAAII,EAAEJ,EAEV,GACED,EAAI,GACJA,EAAIjC,KAAKyH,UAAUiB,SACnBxG,EAAI,GACJA,EAAIlC,KAAKyH,UAAUgH,SAEnByyB,EAAgB5a,IAAIsZ,WANtB,CAUA,IAAIl3B,EAAQw4B,EAAgB5a,IAAI6a,cAC5B1yB,EAASyyB,EAAgB5a,IAAI8a,aACjCF,EAAgB5a,IAAIlgB,IAAI,CACtBE,IAAKpE,EAAIwG,EAAQ,EACjBnC,KAAMtE,EAAIwM,EAAS,EACnB4sB,QAAS,QACTqE,OAAQ,UACRD,QAASA,IAGXyB,EAAgBrQ,KAAKtd,SAASpF,SAAS,GAAGuG,KAAKnR,GAC/C29B,EAAgBrQ,KAAKtd,SAASpF,SAAS,GAAGuG,KAAKlR,GAE1CxD,KAAKo7B,WAAWiF,OAAOpjC,IAC1BikC,EAAgB5a,IAAIlgB,IAAI,UAAW,c,KAcrCi7B,G,0DACJ,WAAa/E,EAAUlB,GAAY,oCACjC,cAAMkB,GAEN,EAAKlB,WAAaA,EAClB,EAAK3a,SAAW2a,EAAW3a,SAC3B,EAAKrF,KAAOggB,EAAWhgB,KACvB,EAAK0kB,WAAa1E,EAAW0E,WAC7B,EAAK1E,WAAWkG,YAAhB,oBACA,EAAK7jB,QAAU,EAAKrC,KAAKsC,kBAEzB,EAAK6jB,UAAY,GACjB,EAAKC,WAAa,GAClB,EAAKC,QAAU,EACf,EAAKC,mBAAqB,EAC1B,EAAKC,SAAW,GAChB,EAAKC,aACH,EAAKH,QAAU,EAAKC,mBAAqC,EAAhB,EAAKC,SAChD,EAAKE,QAAUxM,SACb,EAAKuM,aAAgC,KAAhB,EAAKD,SAAiB,EAAKH,YAElD,EAAKM,aACH,EAAKF,aAA+B,IAAhB,EAAKD,SAAiB,EAAKH,WAAa,EAE9D,EAAKO,iBAAmB,OACxB,EAAKC,sBAAwB,OAC7B,EAAKC,mBAAqB,OAC1B,EAAKC,eAAiB,MACtB,EAAKC,YAAc,OAEnB,EAAK7b,IAAIkW,KAAK,KAAd,UAAuB,EAAKD,YAA5B,WACA,EAAKjW,IAAIlgB,IAAI,CACX,mBAAoB,OACpBC,SAAU,aAGZ,EAAK+7B,sBAAuB,EAC5B,EAAKC,YAAc,GACnB,EAAKl7B,MAAQ,KAEb,EAAKm7B,cAAgB,KACrB,EAAKC,YAAc,KACnB,EAAKC,SAAW,KAEhB,EAAKC,iBAAmB,KACxB,EAAKC,eAAiB,KACtB,EAAKC,YAAc,KAEnB,EAAKC,SAAW,EAEhB,EAAKC,MAAQ,IAAIvD,GAAJ,WAAkB,EAAK/C,YAAvB,UAA4C,IAEzD,EAAKuG,aAAe,OAnDa,E,uDAuDjC,OAAO9iC,KAAKyH,UAAUiB,U,+BAItB,OAAO1I,KAAK6hC,U,+BAIZ,uEACA7hC,KAAKsmB,IAAI7X,OAAOzO,KAAKyO,UACrBzO,KAAKyH,UAAUgH,OAAOzO,KAAKyO,Y,uCAGXxM,GAChB,OACEozB,SAAUpzB,EAAIjC,KAAK2iC,YAAe3iC,KAAK+iC,aACvC/iC,KAAKyiC,mB,uCAISjlB,GAChB,OAAO6X,UACH7X,EAAOxd,KAAKyiC,kBAAoBziC,KAAK2iC,YAAe3iC,KAAK+iC,e,kCAK7D,OAAO/iC,KAAK0I,U,oCAGCzG,GACb,OAAOozB,SAAUpzB,EAAIjC,KAAKwiC,SAAYxiC,KAAK+iC,aAAe/iC,KAAKsiC,gB,oCAGlD9kB,GACb,OAAO6X,UACH7X,EAAOxd,KAAKsiC,eAAiBtiC,KAAKwiC,SAAYxiC,KAAK+iC,e,iCAKvD,IADU,EACNC,EAAiB,GADX,iBAEI19B,IAAEuI,MAAM7N,KAAKob,KAAKkB,aAAanjB,SAFnC,IAEV,2BAAsD,SACpD6pC,EAAevpC,KAAK,IAHZ,gCAKV,IALU,EAKNgkB,EAAUzd,KAAKob,KAAKsC,kBALd,iBAMOpY,IAAEuI,MAAM7N,KAAKob,KAAK+C,oBANzB,IAMV,2BAAuD,KAA9CX,EAA8C,QACrDC,EAAQD,KAAOA,EACXC,EAAQiE,YACVshB,EAAevlB,EAAQG,aAAe,IAThC,gCAYVolB,EAAiB19B,IAAE29B,OAAOD,GAAgB,SAAAnoC,GAAC,OAAIA,EAAI,KACnD,IAAIqoC,EAAgB59B,IAAE69B,KAAKH,GAC3BhjC,KAAK4iC,SAAWvN,SAAS,IAAO6N,K,gCAIhCljC,KAAKqiC,YAAYlpC,OAAS,EAC1B6G,KAAKojC,WAEL,IAJS,EAIL1P,GAAU,EACV9V,EAAa,EAEbH,EAAUzd,KAAKob,KAAKsC,kBAPf,iBAQQpY,IAAEuI,MAAM7N,KAAKob,KAAK+C,oBAR1B,IAQT,2BAAuD,KAA9CX,EAA8C,QAGrD,GAFAC,EAAQD,KAAOA,EAEVC,EAAQiE,UAAb,CAIA,GAAI9D,IAAeH,EAAQG,YAAc8V,IAAWjW,EAAQiW,OAAQ,CAClEA,EAASjW,EAAQiW,OACjB9V,EAAaH,EAAQG,WAF6C,uBAGpDtY,IAAEuI,MAAM7N,KAAK4iC,WAHuC,IAGlE,2BAAsC,KAA7B3pC,EAA6B,QAChCoqC,EAAa,KACP,IAANpqC,IACFoqC,EAAarjC,KAAKob,KAAKkB,aAAasB,GACpCylB,GAAc,IAAMrjC,KAAKob,KAAKuY,OAAOD,IAEvC1zB,KAAKqiC,YAAY5oC,KAAK,CACpBkkB,MAAOF,EAAQE,MACfC,aACA1gB,EAAG,GACHmmC,aACA7lB,KAAM,KACN8E,GAAI,MAf0D,iCAoBpE,IAAIghB,EAAQ,CACV1lB,aACAD,MAAOF,EAAQE,MACfH,OACA6lB,WAAY,KACZ/gB,GAAI7E,EAAQ6E,GACZ5a,MAAO+V,EAAQzD,MAAQ,IAAMyD,EAAQ4R,QACrCuE,OAAQnW,EAAQmW,QAGdvE,EAAU5R,EAAQ4R,QAEpBiU,EAAMpmC,EADJmyB,KAAW12B,GACHA,GAAa02B,GAEb,IAGZrvB,KAAKqiC,YAAY5oC,KAAK6pC,KApDf,gCAuDTtjC,KAAKmH,MAAQnH,KAAKqiC,YAAYlpC,OAC9B6G,KAAKsiC,cAAgBtiC,KAAK4iC,SAC1B5iC,KAAKyiC,iBAAmB,EACxBziC,KAAK2iC,YAAc3iC,KAAKmH,MACxBnH,KAAK0iC,eAAiB1iC,KAAKmH,Q,uCAGXo8B,GAChBvjC,KAAKsiC,cAAgBvgC,KAAKqgB,IAAImhB,EAAQ,GAAMvjC,KAAKwiC,SAAU,GAC3DxiC,KAAKsiC,cAAgBvgC,KAAK0G,IACxBzI,KAAKsiC,cACLtiC,KAAKmH,MAAQnH,KAAKwiC,UAEpBxiC,KAAKsiC,cAAgBjN,SAASr1B,KAAKsiC,eACnCtiC,KAAKuiC,YAAcviC,KAAKsiC,cAAgBtiC,KAAKwiC,W,oCAGhCe,GACb,GAAIA,GAASvjC,KAAKqiC,YAAYlpC,OAC5B,OAAO6G,KAAK+hC,iBAEd,IAAIvkB,EAAOxd,KAAKqiC,YAAYkB,GAAO/lB,KACnC,OAAIlY,IAAEC,MAAMiY,GACHxd,KAAK+hC,kBAEd/hC,KAAKyd,QAAQK,KAAKN,GACdlY,IAAEC,MAAMvF,KAAKyd,QAAQsU,aAChB/xB,KAAK+hC,iBAEL,IAAM/hC,KAAKyd,QAAQsU,YAAYyR,kB,uCAIxBC,GAChB,IAAK,IAAIF,EAAQE,EAAYF,EAAQvjC,KAAKmH,MAAQ,EAAGo8B,GAAS,EAAG,CAC/D,IAAIG,EAAY1jC,KAAKqiC,YAAYkB,EAAQ,GACzC,IAAKj+B,IAAEC,MAAMm+B,EAAUlmB,MACrB,OAAO+lB,EAGX,OAAO,O,mCAIPvjC,KAAKwiC,SAAWzgC,KAAK8kB,KAAK7mB,KAAK0I,QAAU1I,KAAKuhC,WAE9C,IAAIoC,EAAW3jC,KAAK2d,MAOpB,GAJA3d,KAAKyiC,iBAAmB,EACxBziC,KAAK2iC,YAAc3iC,KAAKqiC,YAAYlpC,OACpC6G,KAAK0iC,eAAiB1iC,KAAKyiC,iBAAmBziC,KAAK2iC,YAEnB,UAA5B3iC,KAAKygB,SAASjB,UAAuB,CACvC,IAAIokB,EAAa5jC,KAAKob,KAAKyoB,wBAE3B,GAAIv+B,IAAEC,MAAMq+B,GACV5jC,KAAK2d,MAAQ,SACR,CACL3d,KAAKyiC,iBAAmB,KADnB,uBAEan9B,IAAEuI,MAAM7N,KAAKqiC,YAAYlpC,SAFtC,IAEL,2BAAoD,KAA3CoqC,EAA2C,QAC9CG,EAAY1jC,KAAKqiC,YAAYkB,GAE/BG,EAAU9lB,aAAegmB,EAAWhmB,YACpC8lB,EAAU/lB,QAAUimB,EAAWjmB,QAE3BrY,IAAEC,MAAMvF,KAAKyiC,oBACfziC,KAAKyiC,iBAAmBc,EACxBvjC,KAAK2d,MAAQ+lB,EAAU/lB,OAEzB3d,KAAK0iC,eAAiBa,EAAQ,IAZ7B,gCAiBL,GAFAvjC,KAAK2iC,YAAc3iC,KAAK0iC,eAAiB1iC,KAAKyiC,iBAE1Cn9B,IAAEC,MAAMo+B,KAAcr+B,IAAEC,MAAMvF,KAAK2d,QACrC,IACE,IAAI4lB,EAAQvjC,KAAKyiC,iBACjBc,EAAQvjC,KAAK0iC,eACba,GAAS,EAET,GAAIj+B,IAAEw+B,IAAI9jC,KAAKqiC,YAAYkB,GAAQ,QAAS,CAC1CvjC,KAAKsiC,cAAgBiB,EACrBvjC,KAAKuiC,YAAcviC,KAAKsiC,cAAgBtiC,KAAKwiC,SAC7C,YAIJ,GACExiC,KAAKsiC,cAAgBtiC,KAAKyiC,kBAC1BziC,KAAKsiC,eAAiBtiC,KAAK0iC,eAC3B,CACA,IAAIJ,EAAgBtiC,KAAK+jC,iBAAiB/jC,KAAKyiC,kBAC3Cn9B,IAAEC,MAAM+8B,GACVtiC,KAAKsiC,cAAgBtiC,KAAKyiC,iBAE1BziC,KAAKsiC,cAAgBA,EAEvBtiC,KAAKuiC,YAAcviC,KAAKsiC,cAAgBtiC,KAAKwiC,WAOjDxiC,KAAKsiC,cAAgBtiC,KAAKwiC,SAAWxiC,KAAKqiC,YAAYlpC,SACxD6G,KAAKsiC,cAAgBtiC,KAAKuiC,YAAcviC,KAAKwiC,UAE3CxiC,KAAKsiC,cAAgB,IACvBtiC,KAAKsiC,cAAgB,GAEvBtiC,KAAKuiC,YAAcviC,KAAKsiC,cAAgBtiC,KAAKwiC,W,6BAO7CxiC,KAAKgkC,aAEL,IAAIC,EAAgBjkC,KAAKyhC,QAAU,EAC/ByC,EAAiBlkC,KAAKyhC,QAAU,EAChC0C,EAAkBnkC,KAAK4hC,aAAeqC,EAAgB,EACtDG,EAAgBH,EAAgBE,EAAkB,EAAI,EACtDE,EAAiBrkC,KAAK6hC,QAAU7hC,KAAK4hC,aAyBzC,GAtBA5hC,KAAKy9B,SAAS,EAAG,EAAGz9B,KAAK0I,QAAS1I,KAAKyO,SAAUzO,KAAKgiC,uBAGtDhiC,KAAKy9B,SACH,EACAz9B,KAAK4hC,aACL5hC,KAAK0I,QACL27B,EACArkC,KAAKiiC,oBAIPjiC,KAAK6wB,KACH,EACA7wB,KAAK4hC,aACL5hC,KAAK0I,QACL1I,KAAK4hC,aACL,EACA5hC,KAAKmiC,aAEPniC,KAAK6wB,KAAK,EAAG7wB,KAAK6hC,QAAS7hC,KAAK0I,QAAS1I,KAAK6hC,QAAS,EAAG7hC,KAAKmiC,aAE1DvD,EAAY5+B,KAAKygB,WAIU,IAA5BzgB,KAAKqiC,YAAYlpC,OAArB,CAIA,IAyBImrC,EAzBArtB,EAAQjX,KAAKygB,SAAShF,YAAYxE,MAClCstB,EAAcvkC,KAAKygB,SAASrF,KAAK4C,aAAa/G,GAAOuG,KAErDke,EAAK17B,KAAKwkC,iBAAiBxkC,KAAKsiC,eAChC1G,EAAK57B,KAAKwkC,iBAAiBxkC,KAAKuiC,aAGpCviC,KAAKy9B,SACH/B,EACAuI,EACArI,EAAKF,EACLyI,EACAnkC,KAAKiiC,oBAIPjiC,KAAK6wB,KACH,EACAuT,EACApkC,KAAK0I,QACL07B,EACA,EACApkC,KAAKmiC,aAMP,IAGIsC,EAHAniB,EAAKtiB,KAAKqiC,YAAY,GAAG/f,GACzBplB,EAAI8C,KAAKqiC,YAAY,GAAGnlC,EACxBiP,EAAQnM,KAAK0kC,cAAc,GAE3Br5B,EAAS,EACTC,EAAO,EACX,MAAOA,EAAOtL,KAAKmH,MAAO,CACxBmE,GAAQ,EACRm5B,EAAWzkC,KAAK0kC,cAAcp5B,GAC9B,IAAIo4B,EAAY1jC,KAAKqiC,YAAY/2B,GAC7Bq5B,EACFr/B,IAAEC,MAAMm+B,IACRp4B,IAAStL,KAAKmH,OACdu8B,EAAUphB,KAAOA,GACjBmiB,IAAat4B,EACf,GAAIw4B,EAAgB,CAClB,IAAIjJ,EAAK17B,KAAKwkC,iBAAiBn5B,GAC3BuwB,EAAK57B,KAAKwkC,iBAAiBl5B,GAC3BgyB,EAAIt9B,KAAK0hC,mBACTkD,EAAOR,EAAgB9G,EAAI,EACrB,KAANpgC,IACS,MAAPolB,GAAqB,MAAPA,IAChBsiB,GAAQ,EACRtH,GAAK,GAEPt9B,KAAKy9B,SAAS/B,EAAIkJ,EAAMhJ,EAAKF,EAAI4B,EAAGnxB,IAElCb,GAAQtL,KAAKmH,MAAQ,IACvBkE,EAASC,EACTgX,EAAKohB,EAAUphB,GACfplB,EAAIwmC,EAAUxmC,EACdiP,EAAQs4B,IAMdzkC,KAAK6wB,KACH,EACA7wB,KAAK8hC,aACL9hC,KAAK0I,QACL1I,KAAK8hC,aACL,EACA9hC,KAAKmiC,aAIP,IAAK,IAAIoB,EAAQvjC,KAAKsiC,cAAeiB,EAAQvjC,KAAKuiC,YAAagB,GAAS,EAAG,CACzE,IAAIG,EAAY1jC,KAAKqiC,YAAYkB,GACjC,IAAIj+B,IAAE0N,YAAY0wB,IAA8B,KAAhBA,EAAUxmC,EAA1C,CAIAonC,EAAatkC,KAAK0kC,cAAcnB,GAEhC,IAAIsB,EAAQ7kC,KAAK8kC,cAAcvB,GAC3BwB,EAAS/kC,KAAK8kC,cAAcvB,EAAQ,GACpC76B,EAAQq8B,EAASF,EACjBG,EAAOH,EAAQn8B,EAAQ,EACvB+F,EAASzO,KAAKwhC,WACdoD,EAAO5kC,KAAK8hC,aAAerzB,EAAS,EACnB,MAAjBi1B,EAAUphB,IAA+B,MAAjBohB,EAAUphB,KACpCsiB,GAAQ,EACRn2B,GAAU,GAGZzO,KAAKy9B,SAASoH,EAAOD,EAAMl8B,EAAO+F,EAAQ61B,GAE1CtkC,KAAKyF,KACHi+B,EAAUxmC,EACV8nC,EACAhlC,KAAK8hC,aACL,gBACA,QACA,UAIE9hC,KAAKo7B,WAAW6J,cACdV,GAAe,GAAKA,IAAgBb,EAAUlmB,MAChDxd,KAAKu9B,WACHsH,EACAD,EAAO,EACPl8B,EACA+F,EAAS,GACTzO,KAAKkiC,gBAMPwB,EAAU9P,OAAS,KAAO,GAA0B,IAArB8P,EAAU9P,SAC3C5zB,KAAK6wB,KACHgU,EACA7kC,KAAK6hC,QACLgD,EACA7kC,KAAK6hC,QAAU,EACf,EACA7hC,KAAKmiC,aAEPniC,KAAKyF,KACH,GAAKi+B,EAAU9P,OACfiR,EAAQ,EACR7kC,KAAK6hC,QAAU,EACf,gBACA7hC,KAAKmiC,YACL,UAMNniC,KAAK6wB,KAAK6K,EAAK,EAAGuI,EAAerI,EAAK,EAAGqI,EAAe,EAAGjkC,KAAKmiC,aAChEniC,KAAK6wB,KACH6K,EAAK,EACLuI,EACAvI,EAAK,EACL17B,KAAK4hC,aAAe,EACpB,EACA5hC,KAAKmiC,aAEPniC,KAAK6wB,KACH+K,EAAK,EACLqI,EACArI,EAAK,EACL57B,KAAK4hC,aAAe,EACpB,EACA5hC,KAAKmiC,aAIP,IAAIoB,EAAQ,EACZ,MAAOA,EAAQvjC,KAAKmH,MAAO,CACzB,GAAInH,KAAKqiC,YAAYkB,GAAOF,WAAY,CACtC,IAAIphC,EAAIjC,KAAKwkC,iBAAiBjB,GAAS,GACvCvjC,KAAKyF,KACHzF,KAAKqiC,YAAYkB,GAAOF,WACxBphC,EACAiiC,EACA,gBACA,OACA,QAGJX,GAAS,M,+BAKX,IAAItsB,EAAQ3R,IAAE9H,IAAIwC,KAAKygB,SAAU,oBAC7B8jB,EAAcvkC,KAAKygB,SAASrF,KAAK4C,aAAa/G,GAAOuG,KAEzD,IAAKlY,IAAEC,MAAMg/B,GACX,IAAK,IAAIhB,KAASj+B,IAAEuI,MAAM7N,KAAKmH,OAC7B,GAAInH,KAAKqiC,YAAYkB,GAAO/lB,OAAS+mB,EAAa,EAE9ChB,EAAQvjC,KAAKsiC,eACbiB,GAASvjC,KAAKsiC,cAAgBtiC,KAAKwiC,WAEnCxiC,KAAKklC,iBAAiB3B,GAExB,MAKNvjC,KAAKmlC,S,gCAGInpC,GAGT,GAFAgE,KAAKw+B,WAAWxiC,GAEZgE,KAAKm+B,SAAWn+B,KAAK4hC,aAAc,CACrC5hC,KAAK6iC,MAAMjD,OACX,IAAI2D,EAAQvjC,KAAKolC,iBAAiBplC,KAAKi+B,UACnCyF,EAAY1jC,KAAKqiC,YAAYkB,GACC,KAA9Bj+B,IAAE9H,IAAIkmC,EAAW,IAAK,MACxB1jC,KAAK6iC,MAAMh9B,KAAK69B,EAAUh8B,OAC1B1H,KAAK6iC,MAAMzC,KAAKpgC,KAAKwkC,iBAAiBjB,GAAQ,SAE3C,CACLvjC,KAAK6iC,MAAMjD,OACX,IAAI2D,EAAQvjC,KAAKqlC,cAAcrlC,KAAKi+B,UAChCyF,EAAY1jC,KAAKqiC,YAAYkB,GACjC,GAAkC,KAA9Bj+B,IAAE9H,IAAIkmC,EAAW,IAAK,IAAY,CACpC1jC,KAAK6iC,MAAMh9B,KAAK69B,EAAUh8B,OAC1B,IAAIzF,EAAIjC,KAAK8kC,cAAcvB,GAASvjC,KAAKuhC,UAAY,EACrDvhC,KAAK6iC,MAAMzC,KAAKn+B,EAAGjC,KAAK8hC,eAG5B,GAA0B,QAAtB9hC,KAAK28B,aACP38B,KAAKklC,iBAAiBllC,KAAKolC,iBAAiBplC,KAAKi+B,WACjDj+B,KAAKmlC,YACA,GAA0B,WAAtBnlC,KAAK28B,aAA2B,CACzC,IAAI2I,EAAWtlC,KAAKqlC,cAAcrlC,KAAKi+B,UACnCsH,EAAYD,EAAWtlC,KAAKwlC,aAChCxlC,KAAKsiC,eAAiBiD,EACtBvlC,KAAKmlC,U,iCAKPnlC,KAAK6iC,MAAMjD,OACX5/B,KAAK28B,aAAe,K,gCAIhB38B,KAAKoiC,sBACPpiC,KAAK0+B,MAAM1iC,OAEbgE,KAAK6iC,MAAMjD,OACX5/B,KAAK28B,aAAe,K,kCAGT3gC,GACXyC,QAAQ+f,IACN,6BACAxe,KAAK8iC,aACL9iC,KAAKwlC,cAEPxlC,KAAKw+B,WAAWxiC,GAChB,IAAIunC,EAAQ,KAGVA,EAFwB,WAAtBvjC,KAAK8iC,aAEC9iC,KAAKqlC,cAAcrlC,KAAKi+B,UAExBj+B,KAAKolC,iBAAiBplC,KAAKi+B,UAErC,IAAIyF,EAAY1jC,KAAKqiC,YAAYkB,GACjC,IAAKj+B,IAAEC,MAAMm+B,EAAUlmB,MAAO,CACF,QAAtBxd,KAAK8iC,aACP9iC,KAAK8/B,WAAWjd,yBAAyB6gB,EAAUlmB,MAEnDxd,KAAK8/B,WAAW9d,iBAAiB0hB,EAAUlmB,MAAM,GAEnD,IAAIC,EAAUzd,KAAKob,KAAKsC,gBAAgBgmB,EAAUlmB,MAClDxd,KAAK8/B,WAAW2F,YAAYhoB,EAAQxG,U,4BAIjCjb,GACL,IAAIunC,EAAQ,KAQZ,GALEA,EAFwB,WAAtBvjC,KAAK8iC,aAEC9iC,KAAKqlC,cAAcrlC,KAAKi+B,UAExBj+B,KAAKolC,iBAAiBplC,KAAKi+B,UAGjCsF,IAAUvjC,KAAKwlC,aAInB,GAA0B,QAAtBxlC,KAAK8iC,aAAwB,CAC/B,IAAIY,EAAY1jC,KAAKqiC,YAAYriC,KAAKwlC,cACtC,IAAKlgC,IAAEC,MAAMm+B,EAAUlmB,MAAO,CAC5B,IAAIA,EAAOkmB,EAAUlmB,KACrBxd,KAAK8/B,WAAW4F,yBAAyBloB,SAEtC,GAA0B,WAAtBxd,KAAK8iC,aAA2B,CACzC,IAAIY,EAAY1jC,KAAKqiC,YAAYriC,KAAKwlC,cACtC,IAAKlgC,IAAEC,MAAMm+B,EAAUlmB,MAAO,CAC5B,IAAIA,EAAOkmB,EAAUlmB,KAChBxhB,EAAM2pC,SAAY3pC,EAAM4pC,SAElB5pC,EAAM4pC,SACf5lC,KAAK8/B,WAAW+F,+BAA+BroB,GAE/Cxd,KAAK8/B,WAAWgG,wBAAwBtoB,GAJxCxd,KAAK8/B,WAAWte,cAAchE,O,gCAU3BxhB,GACTA,EAAM+J,iBAEN/F,KAAKw+B,WAAWxiC,GAChBgE,KAAKy+B,YAEDz+B,KAAKm+B,SAAWn+B,KAAK4hC,aACvB5hC,KAAK28B,aAAe,MAEpB38B,KAAK28B,aAAe,SAGtB,IAAIoJ,GAAM,IAAIC,MAAOC,UACjBpmB,EAAc7f,KAAKkmC,YAAcH,EAAM/lC,KAAKkmC,YAAc,EAE1DrmB,EAAc,MAChB7f,KAAKoiC,sBAAuB,GAGzBpiC,KAAKoiC,qBAQCviB,EAAc,MACvB7f,KAAK2+B,YAAY3iC,GACjBgE,KAAKoiC,sBAAuB,IAT5BpiC,KAAK8iC,aAAe9iC,KAAK28B,aACC,WAAtB38B,KAAK8iC,aACP9iC,KAAKwlC,aAAexlC,KAAKqlC,cAAcrlC,KAAKi+B,UAE5Cj+B,KAAKwlC,aAAexlC,KAAKolC,iBAAiBplC,KAAKi+B,UAEjDj+B,KAAKoiC,sBAAuB,GAM9BpiC,KAAKkmC,aAAc,IAAIF,MAAOC,UAC9BjmC,KAAKk9B,UAAUlhC,O,GAppBUqgC,IA2pBvB8J,G,0DACJ,WAAa/K,EAAYkB,GAAU,oCACjC,cAAMA,GACN,EAAKhW,IAAIlgB,IAAI,WAAY,YACzB,EAAKqa,SAAW2a,EAAW3a,SAC3B,EAAKqf,WAAa1E,EAAW0E,WAC7B1E,EAAWkG,YAAX,oBACA,EAAK8E,WAAa,EAClB,EAAK9f,IAAIlgB,IAAI,aAAc,cAC3B,EAAKigC,YAAc,mBARc,E,wDAYjCrmC,KAAKsmB,IAAIlgB,IAAI,CACXsC,MAAO1I,KAAK0I,QACZ+F,OAAQzO,KAAKyO,WAEf,uEACAzO,KAAKsmC,W,0BAIL,OAAO,I,0BAIP,OAAO,I,8BAIP,IAAIC,EAAMvmC,KAAKyH,UAAU,GAAG03B,wBAC5B,OAAOoH,EAAI79B,MAAQ,K,+BAInB,OAAO1I,KAAKyH,UAAUgH,W,2BAGlBxM,GACJ,IAAIgS,EAAWhS,EAAIjC,KAAK0I,QACxB,OAAQ,GAAMuL,GAAYjU,KAAKomC,a,2BAG3BjkC,GACJ,IAAI8R,EAAW9R,EAAInC,KAAKomC,WACxB,OAAQ,GAAMnyB,GAAYjU,KAAK0I,U,+BAI/B,IAAI0S,EAAOpb,KAAKygB,SAASrF,KACrBjE,EAAenX,KAAKygB,SAAShF,YAAYtE,aAC7CnX,KAAKomC,WAAa,EAAIhrB,EAAK4B,UAE3B,IAAIwpB,EAAQxmC,KAAKymC,KAAKtvB,EAAaG,OAC/BovB,EAAS1mC,KAAKymC,KAAKtvB,EAAaE,QAChC2tB,EAAOhlC,KAAKymC,KAAK,GACjBE,EAAO3mC,KAAKyO,SAAW,EACvBivB,EAAO,gBAGX19B,KAAKy9B,SAAS,EAAG,EAAGz9B,KAAK0I,QAAS1I,KAAKyO,SAAU,QAGjDzO,KAAKy9B,SAAS,EAAGkJ,EAAO,EAAG3mC,KAAK0I,QAAS,EAAG,QAG5C1I,KAAKy9B,SAASuH,EAAM2B,EAAO,EAAGH,EAAQxB,EAAM,EAAGhlC,KAAKqmC,aAGpD,IAAIO,EAAgB5mC,KAAK+iC,UAAU,OAAQrF,GAC3C19B,KAAKy9B,SACH+I,EAAQ,EAAII,EACZ,EACAA,EAAgB,EAChB5mC,KAAKyO,SACL,QAEFzO,KAAKyF,KAAK,OAAQ+gC,EAAQ,EAAII,EAAeD,EAAMjJ,EAAM,OAAQ,QAGjE19B,KAAKy9B,SAASiJ,EAAQC,EAAO,EAAG3B,EAAO0B,EAAQ,EAAG1mC,KAAKqmC,aAGvD,IAAIQ,EAAiB7mC,KAAK+iC,UAAU,QAASrF,GAC7C19B,KAAKy9B,SAASiJ,EAAQ,EAAGG,EAAiB,EAAG7mC,KAAKyO,SAAU,QAC5DzO,KAAKyF,KAAK,QAASihC,EAAS,EAAGC,EAAMjJ,EAAM,OAAQ,QAGnD19B,KAAK6wB,KAAKmU,EAAM,EAAGA,EAAMhlC,KAAKyO,SAAU,EAAG,a,2BAGvCzS,GACJgE,KAAKw+B,WAAWxiC,GAChBgE,KAAKmC,EAAInC,KAAK8mC,KAAK9mC,KAAKi+B,Y,gCAGfjiC,GACTgE,KAAK+mC,KAAK/qC,GAENgE,KAAKmC,EAAI,GACXnC,KAAK4R,MAAO,EACZ5R,KAAK2R,OAAQ,IAEb3R,KAAK2R,OAAQ,EACb3R,KAAK4R,MAAO,GAGd,yEAAgB5V,K,gCAGPA,GAIT,GAHAA,EAAM+J,iBACN,yEAAgB/J,GAEXgE,KAAK28B,aAAV,CAIA38B,KAAK+mC,KAAK/qC,GAEV,IAAImb,EAAenX,KAAKygB,SAAShF,YAAYtE,aACzCG,EAAQH,EAAaG,MACrBD,EAASF,EAAaE,OACtBrX,KAAK4R,KACP5R,KAAK8/B,WAAWkH,QAAQjlC,KAAKqgB,IAAI,EAAGpiB,KAAKmC,GAAIkV,GACpCrX,KAAK2R,OACd3R,KAAK8/B,WAAWkH,QAAQ1vB,EAAOvV,KAAK0G,KAAK,EAAGzI,KAAKmC,IAEnDnC,KAAKsmC,c,GAhIyBjK,IAoI5B4K,G,WACJ,WAAa7L,EAAYkB,EAAUjgB,EAAMpa,EAAGC,EAAGiK,GAAO,kCACpDnM,KAAKygB,SAAW2a,EAAW3a,SAC3BzgB,KAAK8/B,WAAa1E,EAAW0E,WAC7B9/B,KAAKqc,KAAOA,EACZrc,KAAKmM,MAAQA,EACbnM,KAAKsmB,IAAM1gB,IAAE02B,GACV72B,KAAK4W,GACLvW,SAAS,mBACTM,IAAI,WAAY,YAChBA,IAAI,MAAOlE,EAAI,MACfkE,IAAI,OAAQnE,EAAI,MAChBmE,IAAI,SAAU,QACdA,IAAI,QAAS,QACbrF,GAAG,eAAe,SAAAjG,GACjBA,EAAEiL,iBACF,EAAKmhC,YAETlnC,KAAKsmC,SACLlL,EAAWkG,YAAYthC,M,2DAIvB,OAAOA,KAAKygB,SAASrF,KAAK7C,KAAKC,OAAOxY,KAAKqc,Q,+BAI3Crc,KAAK8/B,WAAWqH,eAAennC,KAAKqc,MACpCrc,KAAKsmC,W,+BAIDtmC,KAAKonC,YACHpnC,KAAKmM,MACPnM,KAAKsmB,IAAIlgB,IAAI,mBAAoBpG,KAAKmM,OAEtCnM,KAAKsmB,IAAIxgB,SAAS,6BAGhB9F,KAAKmM,MACPnM,KAAKsmB,IAAIlgB,IAAI,mBAAoB,IAEjCpG,KAAKsmB,IAAI+gB,YAAY,iC,KASvBC,G,0DACJ,WAAalM,GAAY,oCACvB,cAAMA,EAAWK,QAEjB,EAAKL,WAAaA,EAClB,EAAK3a,SAAW2a,EAAW3a,SAC3B,EAAKqf,WAAa1E,EAAW0E,WAC7B1E,EAAWkG,YAAX,oBAEA,EAAKiG,gBAAkB,OACvB,EAAKC,aAAe,GACpB,EAAKC,aAAmC,EAApB,EAAKD,aAAmB,GAC5C,EAAKE,OAAStM,EAAWsM,OAEzB,EAAKphB,IAAIlgB,IAAI,UAAW,QACxB,EAAKkgB,IAAIkW,KAAK,KAAM,gBACpB,EAAKlW,IAAIlgB,IAAI,SAAU,EAAKqI,UAC5B,EAAK6X,IAAIxgB,SAAS,mBAElB,EAAK6hC,WAAa/hC,IAAE,mCACpB,EAAK0gB,IAAI9d,OAAO,EAAKm/B,YAnBE,E,yDAuBvB,GAAK3nC,KAAK0nC,OAAV,CAIA1nC,KAAK2nC,WAAWC,QAEhB,IAPS,EAOL1lC,EAAI,GAPC,iBAQQoD,IAAE2U,KAAKja,KAAKygB,SAASrF,KAAK7C,KAAKC,SARvC,IAQT,2BAAyD,KAAhD6D,EAAgD,QACvDrc,KAAK6nC,eAAexrB,EAAMna,GAC1BA,GAAKlC,KAAKwnC,cAVH,gCAa6C,IAAlDliC,IAAE2U,KAAKja,KAAKygB,SAASrF,KAAK7C,KAAKC,QAAQrf,OACzC6G,KAAKsmB,IAAIsZ,OAET5/B,KAAKsmB,IAAIzO,U,qCAIGwE,EAAMna,GACpB,IAAIiK,EAAQxT,GAAmB0jB,GAC3ByrB,EAAc,IAAM37B,EAAMq3B,eAC1BxsB,EAAK,eAAiBqF,EAAK0rB,cAC3BzL,EAAW,IAAH,OAAOtlB,GACnBhX,KAAK2nC,WAAWn/B,OAAO5C,IAAE,YAAD,OAAaoR,EAAb,QACxB,IAAIiwB,GACFjnC,KAAKo7B,WACLkB,EACAjgB,EACA,GACAna,EACA4lC,K,+BAKG9nC,KAAK0nC,SAGV1nC,KAAKsmB,IAAIlgB,IAAI,CACXsC,MAAO1I,KAAK0I,QACZ+F,OAAQzO,KAAKyO,SACbnI,IAAKtG,KAAKkC,IACVqE,KAAMvG,KAAKiC,MAEbjC,KAAKy8B,UAAU/zB,MAAQ1I,KAAK0I,QAC5B1I,KAAKy8B,UAAUhuB,OAASzO,KAAKyO,Y,8BAI7B,OAAO,K,+BAIP,OAA2B,EAApBzO,KAAKwnC,aAAmB,K,0BAI/B,IAAInK,EAAer9B,KAAKyH,UAAUpB,WAClC,OAAOg3B,EAAa92B,KAAO,I,0BAI3B,IAAI82B,EAAer9B,KAAKyH,UAAUpB,WAClC,OAAOg3B,EAAa/2B,IAAM,K,2BAGtBpE,GACJ,IAAI+R,GAAY/R,EAAI,IAAMlC,KAAKynC,aAC3BlvB,EAAOvY,KAAKygB,SAASrF,KAAK7C,KAC1B5V,EAAO4V,EAAKsc,KAAOtc,EAAKuc,KACxB3yB,EAAI8R,EAAWtR,EAAO4V,EAAKuc,KAO/B,OANI3yB,EAAInC,KAAKygB,SAASrF,KAAK7C,KAAKuc,OAC9B3yB,EAAInC,KAAKygB,SAASrF,KAAK7C,KAAKuc,MAE1B3yB,EAAInC,KAAKygB,SAASrF,KAAK7C,KAAKsc,OAC9B1yB,EAAInC,KAAKygB,SAASrF,KAAK7C,KAAKsc,MAEvB1yB,I,2BAGHA,GACJ,IAAIoW,EAAOvY,KAAKygB,SAASrF,KAAK7C,KAC1B5V,EAAO4V,EAAKsc,KAAOtc,EAAKuc,KAC5B,OAAS3yB,EAAIoW,EAAKuc,MAAQnyB,EAAQ3C,KAAKynC,aAAe,K,+BAItD,GAAKznC,KAAK0nC,OAAV,CAIA1nC,KAAKy9B,SAAS,EAAG,EAAGz9B,KAAK0I,QAAS1I,KAAKyO,SAAUzO,KAAKunC,iBAEtD,IAAIS,EAAK,GAELpD,EAAO5kC,KAAKioC,KAAKjoC,KAAKygB,SAASrF,KAAK7C,KAAKuc,MACzC+M,EAAU7hC,KAAKioC,KAAKjoC,KAAKygB,SAASrF,KAAK7C,KAAKsc,MAGhD70B,KAAKy9B,SAASuK,EAAK,EAAGpD,EAAM,EAAG/C,EAAU+C,EAAM,QAE/C,IAAIlH,EAAO,kBACPwK,EAAY,OAEZhmC,EAAIlC,KAAKioC,KAAKjoC,KAAKygB,SAASrF,KAAK7C,KAAKE,SACtChT,EAAOzF,KAAKygB,SAASrF,KAAK7C,KAC3Byc,SAASh1B,KAAKygB,SAASrF,KAAK7C,KAAKE,SACjCwc,QAAQ,GAGXj1B,KAAKy9B,SAASuK,EAAK,EAAG9lC,EAAG,EAAG2/B,EAAU3/B,EAAG,oBAGzClC,KAAKy9B,SAAS,EAAGv7B,EAAG,GAAI,EAAGgmC,GAC3BloC,KAAKyF,KAAKA,EAAMuiC,EAAI9lC,EAAI,EAAGw7B,EAAMwK,EAAW,UAG5CloC,KAAK6wB,KAAK,EAAGgR,EAAS,GAAIA,EAAS,EAAG,QAEtCp8B,EAAOzF,KAAKygB,SAASrF,KAAK7C,KACvByc,SAASh1B,KAAKygB,SAASrF,KAAK7C,KAAKsc,MACjCI,QAAQ,GACXj1B,KAAKyF,KAAKA,EAAMuiC,EAAInG,EAAU,EAAGnE,EAAMwK,EAAW,a,2BAG9ClsC,GACJgE,KAAKw+B,WAAWxiC,GAEhBgE,KAAKmC,EAAInC,KAAKmoC,KAAKnoC,KAAKm+B,Y,gCAGfniC,GACTA,EAAM+J,iBAEN/F,KAAK+mC,KAAK/qC,GAEVgE,KAAK28B,cAAe,EAEpB38B,KAAKk9B,UAAUlhC,K,gCAGNA,GACTA,EAAM+J,iBAED/F,KAAK28B,eAIV38B,KAAK+mC,KAAK/qC,GACVgE,KAAK8/B,WAAWsI,cAAcpoC,KAAKmC,GACnCnC,KAAKsmC,Y,8BAGEtqC,GACPA,EAAM+J,iBAEN/F,KAAK28B,cAAe,M,GArLQN,IA4L1BgM,G,0DACJ,WAAajN,GAAY,oCACvB,cAAMA,EAAWK,QACjB,EAAK6M,OAAS,CAAErmC,EAAG,EAAGC,EAAG,GAEzB,EAAKo5B,OAAOsE,OAEZ,EAAK2I,UAEL,EAAKjiB,IAAIlgB,IAAI,UAAW,SACxB,EAAKkgB,IAAIkW,KAAK,KAAM,gBACpB,EAAKlW,IAAIxgB,SAAS,mBAClB,EAAKwgB,IAAIlgB,IAAI,CACXigB,QAAS,MACThgB,SAAU,WACVoI,OAAQ,OACR/F,MAAO,SAGT,EAAKi/B,WAAa/hC,IAAE,SACjB42B,KAAK,KAAM,wBACXp2B,IAAI,aAAc,QACrB,EAAKkgB,IAAI9d,OAAO,EAAKm/B,YAErB,EAAKa,QAAS,EAEdpN,EAAWkG,YAAX,oBAEA,EAAKmH,UA3BkB,E,yDA+BvB,IAAIC,EAAa,SAAApmB,GAAE,MAAI,IAAM3pB,GAAgB2pB,GAAIkhB,gBACjDxjC,KAAK2B,MAAQ,sBACb3B,KAAK2oC,aAAe,CAClB,CAAEx8B,MAAOu8B,EAAW,KAAMhhC,MAAO,UACjC,CAAEyE,MAAOu8B,EAAW,KAAMhhC,MAAO,SACjC,CAAEyE,MAAOu8B,EAAW,KAAMhhC,MAAO,QACjC,CAAEyE,MAAOu8B,EAAW,KAAMhhC,MAAO,c,gCAKnC1H,KAAK2nC,WAAWC,QAEZ5nC,KAAK2B,OACP3B,KAAK2nC,WAAWn/B,OACd5C,IAAE,SACCH,KAAKzF,KAAK2B,OACVyE,IAAI,CACH,YAAa,QACb,aAAc,YATb,uBAccpG,KAAK2oC,aAAa92B,WAdhC,IAcT,2BAAoD,iCAA1C5Y,EAA0C,KAAvCqqC,EAAuC,KAC9CtsB,EAAK,gBAAkB/d,EACvB2vC,EAAYhjC,IAAE,SACf42B,KAAK,KAAMxlB,GACX5Q,IAAI,CACH,YAAa,QACb,cAAe,QACfi1B,QAAS,UAETwN,EAAWjjC,IAAE,SACdC,KAAK,WACLO,IAAI,CACH+F,MAAOm3B,EAAMn3B,MACbkvB,QAAS,SACT,YAAa,MACb,eAAgB,UAEpBuN,EAAUpgC,OAAOqgC,GACjBD,EAAUpgC,OAAO86B,EAAM57B,OACvB1H,KAAK2nC,WAAWn/B,OAAOogC,IAjChB,gCAoCT5oC,KAAKypB,SACLzpB,KAAKsmC,W,+BAILtmC,KAAKsmB,IAAIlgB,IAAI,CACX0iC,OAAQ9oC,KAAKsoC,OAAOpmC,EACpBqE,KAAMvG,KAAKsoC,OAAOrmC,M,8BAKpB,OAAO,K,+BAIP,OAAOjC,KAAK2nC,WAAWl5B,W,+BAInBzO,KAAKwoC,OACPxoC,KAAKsmB,IAAIzO,OAET7X,KAAKsmB,IAAIsZ,W,GArGiBvD,IA6G1B0M,G,0DACJ,WAAa3N,GAAY,oCAEvB,cAAMA,EAAWK,QACjB,EAAKL,WAAaA,EAClB,EAAKkN,OAAS,CAAErmC,EAAG,EAAGC,EAAG,GACzB,EAAKo5B,OAAOsE,OAEZ,EAAKtZ,IAAIlgB,IAAI,UAAW,SACxB,EAAKkgB,IAAIkW,KAAK,KAAMpB,EAAW4N,WAAa,cAC5C,EAAK1iB,IAAIxgB,SAAS,mBAClB,EAAKwgB,IAAIlgB,IAAI,CACXigB,QAAS,MACThgB,SAAU,WACV,YAAa,QACboI,OAAQ,OACR,YAAa,QAEb,aAAc,SAGhB,EAAK+5B,QAAS,EAEdpN,EAAWkG,YAAX,oBAtBuB,E,wDA0BvBthC,KAAKsmB,IAAIlgB,IAAI,CACX0iC,OAAQ9oC,KAAKsoC,OAAOpmC,EACpB4oB,MAAO9qB,KAAKsoC,OAAOrmC,M,gCAarB,IARA,IAAImZ,EAAOpb,KAAKo7B,WAAWhgB,KACvBqC,EAAUrC,EAAKsC,kBAEfjY,EAAO,GACPwjC,EAAQ,KACRC,EAAO,KACPvrB,EAAQ,KACRwrB,GAAc,EACTlwC,EAAI,EAAGA,EAAImiB,EAAK+C,kBAAmBllB,GAAK,EAC/CwkB,EAAQD,KAAOvkB,EACXwkB,EAAQjG,UACI,OAAVmG,GAAkBA,IAAUF,EAAQE,QACxB,OAAVA,IACFlY,GAAQ,QAEVkY,EAAQF,EAAQE,MAChBlY,GAAQ2V,EAAKkB,aAAamB,EAAQG,YAAc,IAAMD,EAAQ,KAC9DwrB,GAAc,GAEF,OAAVF,GACFA,EAAQxrB,EAAQmW,OAChBsV,EAAOzrB,EAAQmW,QAEfsV,EAAOzrB,EAAQmW,QAGH,OAAVqV,IACEE,EACF1jC,GAAQ,KAER0jC,GAAc,EAGd1jC,GADEwjC,IAAUC,EACJD,EAEAA,EAAQ,IAAMC,EAExBD,EAAQ,KACRC,EAAO,MAIb,IAAKzjC,GACwC,UAAvCzF,KAAKo7B,WAAW3a,SAASjB,WACvBpE,EAAKzD,eAAexe,OAAS,EAAG,CAClC,IAAI0kB,EAASzC,EAAKzD,eAAe,GAC7B6F,EAAOpC,EAAKxO,OAAOiR,GAAQ5S,QAAQ,GACnCwS,EAAUrC,EAAKsC,gBAAgBF,GAC/BiX,EAAcrZ,EAAKkB,aAAamB,EAAQG,YAC5CnY,GAAQ,GAAJ,OAAOgvB,EAAP,YAAsBhX,EAAQE,OAIxC,OAAOlY,I,iLAIHlL,EAAIyF,KAAKopC,UACR7uC,GAGHyF,KAAKsmB,IAAIzO,OACT7X,KAAKsmB,IAAIzgB,KAAKtL,GACdyF,KAAKypB,UAJLzpB,KAAKsmB,IAAIsZ,O,8GA7FevD,IAsGxBgN,G,WACJ,WAAajO,EAAYkB,GAAU,kCACjCt8B,KAAK8/B,WAAa1E,EAAW0E,WAC7B9/B,KAAKygB,SAAW2a,EAAW3a,SAC3BzgB,KAAKo7B,WAAaA,EAClBp7B,KAAKo7B,WAAWkG,YAAYthC,MAE5BA,KAAKsmB,IAAM1gB,IAAE02B,GAAUl2B,IAAI,UAAW,GACtCpG,KAAKspC,MAAQtpC,KAAKsmB,IAAIkW,KAAK,MAC3Bx8B,KAAKupC,SAAL,UAAmBvpC,KAAKspC,MAAxB,mBACAtpC,KAAKwpC,QAAU5jC,IAAE,YAAY42B,KAAK,KAAMx8B,KAAKupC,UAC7CvpC,KAAKsmB,IAAI9d,OAAOxI,KAAKwpC,SACrBxpC,KAAKwpC,QAAQC,QAAO,kBAAM,EAAKA,YAC/BzpC,KAAKwpC,QAAQE,QAAQ,CAAEhhC,MAAO,U,wDAI9B,IAAI8U,EAAO6X,SAASr1B,KAAKwpC,QAAQvhC,OAC7BwV,EAAUzd,KAAKygB,SAASrF,KAAKsC,gBAAgBF,GACjDxd,KAAK8/B,WAAW5e,wBAChBlhB,KAAK8/B,WAAW9d,iBAAiBxE,GAAM,GACvCxd,KAAK8/B,WAAWjhB,qBAAqBpB,EAAQxG,S,gCAI7CjX,KAAKwpC,QAAQ5B,QAEb5nC,KAAKob,KAAOpb,KAAKygB,SAASrF,KAC1B,IAJS,EAILqC,EAAUzd,KAAKob,KAAKsC,kBAJf,iBAKQpY,IAAEuI,MAAM7N,KAAKob,KAAK+C,oBAL1B,IAKT,2BAAuD,KAA9CX,EAA8C,QAErD,GADAC,EAAQD,KAAOA,EACS,QAApBC,EAAQ4R,QAAZ,CAGA,IAAI5pB,EAAOgY,EAAQzD,MAAQ,IAAMyD,EAAQ4R,QACzCrvB,KAAKwpC,QAAQhhC,OAAO,IAAImhC,OAAOlkC,EAAX,UAAoB+X,OAXjC,mC,+BAgBT,GAAIxd,KAAKwpC,QAAS,CAChB,IAAIvyB,EAAQjX,KAAKygB,SAAShF,YAAYxE,MAClCuG,EAAOxd,KAAKygB,SAASrF,KAAK4C,aAAa/G,GAAOuG,KAC9CosB,EAAWtkC,IAAEC,MAAMiY,GAAQ,KAAhB,UAA0BA,GACrCqsB,EAAW7pC,KAAKwpC,QAAQvhC,MAC5B,GAAI4hC,IAAaD,EAAU,CACzB,IAAIE,EAAY,IAAI9D,KACpBhmC,KAAKwpC,QAAQvhC,IAAI2hC,GAAUG,QAAQ,kBACnC,IAAIxvC,GAAK,IAAIyrC,KAAS8D,GAAa,IACnCrrC,QAAQ+f,IACN,uCAAgCqrB,EAAhC,eAA+CD,GAA/C,cACSrvC,EAAE06B,QAAQ,GADnB,Y,KAQJ+U,G,WACJ,WAAa5O,EAAYkB,GAA6B,WAAnB2N,IAAmB,gFACpDjqC,KAAKo7B,WAAaA,EAClBp7B,KAAK8/B,WAAa1E,EAAW0E,WAC7B9/B,KAAKkqC,aAAc,EACnBlqC,KAAKiqC,WAAaA,EAElBjqC,KAAKsmB,IAAM1gB,IAAE02B,GACVz2B,KAAK,YACLC,SAAS,mBACT/E,GAAG,eAAe,SAAAjG,GACjB,EAAKovC,aAAe,EAAKA,YACzB,EAAK5D,SACLxrC,EAAEiL,oBAEN/F,KAAKspC,MAAQtpC,KAAKsmB,IAAIkW,KAAK,MAE3Bx8B,KAAKmqC,eAAiBvkC,IAAE,SACrBE,SAAS,uBACTM,IAAI,CACHC,SAAU,WACV,UAAW,EACXggB,QAAS,YAEbrmB,KAAKsmB,IAAIrgB,SAASuC,OAAOxI,KAAKmqC,gBAE9BnqC,KAAKoqC,OAAS,GAEdpqC,KAAKmqC,eAAe3hC,OAAO5C,IAAE,YAAD,OAAa5F,KAAKspC,MAAlB,oBAC5BtpC,KAAKoqC,OAAO9xB,YAAc,IAAI+xB,GAC5BjP,EADwB,WAEpBp7B,KAAKspC,MAFe,gBAGxB,eAGFtpC,KAAKmqC,eAAe3hC,OAAO5C,IAAE,YAAD,OAAa5F,KAAKspC,MAAlB,eAC5BtpC,KAAKoqC,OAAO/xB,OAAS,IAAIgyB,GACvBjP,EADmB,WAEfp7B,KAAKspC,MAFU,WAGnB,UAGFtpC,KAAKmqC,eAAe3hC,OAAO5C,IAAE,YAAD,OAAa5F,KAAKspC,MAAlB,iBAC5BtpC,KAAKoqC,OAAOjyB,SAAW,IAAIkyB,GACzBjP,EADqB,WAEjBp7B,KAAKspC,MAFY,aAGrB,YAGFtpC,KAAKmqC,eAAe3hC,OAAO5C,IAAE,YAAD,OAAa5F,KAAKspC,MAAlB,cAC5BtpC,KAAKoqC,OAAOnyB,MAAQ,IAAIoyB,GACtBjP,EADkB,WAEdp7B,KAAKspC,MAFS,UAGlB,SAGFtpC,KAAKmqC,eAAe3hC,OAAO5C,IAAE,YAAD,OAAa5F,KAAKspC,MAAlB,eAC5BtpC,KAAKoqC,OAAOhyB,OAAS,IAAIiyB,GACvBjP,EADmB,WAEfp7B,KAAKspC,MAFU,WAGnB,UAGFtpC,KAAKmqC,eAAe3hC,OAAO5C,IAAE,YAAD,OAAa5F,KAAKspC,MAAlB,eAC5BtpC,KAAKoqC,OAAOE,OAAS,IAAID,GACvBjP,EADmB,WAEfp7B,KAAKspC,MAFU,WAGnB,WAGFtpC,KAAKo7B,WAAWkG,YAAYthC,MAC5BA,KAAKsmC,S,wDAILtmC,KAAKmqC,eAAe/jC,IAAI,UAAWpG,KAAKkqC,YAAc,QAAU,QAC5DlqC,KAAKkqC,YACPlqC,KAAKsmB,IAAIxgB,SAAS,6BAElB9F,KAAKsmB,IAAI+gB,YAAY,6BAEvB,IAAIhhC,EAAWrG,KAAKsmB,IAAIjgB,WACpBrG,KAAKiqC,WACPjqC,KAAKmqC,eAAe/jC,IAAI,CACtBE,IAAKD,EAASC,IAAMtG,KAAKmqC,eAAexjC,cAAgB,EACxDJ,KAAMF,EAASE,KAAO,IAGxBvG,KAAKmqC,eAAe/jC,IAAI,CACtBE,IAAKD,EAASC,IAAMtG,KAAKsmB,IAAI3f,cAAgB,EAC7CJ,KAAMF,EAASE,KAAO,IAG1B,IAAIw+B,EACF/kC,KAAKmqC,eAAe9jC,WAAWE,KAAOvG,KAAKmqC,eAAezhC,QACxDq8B,EAAS1+B,EAASE,KAAOvG,KAAKsmB,IAAI5d,SACpC1I,KAAKmqC,eAAe/jC,IAClB,OACAC,EAASE,KAAOvG,KAAKsmB,IAAI5d,QAAU1I,KAAKmqC,eAAezhC,a,KAMzD6hC,G,WACJ,WAAanP,EAAYkB,GAAU,kCACjCt8B,KAAKo7B,WAAaA,EAClBp7B,KAAK8/B,WAAa1E,EAAW0E,WAC7B9/B,KAAKsmB,IAAM1gB,IAAE02B,GACVz2B,KAAK7F,KAAK6F,QACVC,SAAS,mBACT/E,GAAG,eAAe,SAAAjG,GACjB,EAAK6Z,KAAK,EAAKnX,OACf,EAAK8oC,SACLxrC,EAAEiL,oBAEN/F,KAAKo7B,WAAWkG,YAAYthC,M,kHAOzBiI,M,+BAGCjI,KAAKxC,MACFwC,KAAKsmB,IAAIkkB,SAAS,8BACrBxqC,KAAKsmB,IAAIxgB,SAAS,6BAGhB9F,KAAKsmB,IAAIkkB,SAAS,8BACpBxqC,KAAKsmB,IAAI+gB,YAAY,iC,KAMvBgD,G,0DACJ,WAAajP,EAAYkB,EAAUpY,GAAQ,oCACzC,cAAMkX,EAAYkB,GAClB,EAAKpY,OAASA,EACd,EAAKoC,IAAIzgB,KAAK,EAAKA,QAHsB,E,sDAOzC,OAAOP,IAAEmlC,WAAWzqC,KAAKkkB,U,4BAIzB,OAAOlkB,KAAK8/B,WAAW1b,cAAcpkB,KAAKkkB,U,0BAGvCjc,GACHjI,KAAK8/B,WAAWzb,cAAcrkB,KAAKkkB,OAAQjc,O,GAhBdsiC,IAoB3BG,G,0DACJ,WAAatP,EAAYkB,EAAUqO,EAAOllC,GAAM,oCAC9C,cAAM21B,EAAYkB,GAClB,EAAKqO,MAAQA,EACb,EAAKllC,KAAOA,EACZ,EAAK6gB,IAAIzgB,KAAK,EAAKA,QAJ2B,E,sDAQ9C,OAAO7F,KAAKyF,O,4BAIZ,OAAOzF,KAAK8/B,WAAW8K,oBAAsB5qC,KAAK2qC,Q,0BAG/C1iC,GACCA,EACFjI,KAAK8/B,WAAW+K,gBAAgB7qC,KAAK2qC,OAErC3qC,KAAK8/B,WAAW+K,gBAAgB,Y,GApBJN,IAyB5BO,G,0DACJ,WAAa1P,EAAYkB,GAAU,oCACjC,cAAMlB,EAAYkB,GAClB,EAAK7b,SAAW,EAAK2a,WAAW3a,SAChC,EAAKsqB,QAAS,EAHmB,E,sDAOjC,MAAO,S,4BAIP,OAAO/qC,KAAK+qC,S,0BAGT9iC,GACHjI,KAAK+qC,OAAS9iC,I,wLAId,wEACIjI,KAAK+qC,SAAU/qC,KAAKo7B,W,oBAElBh9B,EAAI4B,KAAKygB,SAAS9E,WAAWxiB,SAC7BiF,EAAI,G,uBACFnF,EAAI+G,KAAKygB,SAAShF,YAAYvE,MAAQ,EAC1CzR,EAAO,GAAH,OAAMxM,EAAN,YAAWmF,EAAX,aAAiB4B,KAAKygB,SAAShF,YAAYhW,M,SACzCzF,KAAKo7B,WAAW4P,iBAAiBvlC,G,+BAGzCzF,KAAKo7B,WAAW6P,iB,+GA9BMV,IAmC5B,SAASW,GAAiBzjC,GACxB9I,OAAOmJ,cAAe,EAEtB,IAAIF,EAAShC,IAAE,SACZE,SAAS,mBACTM,IAAI,UAAW,SACfA,IAAI,UAAW,KACfA,IAAI,QAASrE,KAAK0G,IAAI,IAAKhB,EAAUiB,QAAU,MAElD,SAASf,IACPC,EAAOC,SACPlJ,OAAOmJ,cAAe,EAGxB,IAAIqjC,EAAcvM,EAAgB,QAAS,wBAAyBj3B,GAEhEK,EAAWpC,IAAE,SACdQ,IAAI,CACHsC,MAAO,OACP,aAAc,aACd,gBAAiB,QACjB2d,QAAS,QAEVvgB,SAAS,sBACTD,KARY,yNAcZwC,SAAQ,SAAUvN,GACjB,GAAkB,KAAdA,EAAEwN,QAEJ,OADAX,KACO,KAITY,EAAU3C,IAAE,SACbQ,IAAI,QAAS,QACboC,OAAOR,GACPQ,OAAO,KACPA,OAAO2iC,GACVvjC,EAAOY,OAAOD,GAEdq2B,GAA4Bn3B,EAAWG,EAAQ,EAAG,GAElD/K,YAAW,WACT0L,EAAQI,KAAK,YAAYC,UACxB,K,IAGCwiC,G,WACJ,WACEC,EACAC,EACAC,GAGA,WAFAC,IAEA,yDADAC,IACA,gFACAzrC,KAAKqrC,cAAgBA,EACrBrrC,KAAKo7B,WAAap7B,KAAKqrC,cAAcjQ,WACrCp7B,KAAK0rC,kBAAoB9lC,IAAE0lC,GAC3BtrC,KAAKyrC,eAAiBA,EACtBzrC,KAAK2rC,UAAW,EAChB3rC,KAAKwrC,YAAcA,EAEnBxrC,KAAK4rC,sBAAwB,CAAE3pC,EAAG,EAAGC,EAAG,GAExClC,KAAK6rC,WAAajmC,IAAE2lC,GAEpBvrC,KAAK8rC,mBAAqBlmC,IAAE,oCACzBC,KAAK,WACLC,SAAS,mBACTM,IAAI,CAAE2lC,OAAQ,MAAO1lC,SAAU,aAC/BtF,GAAG,eAAe,SAAAjG,GACjB,EAAK6wC,UAAW,EAChB,EAAKrF,SACLxrC,EAAEiL,oBAEN/F,KAAK0rC,kBAAkBljC,OAAOxI,KAAK8rC,oBAEnC9rC,KAAKgsC,mBAAqBpmC,IAAE,qCACzBC,KAAK,WACLC,SAAS,mBACTA,SAAS,6BACT/E,GAAG,eAAe,SAAAjG,GACjB,EAAK6wC,UAAW,EAChB,EAAKrF,SACLxrC,EAAEiL,oBAEN/F,KAAK6rC,WAAWrjC,OAAOxI,KAAKgsC,oBAE5BhsC,KAAKo7B,WAAWkG,YAAYthC,MAC5BA,KAAKypB,S,wDAIDzpB,KAAKyrC,eACPzrC,KAAK8rC,mBAAmB1lC,IAAI,CAC1BE,IAAKtG,KAAK4rC,sBAAsB1pC,EAChCqE,KAAMvG,KAAK4rC,sBAAsB3pC,IAGnCjC,KAAK8rC,mBAAmB1lC,IAAI,CAC1B0iC,OAAQ9oC,KAAK4rC,sBAAsB1pC,EACnCqE,KAAMvG,KAAK4rC,sBAAsB3pC,M,2KAMjCjC,KAAK2rC,WACP3rC,KAAKwrC,YAAcxrC,KAAKwrC,WACxBxrC,KAAK2rC,UAAW,EACZ3rC,KAAKwrC,YACPxrC,KAAK8rC,mBAAmBlM,OACxB5/B,KAAK6rC,WAAWh0B,SAEhB7X,KAAK8rC,mBAAmBj0B,OACxB7X,KAAK6rC,WAAWjM,QAEd5/B,KAAKyrC,eACHzrC,KAAKwrC,YACPxrC,KAAKo7B,WAAW6Q,cAAchqC,EAAI,EAClCjC,KAAKo7B,WAAW6Q,cAAc/pC,EAAI,IAElClC,KAAKo7B,WAAW6Q,cAAchqC,EAAI,GAClCjC,KAAKo7B,WAAW6Q,cAAc/pC,EAAI,GAGhClC,KAAKwrC,WACPxrC,KAAKqrC,cAAcjB,OAAO8B,YAAY5D,OAAOpmC,EAAI,EAEjDlC,KAAKqrC,cAAcjB,OAAO8B,YAAY5D,OAAOpmC,EAAI,GAGrDlC,KAAKypB,SACLzpB,KAAKqrC,cAAc5hB,U,gHAKV,IACb0R,eACAmE,aACAO,oBACAS,0BACAe,kBACA8E,uBACAkC,qBACAU,mBACAzB,qBACA+B,yBACAgB,sBACAK,uBACAV,sBACAc,iBACAI,mBACAE,wBC/rEEe,I,UAAkB,IAAI/pC,OAAwB,CAChDgqC,aAAchqC,UAGZiqC,GAAgB,IAAIjqC,OAAwB,CAC9CgqC,aAAchqC,SAGZkqC,GAAsB,IAAIlqC,OAAwB,CACpDq9B,QAAS,IACT8M,oBAAoB,EACpBH,aAAchqC,OACdkW,aAAa,IAGf,SAASwY,GAAe73B,GACtB,OAAO,IAAImJ,QAAc2uB,OAAO93B,EAAI,GAGtC,SAASuzC,GAAiBC,EAASC,GAAO,uBACtBpnC,IAAE41B,OAAOuR,EAAQr5B,WADK,IACxC,2BAA8C,KAArCC,EAAqC,QAC5Cq5B,EAAM7hC,IAAIwI,IAF4B,iC,IAYpCs5B,G,WACJ,WAAavxB,GAAM,uBACjBpb,KAAKob,KAAOA,EACZpb,KAAK4sC,WAAa,IAAIxqC,OACtBpC,KAAK6sC,gBAAkBR,GACvBrsC,KAAKmsC,gBAAkBA,GACvBnsC,KAAK8sC,WAAa,IAAI1qC,OACtBpC,KAAK+sC,eAAgB,E,8DAGPA,GACd/sC,KAAK+sC,cAAgBA,EACjB/sC,KAAK+sC,cACP/sC,KAAK6sC,gBAAkBP,GAEvBtsC,KAAK6sC,gBAAkBR,K,wCAOvBW,G,0DACJ,WAAa5xB,GAAkD,MAA5C2xB,EAA4C,wDAArBp1B,EAAqB,uDAAJ,GAAI,8BAC7D,cAAMyD,GACN,EAAKzD,eAAiBrS,IAAEwJ,UAAU6I,GAClC,EAAKs1B,eAAeF,GACpB,EAAKngC,OAAS,GACd,EAAKW,QALwD,E,uDAU7D,GADAvN,KAAK4M,OAAS5M,KAAKob,KAAKxO,OACpB5M,KAAK2X,eAAexe,OAAS,EAAG,CAClC,IADkC,EAC9B+zC,EAAY,GADkB,iBAEXltC,KAAK4M,OAAOiF,WAFD,IAElC,2BAA8C,iCAApC5Y,EAAoC,KAAjCyU,EAAiC,KACxCpI,IAAE0qB,SAAShwB,KAAK2X,eAAgB1e,IAClCi0C,EAAUzzC,KAAKiU,IAJe,gCAOlC1N,KAAK4M,OAASsgC,EAGhBvyB,GAAqB3a,KAAK4sC,YAC1BjyB,GAAqB3a,KAAK8sC,YAE1B,IAfO,EAeHl3B,EAAQ,EAfL,iBAgBW5V,KAAK4M,QAhBhB,IAgBP,2BAA+B,KAAtBc,EAAsB,QAC7BkI,GAASlI,EAAMhE,OAAOvQ,QAjBjB,gCAoBP,IAAIg0C,EAAW,IAAIxyB,GACfyyB,GAAiB,IAAIhrC,QAAuBirC,aAAaF,GAE7DntC,KAAKstC,YAAc,IAAI3yB,GAA0ByyB,EAAgBx3B,GACjE5V,KAAKutC,YAAc,IAAI5yB,GAA0ByyB,EAAgBx3B,GAEjE,IA1BO,EA0BH9C,EAAM,IAAI1Q,OAEV2T,EAAQ,EA5BL,iBA6BW/V,KAAK4M,QA7BhB,IA6BP,2BAA+B,OAAtBc,EAAsB,QACzBtP,EAAIsP,EAAMhE,OAAOvQ,OADQ,iBAEfmM,IAAEuI,MAAMzP,IAFO,IAE7B,2BAA0B,KAAjBnF,EAAiB,QACpB0V,EAAQjB,EAAMhE,OAAOzQ,GACrBuS,EAAUkC,EAAM9D,SAAS3Q,GACzB2V,EAASlB,EAAM7D,UAAU5Q,GACzBuD,EAASmS,EAAMtM,QAAQwI,IAAIW,GAE/BsH,EAAI2B,OAAOL,WACXtB,EAAIzM,SAASqO,KAAK/F,GAClBmE,EAAIsE,GAAG1C,KAAK9F,GACZkE,EAAIsC,OAAO5Y,GACXsW,EAAI8B,eAEJ5U,KAAKstC,YAAYE,kBAAkB16B,EAAI2B,OAAQsB,GAC/C/V,KAAKutC,YAAYC,kBAAkB16B,EAAI2B,OAAQsB,GAC/C/V,KAAKutC,YAAYE,iBAAiB//B,EAAM3D,YAAY9Q,GAAI8c,GAExDA,GAAS,GAlBkB,kCA7BxB,gCAmDP/V,KAAK0tC,UAEL1tC,KAAK4sC,WAAW/hC,IAAI,IAAIzI,OAAWpC,KAAKstC,YAAattC,KAAK6sC,kBAC1D7sC,KAAK8sC,WAAWjiC,IAAI,IAAIzI,OAAWpC,KAAKutC,YAAavtC,KAAKmsC,oB,gCAI1D,IADS,EACLp2B,EAAQ,EACR0H,EAAUzd,KAAKob,KAAKsC,kBAFf,iBAIS1d,KAAK4M,QAJd,IAIT,2BAA+B,OAAtBc,EAAsB,QACzBtP,EAAIsP,EAAMhE,OAAOvQ,OADQ,iBAEfmM,IAAEuI,MAAMzP,IAFO,IAE7B,2BAA0B,KAAjBnF,EAAiB,QACpBukB,EAAO9P,EAAMzD,WAAWhR,GACxBkT,EAAQsR,EAAQK,KAAKN,GAAMuU,YAC/B/xB,KAAKstC,YAAYG,iBAAiBthC,EAAO4J,GACzCA,GAAS,GANkB,kCAJtB,gCAaT/V,KAAKstC,YAAYl9B,WAAWjE,MAAMkE,aAAc,M,GA/ElBs8B,IAmF5BgB,G,0DACJ,WAAavyB,GAAkD,MAA5C2xB,EAA4C,wDAArBp1B,EAAqB,uDAAJ,GAAI,8BAC7D,cAAMyD,GACN,EAAKzD,eAAiBrS,IAAEwJ,UAAU6I,GAClC,EAAK/K,OAAS,GACd,EAAKqgC,eAAeF,GACpB,EAAKx/B,QALwD,E,uDAU7D,GADAvN,KAAK4M,OAAS5M,KAAKob,KAAKxO,OACpB5M,KAAK2X,eAAexe,OAAS,EAAG,CAClC,IADkC,EAC9B+zC,EAAY,GADkB,iBAEXltC,KAAK4M,OAAOiF,WAFD,IAElC,2BAA8C,iCAApC5Y,EAAoC,KAAjCyU,EAAiC,KACxCpI,IAAE0qB,SAAShwB,KAAK2X,eAAgB1e,IAClCi0C,EAAUzzC,KAAKiU,IAJe,gCAOlC1N,KAAK4M,OAASsgC,EAEhBltC,KAAKstC,YAAc,IAAI3yB,GACrB3a,KAAK4M,OACLjU,IACA,GAEFqH,KAAKutC,YAAc,IAAI5yB,GACrB3a,KAAK4M,OACLjU,IACA,GAEFgiB,GAAqB3a,KAAK4sC,YAC1BjyB,GAAqB3a,KAAK8sC,YAC1B,IAAIc,EAAc,IAAIxrC,OAAWpC,KAAKstC,YAAattC,KAAK6sC,iBACpDgB,EAAc,IAAIzrC,OAAWpC,KAAKutC,YAAavtC,KAAKmsC,iBACxDnsC,KAAK4sC,WAAW/hC,IAAI+iC,GACpB5tC,KAAK8sC,WAAWjiC,IAAIgjC,GACpB7tC,KAAK0tC,Y,gCAIL,IADS,EACLjwB,EAAUzd,KAAKob,KAAKsC,kBADf,iBAES1d,KAAK4M,QAFd,IAET,2BAA+B,OAAtBc,EAAsB,yBACVpI,IAAEuI,MAAMH,EAAMhE,OAAOvQ,SADX,IAC7B,2BAAiD,KAAxC0kB,EAAwC,QAC3CL,EAAO9P,EAAMzD,WAAW4T,GAC5BnQ,EAAM5D,OAAO+T,GAAUJ,EAAQK,KAAKN,GAAMuU,aAHf,kCAFtB,gCAQT/xB,KAAKstC,YAAY9/B,gB,GA/Ccm/B,IAmD7BmB,G,0DACJ,WAAa1yB,GAAoD,MAA9C2xB,EAA8C,wDAAvBp1B,EAAuB,uDAAN,KAAM,8BAC/D,cAAMyD,GACN,EAAKzD,eAAiBrS,IAAEwJ,UAAU6I,GAClC,EAAKs1B,eAAeF,GACpB,EAAKngC,OAAS,GACd,EAAKW,QAL0D,E,uDAS/DoN,GAAqB3a,KAAK4sC,YAC1BjyB,GAAqB3a,KAAK8sC,YAE1B9sC,KAAK4sC,WAAWlwC,KAAO,2BAEvB,IAAI+gB,EAAUzd,KAAKob,KAAKsC,kBACpBK,EAAO/d,KAAKob,KAAK4C,eAErB,SAAS+vB,EAAmBjsC,GAC1B,IAAImV,EAAQwG,EAAQkV,SAAS7wB,GAC7B,OAAc,OAAVmV,EACK,KAEF8G,EAAKD,KAAK7G,GAAO1C,IAAIlS,QAG9B,IAAIkP,EAAe,GACnBvR,KAAKguC,oBAAsB,GAC3B,IAAIC,EAAiB,GAGrB,GADAjuC,KAAK4M,OAAS5M,KAAKob,KAAKxO,OACpB5M,KAAK2X,eAAexe,OAAS,EAAG,CAClC,IADkC,EAC9B+zC,EAAY,GADkB,iBAEXltC,KAAK4M,OAAOiF,WAFD,IAElC,2BAA8C,iCAApC5Y,EAAoC,KAAjCyU,EAAiC,KACxCpI,IAAE0qB,SAAShwB,KAAK2X,eAAgB1e,IAClCi0C,EAAUzzC,KAAKiU,IAJe,gCAOlC1N,KAAK4M,OAASsgC,EA7BT,uBAgCWltC,KAAK4M,QAhChB,IAgCP,2BAA+B,OAAtBc,EAAsB,yBACZA,EAAMzC,SADM,IAC7B,2BAAgC,KAAvBuS,EAAuB,QAG9B,GADAC,EAAQD,KAAOA,EACI,MAAfC,EAAQ6E,IAAc7E,EAAQiE,UAAW,CAC3C,IAAI4N,EAAY32B,GAAgC8kB,EAAQ4R,SACpDlhB,EAAW7I,IAAEsd,IAAI0M,EAAWye,GAChC,GAAIzoC,IAAE21B,KAAK9sB,GAAU,SAAA7L,GAAC,OAAU,OAANA,KACxB,SAEFiP,EAAa9X,KAAK0U,GAClB8/B,EAAex0C,KAAKq3B,GAAcrT,EAAQxG,QAC1CjX,KAAKguC,oBAAoBv0C,KAAKgkB,EAAQsU,eAZb,kCAhCxB,gCAiDP/xB,KAAKkuC,eAAiB,IAAIvzB,GACxBpJ,EACAvR,KAAKguC,oBACL,IAEF,IAAIJ,EAAc,IAAIxrC,OAAWpC,KAAKkuC,eAAgBluC,KAAK6sC,iBAC3D7sC,KAAK4sC,WAAW/hC,IAAI+iC,GAEpB,IAAIL,EAAc,IAAI5yB,GACpBpJ,EACA08B,EACA,IAEEJ,EAAc,IAAIzrC,OAAWmrC,EAAavtC,KAAKmsC,iBACnDnsC,KAAK8sC,WAAWjiC,IAAIgjC,GAEpB7tC,KAAKmuC,sBAAwB,GAjEtB,uBAkEWnuC,KAAK4M,QAlEhB,IAkEP,2BAA+B,OAAtBc,EAAsB,yBACZA,EAAMzC,SADM,IAC7B,2BAAgC,KAAvBuS,EAAuB,QAE9B,GADAC,EAAQD,KAAOA,EACI,MAAfC,EAAQ6E,IAAc7E,EAAQiE,UAAW,wBAC1B/oB,GACf8kB,EAAQ4R,UAFiC,IAC3C,2BAEG,KAFM8I,EAEN,QACGvX,EAASmtB,EAAmB5V,EAAK,IACjCtX,EAASktB,EAAmB5V,EAAK,IACtB,MAAVvX,GAA8B,MAAVC,GAGzB7gB,KAAKmuC,sBAAsB10C,KAAK,CAACmnB,EAAQC,EAAQrD,KATR,mCAHlB,kCAlExB,gCAoFP,IAAI4wB,EAAQpuC,KAAKmuC,sBAAsBh1C,OACnC4b,EAAyB4F,GAAmC,IAChE3a,KAAKquC,wBAA0B,IAAI1zB,GACjC5F,EACAq5B,GAEF,IAAK,IAAI/Z,EAAQ,EAAGA,EAAQ+Z,EAAO/Z,GAAS,EAAG,sBACxBr0B,KAAKmuC,sBAAsB9Z,GADH,GACxC9wB,EADwC,KACpCC,EADoC,UAE7CxD,KAAKquC,wBAAwBb,kBAC3B7yB,GAAyBpX,EAAIC,EAAI,IACjC6wB,GAGJ,IAAK,IAAIA,EAAQ,EAAGA,EAAQ+Z,EAAO/Z,GAAS,EAAG,sBACxBr0B,KAAKmuC,sBAAsB9Z,GADH,GAChC7W,GADgC,gBAEzCrR,EAAQsR,EAAQK,KAAKN,GAAMuU,YAC/B/xB,KAAKquC,wBAAwBZ,iBAAiBthC,EAAOkoB,GAEvD,IAAIia,EAAO,IAAIlsC,OACbpC,KAAKquC,wBACLruC,KAAK6sC,iBAEPyB,EAAK5xC,KAAO,sBACZsD,KAAK4sC,WAAW/hC,IAAIyjC,K,gCAIpBtuC,KAAKguC,oBAAsB,GAC3B,IAFS,EAELvwB,EAAUzd,KAAKob,KAAKsC,kBAFf,iBAGS1d,KAAK4M,QAHd,IAGT,2BAA+B,OAAtBc,EAAsB,yBACZA,EAAMzC,SADM,IAC7B,2BAAgC,KAAvBuS,EAAuB,QAC9BC,EAAQD,KAAOA,EACI,MAAfC,EAAQ6E,IAAc7E,EAAQiE,WAChC1hB,KAAKguC,oBAAoBv0C,KAAKgkB,EAAQsU,cAJb,kCAHtB,gCAWT/xB,KAAKkuC,eAAeR,QAAQ1tC,KAAKguC,qBAGjC,IADA,IAAII,EAAQpuC,KAAKmuC,sBAAsBh1C,OAC9Bk7B,EAAQ,EAAGA,EAAQ+Z,EAAO/Z,GAAS,EAAG,sBACxBr0B,KAAKmuC,sBAAsB9Z,GADH,GAChC7W,GADgC,gBAEzCrR,EAAQsR,EAAQK,KAAKN,GAAMuU,YAC/B/xB,KAAKquC,wBAAwBZ,iBAAiBthC,EAAOkoB,GAEvDr0B,KAAKquC,wBAAwBj+B,WAAWjE,MAAMkE,aAAc,M,GA1IzBs8B,IA8IjC4B,G,0DACJ,WAAanzB,GAAkD,QAA5C2xB,EAA4C,wDAArBp1B,EAAqB,uDAAJ,GAAI,8BAC7D,cAAMyD,GACN,+FAAqB2xB,GACrB,EAAKp1B,eAAiBrS,IAAEwJ,UAAU6I,GAClC,EAAKpK,QAJwD,E,8DAO/Cw/B,GACd,8EAAqBA,GACrB/sC,KAAKwuC,WAAWvB,eAAeF,GAC/B/sC,KAAKyuC,UAAUxB,eAAeF,GAC9B/sC,KAAK0uC,QAAQzB,eAAeF,K,8BAI5B/sC,KAAKwuC,WAAa,IAAIb,GACpB3tC,KAAKob,KACLpb,KAAK+sC,cACL/sC,KAAK2X,gBAEP3X,KAAKyuC,UAAY,IAAIzB,GACnBhtC,KAAKob,KACLpb,KAAK+sC,cACL/sC,KAAK2X,gBAEP3X,KAAK0uC,QAAU,IAAIZ,GACjB9tC,KAAKob,KACLpb,KAAK+sC,cACL/sC,KAAK2X,gBAGPgD,GAAqB3a,KAAK4sC,YAC1BjyB,GAAqB3a,KAAK8sC,YAE1B9sC,KAAK4sC,WAAWlwC,KAAO,cACvB8vC,GAAgBxsC,KAAKwuC,WAAW5B,WAAY5sC,KAAK4sC,YACjDJ,GAAgBxsC,KAAKyuC,UAAU7B,WAAY5sC,KAAK4sC,YAChDJ,GAAgBxsC,KAAK0uC,QAAQ9B,WAAY5sC,KAAK4sC,YAC9CJ,GAAgBxsC,KAAKwuC,WAAW1B,WAAY9sC,KAAK8sC,YACjDN,GAAgBxsC,KAAKyuC,UAAU3B,WAAY9sC,KAAK8sC,YAChDN,GAAgBxsC,KAAK0uC,QAAQ5B,WAAY9sC,KAAK8sC,c,gCAI9C9sC,KAAKwuC,WAAWd,UAChB1tC,KAAKyuC,UAAUf,UACf1tC,KAAK0uC,QAAQhB,c,GA/CmBf,IAmD9BgC,G,WACJ,WAAavzB,EAAM2B,EAAa6xB,GAAqC,IAAzBC,EAAyB,+EACnE7uC,KAAKob,KAAOA,EACZpb,KAAK4sC,WAAa,IAAIxqC,OACtBpC,KAAK8sC,WAAa,IAAI1qC,OACtBpC,KAAK+c,YAAcA,EACnB/c,KAAK4uC,WAAaA,EAClB5uC,KAAK6sC,gBAAkBR,GACvBrsC,KAAKmsC,gBAAkBA,GACvBnsC,KAAK6uC,gBAAkBA,EACvB7uC,KAAKuN,Q,uDAML,GAFAoN,GAAqB3a,KAAK4sC,YAC1BjyB,GAAqB3a,KAAK8sC,YACM,IAA5B9sC,KAAK+c,YAAY5jB,OAArB,CAGA,IAAIyc,EAAQ5V,KAAK+c,YAAY5jB,OACzB21C,EAAuB,IAAI1sC,OAA2B,EAAG,EAAG,GAChEpC,KAAKstC,YAAc,IAAI3yB,GACrBm0B,EACAl5B,GAMF,IAJA,IAAI23B,EAAc,IAAI5yB,GAA0Bm0B,EAAsBl5B,GAElEmI,EAAO/d,KAAKob,KAAK4C,eACjBxJ,EAASxU,KAAK4uC,WACT74B,EAAQ,EAAGA,EAAQH,EAAOG,GAAS,EAAG,CAC7C,IAAIkB,EAAQjX,KAAK+c,YAAYhH,GAC7BgI,EAAK9G,MAAQA,EACTjX,KAAK6uC,kBAELr6B,EADgB,MAAduJ,EAAK1B,KACE,IAEA,KAGb,IAAI5H,EAASkG,GAAuBoD,EAAKxJ,IAAKC,GAC9CxU,KAAKstC,YAAYE,kBAAkB/4B,EAAQsB,GAC3Cw3B,EAAYC,kBAAkB/4B,EAAQsB,GACtC/V,KAAKstC,YAAYG,iBAAiB1vB,EAAK5R,MAAO4J,GAC9Cw3B,EAAYE,iBAAiB3c,GAAc7Z,GAAQlB,GAGrD/V,KAAK4sC,WAAW/hC,IAAI,IAAIzI,OAAWpC,KAAKstC,YAAattC,KAAK6sC,kBAC1D7sC,KAAK8sC,WAAWjiC,IAAI,IAAIzI,OAAWmrC,EAAavtC,KAAKmsC,qB,gCAIrD,GAAgC,IAA5BnsC,KAAK+c,YAAY5jB,OAArB,CAKA,IAFA,IAAIyc,EAAQ5V,KAAK+c,YAAY5jB,OACzB4kB,EAAO/d,KAAKob,KAAK4C,eACZjI,EAAQ,EAAGA,EAAQH,EAAOG,GAAS,EAC1CgI,EAAK9G,MAAQjX,KAAK+c,YAAYhH,GAC9B/V,KAAKstC,YAAYG,iBAAiB1vB,EAAK5R,MAAO4J,GAEhD/V,KAAKstC,YAAYl9B,WAAWjE,MAAMkE,aAAc,O,KAI9C0+B,G,0DACJ,WAAa3zB,EAAM5G,GAAQ,0CACnB4G,EAAM,GAAI5G,G,uDAIhB,IAAI+D,EAAOvY,KAAKob,KAAK7C,KACrBvY,KAAK+c,YAAc,GACnB,IAHO,EAGHU,EAAUzd,KAAKob,KAAKsC,kBACpBK,EAAO/d,KAAKob,KAAK4C,eAJd,iBAKU1Y,IAAEuI,MAAM7N,KAAKob,KAAK+C,oBAL5B,IAKP,2BAAuD,KAA9CX,EAA8C,QACrDC,EAAQD,KAAOA,EACI,MAAfC,EAAQ6E,KACVvE,EAAK9G,MAAQwG,EAAQxG,MACjB8G,EAAKwT,QAAUhZ,EAAKE,SAAWF,EAAKC,OAAOuF,EAAK1B,OAClDrc,KAAK+c,YAAYtjB,KAAKskB,EAAK9G,SAV1B,gCAcP,0E,GAnB6B03B,IAuB3BK,G,0DACJ,WAAa5zB,GAAM,0CACXA,EAAM,GAAI,KAAK,G,uDAIVpb,KAAKob,KAAK7C,KACrBvY,KAAK+c,YAAc,GACnB,IAHO,EAGHU,EAAUzd,KAAKob,KAAKsC,kBACpBK,EAAO/d,KAAKob,KAAK4C,eAJd,iBAKU1Y,IAAEuI,MAAM7N,KAAKob,KAAK+C,oBAL5B,IAKP,2BAAuD,KAA9CX,EAA8C,QAErD,GADAC,EAAQD,KAAOA,EACXC,EAAQiE,UAAW,wBACHjE,EAAQgV,kBADL,IACrB,2BAA4C,KAAnCxb,EAAmC,QAC1C8G,EAAK9G,MAAQA,EACbjX,KAAK+c,YAAYtjB,KAAKwd,IAHH,mCAPlB,gCAcPjX,KAAK6uC,iBAAkB,EACvB,0E,GApB+BF,IAwB7BM,G,WACJ,WAAa7zB,EAAM8zB,GAAa,uBAC9BlvC,KAAKob,KAAOA,EACZpb,KAAKkvC,YAAcA,EACnBlvC,KAAK4sC,WAAa,IAAIxqC,OACtBpC,KAAK8sC,WAAa,IAAI1qC,OACtBpC,KAAK6sC,gBAAkBR,GACvBrsC,KAAKmsC,gBAAkBA,GACvBnsC,KAAKuN,Q,uDAILoN,GAAqB3a,KAAK4sC,YAC1BjyB,GAAqB3a,KAAK8sC,YAC1B,IAAIoC,EAAclvC,KAAKkvC,YACvB,GAA2B,IAAvBA,EAAY/1C,OAAhB,CAGA,IAAIyc,EAAQs5B,EAAY/1C,OAEpB4b,EAAyB,IAAI3S,OAC/B,EACA,EACA,EACA,EACA,GACA,GAEF2S,EAAuBpC,aACrB,IAAIvQ,QAAgBwQ,sBAClB,IAAIxQ,OAAYL,KAAK6B,GAAK,EAAG7B,KAAK6B,GAAI,KAI1C5D,KAAKstC,YAAc,IAAI3yB,GACrB5F,EACAa,GAQF,IALA,IAAI0hB,EAAQt3B,KAAKob,KAAK4C,eAClBuZ,EAAQv3B,KAAKob,KAAK4C,eAClBma,EAAOn4B,KAAKob,KAAKgd,eACjB3a,EAAUzd,KAAKob,KAAKsC,kBAEf3H,EAAQ,EAAGA,EAAQH,EAAOG,GAAS,EAAG,CAC7CoiB,EAAK9D,MAAQ6a,EAAYn5B,GACzBuhB,EAAMrgB,MAAQkhB,EAAKvX,OACnB2W,EAAMtgB,MAAQkhB,EAAKtX,OACnBpD,EAAQD,KAAO8Z,EAAM9Z,KAErB,IAAIja,EAAK+zB,EAAM/iB,IAAIlS,QACfmB,EAAK+zB,EAAMhjB,IAAIlS,QAEnB,GAAIi1B,EAAM9Z,OAAS+Z,EAAM/Z,KAAM,CAC7B,IAAI2xB,EAAW3rC,EACZnB,QACAwI,IAAItH,GACJd,eAAe,IACd60B,EAAM9Z,OAASC,EAAQD,KACzBha,EAAK2rC,EACI5X,EAAM/Z,OAASC,EAAQD,OAChCja,EAAK4rC,GAIT,IAAI16B,EAASkG,GAAyBpX,EAAIC,EAAI,IAE9CxD,KAAKstC,YAAYE,kBAAkB/4B,EAAQsB,GAC3C/V,KAAKstC,YAAYG,iBAAiBhwB,EAAQsU,YAAahc,GAGzD,IAAI63B,EAAc,IAAIxrC,OAAWpC,KAAKstC,YAAattC,KAAK6sC,iBACxD7sC,KAAK4sC,WAAW/hC,IAAI+iC,M,gCAIpB,IAAIsB,EAAclvC,KAAKkvC,YACvB,GAA2B,IAAvBA,EAAY/1C,OAAhB,CASA,IANA,IAAIyc,EAAQs5B,EAAY/1C,OAEpBg/B,EAAOn4B,KAAKob,KAAKgd,eACjBd,EAAQt3B,KAAKob,KAAK4C,eAClBP,EAAUzd,KAAKob,KAAKsC,kBAEf3H,EAAQ,EAAGA,EAAQH,EAAOG,GAAS,EAC1CoiB,EAAK9D,MAAQ6a,EAAYn5B,GACzBuhB,EAAMrgB,MAAQkhB,EAAKvX,OACnBnD,EAAQD,KAAO8Z,EAAM9Z,KACrBxd,KAAKstC,YAAYG,iBAAiBhwB,EAAQsU,YAAahc,GAEzD/V,KAAKstC,YAAYl9B,WAAWjE,MAAMkE,aAAc,O,KAI9C++B,G,WACJ,WAAah0B,EAAM5G,GAAQ,uBACzBxU,KAAKob,KAAOA,EACZpb,KAAKwU,OAASA,EACdxU,KAAK4sC,WAAa,IAAIxqC,OACtBpC,KAAK8sC,WAAa,IAAI1qC,OACtBpC,KAAKuN,Q,uDAILoN,GAAqB3a,KAAK4sC,YAC1BjyB,GAAqB3a,KAAK8sC,YAE1B,IAJO,EAIH/vB,EAAc,GACdmyB,EAAc,GAEdnxB,EAAO/d,KAAKob,KAAK4C,eACjBP,EAAUzd,KAAKob,KAAKsC,kBARjB,iBAUUpY,IAAEuI,MAAM7N,KAAKob,KAAK+C,oBAV5B,IAUP,2BAAuD,KAA9CX,EAA8C,QAErD,GADAC,EAAQD,KAAOA,EACI,MAAfC,EAAQ6E,GAAZ,CAFqD,uBAKnC7E,EAAQgV,kBAL2B,IAKrD,2BAA4C,KAAnCxb,EAAmC,QAC1C8G,EAAK9G,MAAQA,EACb8F,EAAYtjB,KAAKwd,GAFyB,uBAGxB8G,EAAKsxB,kBAHmB,IAG1C,2BAAyC,KAAhChb,EAAgC,QACvC6a,EAAYz1C,KAAK46B,IAJuB,kCALS,mCAVhD,gCAwBPr0B,KAAKsvC,SAAW,IAAIX,GAAoB3uC,KAAKob,KAAM2B,EAAa/c,KAAKwU,QACrExU,KAAKuvC,SAAW,IAAIN,GAAmBjvC,KAAKob,KAAM8zB,GAC9CnyB,EAAY5jB,OAAS,IACvBqzC,GAAgBxsC,KAAKsvC,SAAS1C,WAAY5sC,KAAK4sC,YAC/CJ,GAAgBxsC,KAAKuvC,SAAS3C,WAAY5sC,KAAK4sC,YAC/CJ,GAAgBxsC,KAAKsvC,SAASxC,WAAY9sC,KAAK8sC,iB,KAK/C0C,G,0DACJ,WAAap0B,EAAM5G,GAAQ,6BACzB,cAAM4G,EAAM,GAAI5G,GAChB,EAAK9X,KAAO,QACZ,EAAKqgB,YAAc,GACnB,IAJyB,EAIrBU,EAAU,EAAKrC,KAAKsC,kBAJC,iBAKRpY,IAAEuI,MAAM,EAAKuN,KAAK+C,oBALV,IAKzB,2BAAuD,KAA9CX,EAA8C,QACrDC,EAAQD,KAAOA,EACS,QAApBC,EAAQ4R,SACV,EAAKtS,YAAYtjB,KAAKgkB,EAAQxG,QART,uCAWzB,EAAK1J,QAXoB,E,UADKohC,IAgB5Bc,G,WACJ,WAAar0B,EAAM5G,GAAQ,uBACzBxU,KAAKob,KAAOA,EACZpb,KAAK4sC,WAAa,IAAIxqC,OACtBpC,KAAK8sC,WAAa,IAAI1qC,OACtBpC,KAAKwU,OAASA,EACdxU,KAAKuN,Q,uDAILoN,GAAqB3a,KAAK4sC,YAC1BjyB,GAAqB3a,KAAK8sC,YAE1B,IAJO,EAIH/vB,EAAc,GACdmyB,EAAc,GAEdnxB,EAAO/d,KAAKob,KAAK4C,eACjBP,EAAUzd,KAAKob,KAAKsC,kBARjB,iBAUUpY,IAAEuI,MAAM7N,KAAKob,KAAK+C,oBAV5B,IAUP,2BAAuD,KAA9CX,EAA8C,QAErD,GADAC,EAAQD,KAAOA,EACVC,EAAQiE,WAGRjE,EAAQ3F,UAAb,CALqD,uBAQnC2F,EAAQgV,kBAR2B,IAQrD,2BAA4C,KAAnCxb,EAAmC,QAE1C,GADA8G,EAAK9G,MAAQA,GACR2nB,GAAa7gB,EAAK8T,SAAUl5B,IAAyB,CACxDokB,EAAYtjB,KAAKwd,GADuC,uBAEtC8G,EAAKsxB,kBAFiC,IAExD,2BAAyC,KAAhChb,EAAgC,QACvC6a,EAAYz1C,KAAK46B,IAHqC,mCAVP,mCAVhD,gCA6BPr0B,KAAKsvC,SAAW,IAAIX,GAAoB3uC,KAAKob,KAAM2B,EAAa/c,KAAKwU,QACrExU,KAAKuvC,SAAW,IAAIN,GAAmBjvC,KAAKob,KAAM8zB,GAElD1C,GAAgBxsC,KAAKsvC,SAAS1C,WAAY5sC,KAAK4sC,YAC/CJ,GAAgBxsC,KAAKuvC,SAAS3C,WAAY5sC,KAAK4sC,YAC/CJ,GAAgBxsC,KAAKsvC,SAASxC,WAAY9sC,KAAK8sC,c,gCAI/C9sC,KAAKsvC,SAAS5B,UACd1tC,KAAKuvC,SAAS7B,c,KAIZgC,G,WACJ,WAAat0B,EAAM5G,GAAQ,uBACzBxU,KAAKob,KAAOA,EACZpb,KAAK4sC,WAAa,IAAIxqC,OACtBpC,KAAK8sC,WAAa,IAAI1qC,OACtBpC,KAAKwU,OAASA,EACdxU,KAAKuN,Q,uDAIL,IADO,EACHwP,EAAc,GACdmyB,EAAc,GAEdnxB,EAAO/d,KAAKob,KAAK4C,eACjBP,EAAUzd,KAAKob,KAAKsC,kBALjB,iBAOUpY,IAAEuI,MAAM7N,KAAKob,KAAK+C,oBAP5B,IAOP,2BAAuD,KAA9CX,EAA8C,QAErD,GADAC,EAAQD,KAAOA,EACVC,EAAQiE,UAAb,CAFqD,uBAKnCjE,EAAQgV,kBAL2B,IAKrD,2BAA4C,KAAnCxb,EAAmC,QAE1C,GADA8G,EAAK9G,MAAQA,EACT2nB,GAAa7gB,EAAK8T,SAAUl5B,IAAyB,CACvDokB,EAAYtjB,KAAKwd,GADsC,uBAErC8G,EAAKsxB,kBAFgC,IAEvD,2BAAyC,KAAhChb,EAAgC,QACvC6a,EAAYz1C,KAAK46B,IAHoC,mCAPN,mCAPhD,gCAuBPr0B,KAAKsvC,SAAW,IAAIX,GAAoB3uC,KAAKob,KAAM2B,EAAa/c,KAAKwU,QACrExU,KAAKuvC,SAAW,IAAIN,GAAmBjvC,KAAKob,KAAM8zB,GAC9CnyB,EAAY5jB,OAAS,IACvBqzC,GAAgBxsC,KAAKsvC,SAAS1C,WAAY5sC,KAAK4sC,YAC/CJ,GAAgBxsC,KAAKuvC,SAAS3C,WAAY5sC,KAAK4sC,YAC/CJ,GAAgBxsC,KAAKsvC,SAASxC,WAAY9sC,KAAK8sC,e,gCAKjD9sC,KAAKsvC,SAAS5B,UACd1tC,KAAKuvC,SAAS7B,c,KC1tBlB,SAASiC,KAGP,GAFAC,sBAAsBD,IAElBhxC,OAAOkxC,gBAAkB,GAA7B,CAGA,IANe,EAMXC,GAAW,IAAI9J,MAAOC,UACtBpmB,EAAciwB,EAAWnxC,OAAOoxC,SAPrB,iBASIpxC,OAAOkxC,eATX,IASf,2BAAyC,KAAhCzF,EAAgC,QACvCA,EAAO4F,QAAQnwB,IAVF,uDAaIlhB,OAAOkxC,eAbX,IAaf,2BAAyC,KAAhCzF,EAAgC,QACnCA,EAAO1xB,aACT0xB,EAAO6F,aAfI,gCAmBftxC,OAAOoxC,SAAWD,GAOpB,SAASI,GAA6B9F,GAGA,qBAAzBzrC,OAAOkxC,gBAChBlxC,OAAOkxC,cAAgB,GACvBF,KACAhxC,OAAOoxC,UAAW,IAAI/J,MAAOC,WAE/BtnC,OAAOkxC,cAAcp2C,KAAK2wC,G,ICzBtB+F,G,WACJ,WAAa1U,EAAQ8L,GAAiB,uBACpCvnC,KAAKy7B,OAASA,EACdz7B,KAAKsmB,IAAM1gB,IAAE5F,KAAKy7B,QAClBz7B,KAAKsmB,IAAIlgB,IAAI,WAAY,UAEzBpG,KAAKunC,gBAAkBA,EACvBvnC,KAAKsmB,IAAIlgB,IAAI,mBAAoBpG,KAAKunC,iBAItCvnC,KAAKgpC,WAAahpC,KAAKsmB,IAAIkW,KAAK,MAAQ,kBACxCx8B,KAAKowC,SAAWxqC,IAAE,SACf42B,KAAK,KAAMx8B,KAAKgpC,YAChB5iC,IAAI,WAAY,UAChBA,IAAI,aAAc,cAClBA,IAAI,UAAW,KACfA,IAAI,mBAAoB,QACxBA,IAAI,WAAY,YACnBpG,KAAKowC,SAASC,aAAY,kBAAM,KAChCrwC,KAAKsmB,IAAI9d,OAAOxI,KAAKowC,UAGrBpwC,KAAKmX,aAAe,CAClBvO,MAAO,IAAIxG,OAAc,EAAG,EAAG,GAC/BiE,SAAU,IAAIjE,OAAc,EAAG,GAAI,GACnCgV,GAAI,IAAIhV,OAAc,EAAG,EAAG,GAE5BiV,QAAS,GACTC,MAAO,GAEPC,KAAM,GAIRvX,KAAK0Z,OAAS,IAAItX,OAAwB,GAAIpC,KAAK0I,QAAU1I,KAAKyO,UAElEzO,KAAKygC,aAAe,IAAIr+B,OACxBpC,KAAKygC,aAAajB,WAAa,IAAIp9B,OAAYpC,KAAKunC,iBACpDvnC,KAAKygC,aAAa6P,IAAM,IAAIluC,OAAUpC,KAAKunC,gBAAiB,EAAG,KAK/DvnC,KAAKuwC,gBAAkB,GASvBvwC,KAAKwwC,cAAgB,GACrBxwC,KAAKywC,cAAgB,GAErBzwC,KAAK0wC,aAAe,IAAItuC,OACxBpC,KAAK2wC,eAAiB,IAAIvuC,OACxBpC,KAAK0I,QACL1I,KAAKyO,UAEPzO,KAAK2wC,eAAeC,QAAQC,UAAYzuC,OAExCpC,KAAK8wC,OAAS,GACd9wC,KAAK+wC,cAGL/wC,KAAKisC,cAAgB,CAAEhqC,EAAG,EAAGC,EAAG,GAChClC,KAAKgxC,WAAaprC,IAAE,SACjB42B,KAAK,KAAM,mBACXp2B,IAAI,WAAY,YAChBN,SAAS,yBACZ9F,KAAKsmB,IAAI9d,OAAOxI,KAAKgxC,YACrBhxC,KAAKixC,YAAY,yBAGjBjxC,KAAKg+B,WAAa,KAClBh+B,KAAKk+B,WAAa,KAClBl+B,KAAKo+B,WAAa,KAClBp+B,KAAKs+B,WAAa,KAClBt+B,KAAKkxC,OAAS,KACdlxC,KAAKmxC,OAAS,KACdnxC,KAAKq+B,OAAS,KACdr+B,KAAKu+B,OAAS,K,mEAGK,WACnBv+B,KAAKoxC,SAAW,IAAIhvC,OAAoB,CAAEivC,WAAW,IACrDrxC,KAAKoxC,SAASE,cAActxC,KAAKunC,iBACjCvnC,KAAKoxC,SAASG,QAAQvxC,KAAK0I,QAAS1I,KAAKyO,UAEzC,IAAIouB,EAAM78B,KAAKoxC,SAASI,WACxBxxC,KAAKowC,SAAS,GAAGrzC,YAAY8/B,GAE7B,IAAM1+B,EAAO,SAACqE,EAAGu6B,GACfF,EAAIG,iBAAiBx6B,EAAGu6B,IAE1B5+B,EAAK,aAAa,SAAArD,GAAC,OAAI,EAAKmiC,UAAUniC,MACtCqD,EAAK,aAAa,SAAArD,GAAC,OAAI,EAAKoiC,UAAUpiC,MACtCqD,EAAK,WAAW,SAAArD,GAAC,OAAI,EAAKqiC,QAAQriC,MAClCqD,EAAK,cAAc,SAAArD,GAAC,OAAI,EAAKsiC,SAAStiC,MACtCqD,EAAK,cAAc,SAAArD,GAAC,OAAI,EAAK22C,WAAW32C,MACxCqD,EAAK,kBAAkB,SAAArD,GAAC,OAAI,EAAK22C,WAAW32C,MAC5CqD,EAAK,cAAc,SAAArD,GAAC,OAAI,EAAKmiC,UAAUniC,MACvCqD,EAAK,aAAa,SAAArD,GAAC,OAAI,EAAKoiC,UAAUpiC,MACtCqD,EAAK,YAAY,SAAArD,GAAC,OAAI,EAAKqiC,QAAQriC,MACnCqD,EAAK,eAAe,SAAArD,GAAC,OAAI,EAAKqiC,QAAQriC,MACtCqD,EAAK,gBAAgB,SAAArD,GAAC,OAAI,EAAK42C,aAAa52C,MAC5CqD,EAAK,iBAAiB,SAAArD,GAAC,OAAI,EAAK62C,cAAc72C,MAC9CqD,EAAK,cAAc,SAAArD,GAAC,OAAI,EAAK82C,WAAW92C,Q,+BAMnC8jC,EAAY5+B,KAAKoxC,WACpBpxC,KAAK6xC,oBAIP7xC,KAAKoxC,SAASU,OAAO9xC,KAAKygC,aAAczgC,KAAK0Z,U,+BAGrCnF,GACR,IAAIw9B,EAAY,GAAM/xC,KAAK0I,QACvBspC,EAAa,GAAMhyC,KAAKyO,SAExBwjC,EAAS19B,EAAIlS,QAAQ6vC,QAAQlyC,KAAK0Z,QAEtC,MAAO,CACLzX,EAAGgwC,EAAOhwC,EAAI8vC,EAAYA,EAAY/xC,KAAKiC,IAC3CC,GAAK+vC,EAAO/vC,EAAI8vC,EAAcA,EAAahyC,KAAKkC,O,8CAKlD,IAAID,EAAIjC,KAAKkxC,OACThvC,EAAIlC,KAAKmxC,OAEb,GAAU,OAANlvC,GAAoB,OAANC,EAChB,OAAO,KAIT,IAAIiwC,EAAc,IAAI1pB,WAAW,GAgBjC,OAbAzoB,KAAKoxC,SAASU,OAAO9xC,KAAK0wC,aAAc1wC,KAAK0Z,OAAQ1Z,KAAK2wC,gBAG1D3wC,KAAKoxC,SAASgB,uBACZpyC,KAAK2wC,eACL3wC,KAAKkxC,OACLlxC,KAAK2wC,eAAeliC,OAASvM,EAC7B,EACA,EACAiwC,GAIMA,EAAY,IAAM,GAAOA,EAAY,IAAM,EAAKA,EAAY,K,sCAGrDh7B,GAEf,IAAI+C,EAAkBla,KAAKmX,aAAa9Q,SACrChE,QACAuI,IAAI5K,KAAKmX,aAAavO,OACtB7D,YACCstC,EAAsBl7B,EAAa9Q,SACpChE,QACAuI,IAAIuM,EAAavO,OACpBypC,EAAoBttC,YAKpB,IAJA,IAAIF,EAAW8V,GACbT,EACAm4B,GAEOp5C,EAAI,EAAGA,EAAI+G,KAAK8wC,OAAO33C,OAAQF,GAAK,EAC3C+G,KAAK8wC,OAAO73C,GAAGoN,SAASwU,gBAAgBhW,GAG1C7E,KAAKmX,aAAeA,EAEpB,IAAIm7B,EAAMtyC,KAAKmX,aAAaI,KAAOvX,KAAKmX,aAAaG,MACjDi7B,EAAOvyC,KAAKmX,aAAaI,KAAOvX,KAAKmX,aAAaE,OAClDk7B,EAAO,IACTA,EAAO,GAGTvyC,KAAK0Z,OAAOrT,SAASqO,KAAK1U,KAAKmX,aAAa9Q,UAC5CrG,KAAK0Z,OAAOtC,GAAG1C,KAAK1U,KAAKmX,aAAaC,IACtCpX,KAAK0Z,OAAOtE,OAAOpV,KAAKmX,aAAavO,OACrC5I,KAAK0Z,OAAO64B,KAAOA,EACnBvyC,KAAK0Z,OAAO44B,IAAMA,EAClBtyC,KAAK0Z,OAAO84B,yBAEZxyC,KAAKygC,aAAa6P,IAAIiC,KAAOvyC,KAAKmX,aAAaI,KAC/CvX,KAAKygC,aAAa6P,IAAIgC,IAAMA,I,oCAI5BtyC,KAAK8wC,OAAO33C,OAAS,EAErB,IAAIs5C,EAAgB,IAAIrwC,OAAuB,UAC/CqwC,EAAcpsC,SAASqO,KAAKlL,EAAGvL,OAAO,GAAK,IAAM,KAAK8G,aACtD0tC,EAAcn/B,YAAa,EAC3BtT,KAAK8wC,OAAOr3C,KAAKg5C,GAEjB,IAAIC,EAAe,IAAItwC,OAAmB,QAAU,GACpDswC,EAAap/B,YAAa,EAC1BtT,KAAK8wC,OAAOr3C,KAAKi5C,GAEjB,IAAK,IAAIz5C,EAAI,EAAGA,EAAI+G,KAAK8wC,OAAO33C,OAAQF,GAAK,EAC3C+G,KAAKygC,aAAa51B,IAAI7K,KAAK8wC,OAAO73C,M,+BAKpC,IAAIwV,EAASzO,KAAKsmB,IAAI3f,cACtB3G,KAAKowC,SAAShqC,IAAI,SAAUqI,GAE5B,IAAI/F,EAAQ1I,KAAKsmB,IAAI7f,aACrBzG,KAAKowC,SAAShqC,IAAI,QAASsC,GAE3B1I,KAAKgxC,WAAW5qC,IAAI,CAClBE,IAAKtG,KAAKisC,cAAc/pC,EACxBqE,KAAMvG,KAAKisC,cAAchqC,IAG3BjC,KAAKgxC,WAAW5qC,IACd,YACArE,KAAKqgB,IAAI,GAAMpiB,KAAKsmB,IAAI5d,QAAU,GAAI1I,KAAKsmB,IAAI5d,QAAU,MAG3D1I,KAAK0Z,OAAOi5B,OAAS3yC,KAAK0I,QAAU1I,KAAKyO,SACzCzO,KAAK0Z,OAAO84B,yBAEZxyC,KAAK2wC,eAAeY,QAAQvxC,KAAK0I,QAAS1I,KAAKyO,UAE3CmwB,EAAY5+B,KAAKoxC,WACnBpxC,KAAKoxC,SAASG,QAAQvxC,KAAK0I,QAAS1I,KAAKyO,Y,kCAIhChS,GACXgC,QAAQ+f,IAAI,0BAA2B/hB,GACvCuD,KAAKgxC,WAAWnrC,KAAKpJ,GAASob,S,kGAGRpb,G,wFACtBuD,KAAKixC,YAAYx0C,G,SACXmiC,GAAW,G,8MAGOniC,EAASqM,G,wFACjC9I,KAAKixC,YAAYx0C,G,SACXmiC,GAAW91B,G,OACjB9I,KAAKgxC,WAAWpR,OAAO/5B,KAAK,I,mJAI5B7F,KAAKgxC,WAAWpR,S,+CAoBhBjlB,GAAqB3a,KAAKygC,cAC1B9lB,GAAqB3a,KAAK0wC,cAFF,uBAGPprC,IAAE41B,OAAOl7B,KAAKwwC,gBAHP,IAGxB,2BAA+C,KAAtClC,EAAsC,QACzCA,EAAKl7B,SAASja,OAAS,GACzB6G,KAAKygC,aAAa51B,IAAIyjC,IALF,uDAQPhpC,IAAE41B,OAAOl7B,KAAKywC,gBARP,IAQxB,2BAA+C,KAAtCnC,EAAsC,QACzCA,EAAKl7B,SAASja,OAAS,GACzB6G,KAAK0wC,aAAa7lC,IAAIyjC,IAVF,mC,qCAuBVsE,EAAU1/B,GACpB0/B,KAAY5yC,KAAKwwC,eACnB71B,GAAkB3a,KAAKwwC,cAAcoC,GAAW1/B,GAE9C0/B,KAAY5yC,KAAKywC,eACnB91B,GAAkB3a,KAAKywC,cAAcmC,GAAW1/B,K,0BAKlD,OAAO,I,0BAIP,OAAO,I,8BAIP,IAAIxK,EAAQ1I,KAAKsmB,IAAI5d,QAAU1I,KAAKiC,IACpC,OAAOyG,I,+BAIP,IAAI+F,EAASzO,KAAKsmB,IAAI7X,SAAWzO,KAAKkC,IACtC,OAAOuM,I,iCAGGzS,GACN4iC,EAAY5iC,EAAM6iC,UAAY7iC,EAAM6iC,QAAQ1lC,OAAS,GACvD6G,KAAK8+B,OAAS9iC,EAAM6iC,QAAQ,GAAGE,QAC/B/+B,KAAKg/B,OAAShjC,EAAM6iC,QAAQ,GAAGI,UAE/Bj/B,KAAK8+B,OAAS9iC,EAAM+iC,QACpB/+B,KAAKg/B,OAAShjC,EAAMijC,SAGtB,IAAIC,EAAOljC,EAAMQ,OAAO2iC,wBACxBn/B,KAAKkxC,OAASlxC,KAAK8+B,OAASI,EAAK34B,KACjCvG,KAAKmxC,OAASnxC,KAAKg/B,OAASE,EAAK54B,IAEjC,IAAIrE,EAAIjC,KAAKkxC,OAASlxC,KAAK0I,QAAU,EACjCxG,EAAIlC,KAAKmxC,OAASnxC,KAAKyO,SAAW,EAEtCzO,KAAKq+B,OAASt8B,KAAKq9B,KAAKn9B,EAAIA,EAAIC,EAAIA,GAEpClC,KAAKu+B,OAASx8B,KAAKs9B,KAAKn9B,EAAID,GACxBA,EAAI,IACFC,EAAI,EACNlC,KAAKu+B,QAAUx8B,KAAK6B,GAEpB5D,KAAKu+B,QAAUx8B,KAAK6B,M,oCAMxB5D,KAAKg+B,WAAah+B,KAAKkxC,OACvBlxC,KAAKk+B,WAAal+B,KAAKmxC,OACvBnxC,KAAKo+B,WAAap+B,KAAKq+B,OACvBr+B,KAAKs+B,WAAat+B,KAAKu+B,W,KCnXrBsU,G,0DAQJ,WACEpyB,EACAgb,EACAqE,EACA4H,EACAH,EACAuL,GACA,oCACA,cAAMrX,EAAQ8L,GAEd,EAAKwL,UAAY,CACfC,QAAS,IAAIC,KACbC,QAAS,IAAID,KACbE,QAAS,IAAIF,MAIf,EAAKG,WAAa,KAGlB,EAAK3yB,SAAWA,EAChB,EAAKrF,KAAOqF,EAASrF,KACrB,EAAK0kB,WAAaA,EAGlB,EAAK8O,WAAa,IAClB,EAAKyE,eAAiB,EAGtB,EAAKpO,cAAe,EACpB,EAAKqO,kBAGL,EAAKC,kBAAmB,EACxB,EAAK1Q,MAAQ,IAAI2Q,GAAQlU,UAAU,EAAK7D,OAAQ,IAChD,EAAKxV,WAAa,KAGlB,EAAKyhB,OAASA,EAEd,EAAKoL,aAAeA,EAIpB,EAAKW,uBAAyB,IAAID,GAAQlT,uBAAZ,oBAE9B,EAAKoT,iBAAmB,IAAIF,GAAQ3T,iBAAZ,oBAExB,EAAK8T,YAAc,IAAIH,GAAQrY,YAAZ,mBAA8B,WAEjD+U,GAA4B,oBA3C5B,E,2DA8CW0D,GACP,WAAYA,GACd5zC,KAAK+yC,UAAUG,QAAQroC,KAAI,WACzB+oC,EAAStN,YAGT,YAAasN,GACf5zC,KAAK+yC,UAAUC,QAAQnoC,KAAI,WACzB+oC,EAASnL,aAGT,WAAYmL,GACd5zC,KAAK+yC,UAAUI,QAAQtoC,KAAI,WACzB+oC,EAASnqB,c,wCAMb,IAAIjV,EAAS,EACTq/B,EAAW,GACXpgC,EAAW,IAAIrR,OAAwB,CAAE+J,MAAO,WAChDoH,EAAW,IAAInR,OAAqBoS,EAAQq/B,GAGhDtgC,EAASpF,SAASvU,QAElBoG,KAAK8zC,WAAa,IAAI1xC,OAAemR,EAAUE,GAC/CzT,KAAK8zC,WAAWxgC,YAAa,EAC7BtT,KAAKygC,aAAa51B,IAAI7K,KAAK8zC,c,2CASP78B,GACpBjX,KAAK8/B,WAAWjhB,qBAAqB5H,K,+CAIrC,OAAOjX,KAAKygB,SAAShF,YAAYtE,e,2BAG7B5C,GACJ,IAAI4C,EAAenX,KAAK+zC,yBACpB/6B,EAAY7B,EAAavO,MAC1BvG,QACAuI,IAAIuM,EAAa9Q,UACjBtB,YACCivC,EAAsBz/B,EAAIlS,QAAQuI,IAAIuM,EAAavO,OACvD,OAAOorC,EAAoBroC,IAAIqN,K,6BAGzBzE,GACN,IAAIpS,EAAInC,KAAK+mC,KAAKxyB,GACd4C,EAAenX,KAAK+zC,yBACxB,OAAO5xC,GAAKgV,EAAaE,QAAUlV,GAAKgV,EAAaG,Q,8BAG9C/C,GACP,IAAIpS,EAAInC,KAAK+mC,KAAKxyB,GAEd4C,EAAenX,KAAK+zC,yBAExB,OAAI5xC,EAAIgV,EAAaE,OACZ,EAGLlV,EAAIgV,EAAaG,MACZ,EAIP,GAAKnV,EAAIgV,EAAaE,SAAWF,EAAaG,MAAQH,EAAaE,U,yCAWrE,IAAIF,EAAenX,KAAK+zC,yBACxB/zC,KAAK8zC,WAAWztC,SAASqO,KAAKyC,EAAavO,OAC3C5I,KAAK8zC,WAAW1+B,OAAO+B,EAAa9Q,UACpCrG,KAAK8zC,WAAWl/B,iB,wCAGC,WACbqC,EAAQjX,KAAKygB,SAAShF,YAAYxE,MACtC,GAAIA,GAAS,EAAG,CACd,IAAI8G,EAAO/d,KAAKob,KAAK4C,aAAa/G,GAC9BvP,EAAQ,gBAAkBqW,EAAKrW,MAC/BjI,EAAU,SAAAgG,GACZ,EAAKq6B,WAAWmU,cAAch9B,EAAOxR,IAEvCm5B,GAAqB5+B,KAAKsmB,IAAK5e,EAAOjI,M,sCAKxC,IAAIxG,EAAI+G,KAAKk0C,wBACb,OAAIj7C,EAAI,GAAKA,EAAI+G,KAAKob,KAAKiC,eAAiB,EACnCpkB,EAAI,EAEN,O,gCAGEgtB,GACT,IAAIlI,EAAO/d,KAAKob,KAAK4C,aAAaiI,GAC9Bve,EAAQqW,EAAKrW,MACbuP,EAAQ8G,EAAK9G,MACI,QAAjB8G,EAAKsR,UACP3nB,GAAS,MAAa1H,KAAKob,KAAK7C,KAAKyc,SAASjX,EAAKwT,UAErD,IAAI9rB,EAAO,GAUX,OATIwR,IAAUjX,KAAKygB,SAAS0zB,oBAC1B1uC,EAAO,mCACPA,GAAQiC,EACRjC,GAAQ,2BACRA,GAAQ,wBACRA,GAAQ,UAERA,EAAOiC,EAEFjC,I,oCAKP,GADAzF,KAAKimB,WAAajmB,KAAKo0C,gBACnBp0C,KAAKimB,WAAY,CACnBjmB,KAAK6iC,MAAMh9B,KAAK7F,KAAKq0C,UAAUr0C,KAAKimB,aACpC,IAAI1R,EAAMvU,KAAKob,KAAK4C,aAAahe,KAAKimB,YAAY1R,IAC9C09B,EAASjyC,KAAKmgC,SAAS5rB,GAC3BvU,KAAK6iC,MAAMzC,KAAK6R,EAAOhwC,EAAGgwC,EAAO/vC,QAEjClC,KAAK6iC,MAAMjD,S,wCAgBIljC,EAAM43C,GACvBt0C,KAAKuwC,gBAAgB7zC,GAAQ43C,EAC7Bt0C,KAAKwwC,cAAc9zC,GAAQ43C,EAAK1H,WAChC5sC,KAAKywC,cAAc/zC,GAAQ43C,EAAKxH,WAChC9sC,KAAKu0C,qBAAsB,I,mCAGf,uBAEIjvC,IAAE2U,KAAKja,KAAKwwC,gBAFhB,IAEZ,2BAA4C,KAAnCtyC,EAAmC,QAC1CoH,IAAEkvC,MAAMx0C,KAAKwwC,cAAetyC,IAHlB,uDAKIoH,IAAE2U,KAAKja,KAAKywC,gBALhB,IAKZ,2BAA4C,KAAnCvyC,EAAmC,QAC1CoH,IAAEkvC,MAAMx0C,KAAKywC,cAAevyC,IANlB,gCASZ8B,KAAKy0C,kBACH,oBACA,IAAIC,GAAqC10C,KAAKob,MAAM,IAEtDpb,KAAKy0C,kBACH,SACA,IAAIC,GACF10C,KAAKob,MACL,EACApb,KAAKob,KAAKzD,iBAGd3X,KAAKy0C,kBACH,SACA,IAAIC,GAAoC10C,KAAKob,KAAMpb,KAAK4uC,aAEtD5uC,KAAK0nC,QACP1nC,KAAKy0C,kBACH,OACA,IAAIC,GAAkC10C,KAAKob,KAAMpb,KAAKqzC,iBAG1DrzC,KAAKy0C,kBACH,YACA,IAAIC,GAAuC10C,KAAKob,KAAMpb,KAAK4uC,aAG7D5uC,KAAK20C,yBAEL30C,KAAK+yC,UAAUC,QAAQ4B,WAEvB50C,KAAKygB,SAAS/H,WAAY,EAC1B1Y,KAAKygB,SAASjF,mBAAoB,I,sCAGnBoC,GACf5d,KAAK8/B,WAAW+U,gBAAgBj3B,GAChC5d,KAAK80C,aACL90C,KAAK+yC,UAAUC,QAAQ4B,a,kCAcvB,OAAO50C,KAAKygB,SAAS/H,Y,kCAGV,WACX,GAAK1Y,KAAK0Y,YAAV,CAIA,IAAIq8B,GACD/0C,KAAKygB,SAASrF,KAAK7C,KAAKG,YACxB1Y,KAAKygB,SAASpF,oBACdrb,KAAKygB,SAASnF,eAEbtb,KAAKygB,SAASlF,0BAEZw5B,IACF/0C,KAAKygB,SAASu0B,kBACdh1C,KAAKygB,SAAS1E,YAAc/b,KAAKygB,SAASzE,eAI9Chc,KAAKu0C,qBAAsB,EAE3B,IAAIU,EAAe,SAACrC,EAAU1/B,GAC5B,OAAOA,KAAa0/B,KAAY,EAAKpC,gBAGnC34B,EAAO7X,KAAKygB,SAAShF,YAAY5D,KAwErC,GAtEIo9B,EAAa,QAASp9B,EAAKI,QAC7BjY,KAAKy0C,kBACH,QACA,IAAIC,GAAmC10C,KAAKob,KAAMpb,KAAK4uC,aAIvDqG,EAAa,WAAYp9B,EAAKM,WAChCnY,KAAKy0C,kBACH,WACA,IAAIC,GAAsC10C,KAAKob,KAAMpb,KAAK4uC,aAI1DqG,EAAa,SAAUp9B,EAAKQ,SAC9BrY,KAAKy0C,kBACH,SACA,IAAIC,GAAoC10C,KAAKob,OAIjDpb,KAAKk1C,eAAe,SAAUr9B,EAAKO,QACnCpY,KAAKk1C,eAAe,oBAAqBr9B,EAAKO,QAAUP,EAAKS,aAC7DtY,KAAKk1C,eAAe,QAASr9B,EAAKI,OAClCjY,KAAKk1C,eAAe,WAAYr9B,EAAKM,UACrCnY,KAAKk1C,eAAe,SAAUr9B,EAAKK,SACnClY,KAAKk1C,eAAe,SAAUr9B,EAAKQ,QAE/BR,EAAKS,YAEJhT,IAAEhB,QACDtE,KAAKob,KAAKzD,eACV3X,KAAKuwC,gBAAgBn4B,OAAOT,kBAG9B3X,KAAKuwC,gBAAgBn4B,OAAOT,eAAiBrS,IAAEwJ,UAC7C9O,KAAKob,KAAKzD,gBAEZ3X,KAAKuwC,gBAAgBn4B,OAAO7K,QAC5BvN,KAAKu0C,qBAAsB,GAI3Bv0C,KAAKuwC,gBAAgBn4B,QACrBpY,KAAKuwC,gBAAgBn4B,OAAOT,eAAexe,OAAS,IAEpD6G,KAAKuwC,gBAAgBn4B,OAAOT,eAAexe,OAAS,EACpD6G,KAAKuwC,gBAAgBn4B,OAAO7K,QAC5BvN,KAAKu0C,qBAAsB,GAI3Bv0C,KAAK0nC,OACH1nC,KAAKygB,SAASrF,KAAK7C,KAAKG,YACrBpT,IAAE0N,YAAYhT,KAAKuwC,gBAAgBh4B,QACtCvY,KAAKob,KAAKkb,gBACVt2B,KAAKuwC,gBAAgBh4B,KAAKhL,SAE5BvN,KAAKygB,SAASrF,KAAK7C,KAAKG,WAAY,GAGtC1Y,KAAKygB,SAASrF,KAAK7C,KAAKG,WAAY,EAGlC1Y,KAAKygB,SAASpF,oBAChBrb,KAAKuwC,gBAAgBz4B,UAAUvK,QAC/BvN,KAAKygB,SAASpF,mBAAoB,EAClCrb,KAAKu0C,qBAAsB,GAGzBv0C,KAAKygB,SAASnF,eAAgB,wBACfhW,IAAE41B,OAAOl7B,KAAKuwC,kBADC,IAChC,2BAAiD,KAAxC+D,EAAwC,QAC3C,YAAaA,GACfA,EAAK5G,WAHuB,gCAMhC1tC,KAAKygB,SAASnF,gBAAiB,EAC/Btb,KAAKygB,SAASjF,mBAAoB,EAGhCxb,KAAKu0C,qBACPv0C,KAAK20C,yBAGP30C,KAAKm1C,mBAELn1C,KAAKo1C,gBAAgBp1C,KAAK+zC,0BAI1B/zC,KAAKyzC,uBAAuBxD,YAE5BjwC,KAAK8xC,SAED9xC,KAAKygB,SAASjF,oBAChBxb,KAAK+yC,UAAUG,QAAQ0B,WACvB50C,KAAKygB,SAASjF,mBAAoB,GAIpCxb,KAAK0zC,iBAAiBzD,YAEtBjwC,KAAKygB,SAAS/H,WAAY,K,8BAGnBmH,GACP7f,KAAKygB,SAASuvB,QAAQnwB,GACtB7f,KAAKq1C,gB,8BAUL52C,QAAQ+f,IAAI,sB,+BAIZ,uEACAxe,KAAK+yC,UAAUI,QAAQyB,WACvB50C,KAAKygB,SAASjF,mBAAoB,EAClCxb,KAAK8/B,WAAWwV,kB,kCAGLt5C,GACa,OAApBgE,KAAKimB,YACHjmB,KAAKimB,aAAejmB,KAAKygB,SAAS0zB,mBACpCn0C,KAAKu1C,kBACIv1C,KAAKimB,aAAejmB,KAAKw1C,eAClCx1C,KAAK8/B,WAAW2F,YAAYzlC,KAAKimB,YAEnCjmB,KAAKy1C,uBAAwB,GAE7Bz1C,KAAK8/B,WAAW2F,cAElBzlC,KAAK01C,kBAAoB,KACzB11C,KAAK21C,iBAAmB,KACxB31C,KAAKw1C,cAAgB,O,4BAMhBx5C,GACL,IAAI45C,EAAe51C,KAAKimB,WACpB4vB,EAAc71C,KAAKob,KAAK4C,aAAa43B,GAAcp4B,KAEvD,GAAIohB,EAAYiX,IAAgBA,IAAgB71C,KAAK21C,iBACnD,GAAK35C,EAAM2pC,SAAY3pC,EAAM4pC,SAIlB5pC,EAAM4pC,SACf5lC,KAAK8/B,WAAW+F,+BAA+B7lC,KAAK21C,kBAEpD31C,KAAK8/B,WAAWgG,wBAAwB9lC,KAAK21C,sBAPR,CACrC,IAAI5zB,EAAM/hB,KAAKob,KAAKsC,gBAAgBm4B,GAChC5tC,GAAO8Z,EAAIvK,SACfxX,KAAK8/B,WAAWte,cAAcq0B,EAAa5tC,QAO7CjI,KAAK8/B,WAAW5e,wBAGlBlhB,KAAK01C,kBAAoB,KACzB11C,KAAK21C,iBAAmB,KAExB31C,KAAKw+B,WAAWxiC,GAChBgE,KAAKq1C,gB,gCAGIr5C,GAGT,GAFAgE,KAAK4I,SAED5I,KAAK81C,UAAT,CAIA95C,EAAM+J,iBAEN/F,KAAKw+B,WAAWxiC,GAChBgE,KAAKq1C,cACLr1C,KAAK01C,kBAAoB11C,KAAKimB,WAC9BjmB,KAAK21C,iBAAmB31C,KAAKob,KAAK4C,aAAahe,KAAK01C,mBAAmBl4B,KAEnExd,KAAK01C,oBAAsB11C,KAAKygB,SAAS0zB,qBAC3Cn0C,KAAKy1C,sBAAmD,OAA3Bz1C,KAAK01C,mBAGpC,IAAI3P,GAAM,IAAIC,MAAOC,UACjBpmB,EAAc7f,KAAKkmC,YAAcH,EAAM/lC,KAAKkmC,YAAc,EAEzDlmC,KAAKuzC,iBAGC1zB,EAAc,MACvB7f,KAAK2+B,YAAY3iC,GACjBgE,KAAKuzC,kBAAmB,IAJxBvzC,KAAKw1C,cAAgBx1C,KAAKimB,WAC1BjmB,KAAKuzC,kBAAmB,GAM1BvzC,KAAKw+B,WAAWxiC,GAChBgE,KAAK+1C,cACL/1C,KAAKkmC,aAAc,IAAIF,MAAOC,UAC9BjmC,KAAKg2C,wBAAyB,K,gCAGrBh6C,GAET,GADAA,EAAM+J,kBACF/F,KAAK81C,UAQT,GAJA91C,KAAKw+B,WAAWxiC,GAEhBgE,KAAKq1C,cAEDr1C,KAAKy1C,sBAAuB,CAC9B,IAAIlhC,EAAMvU,KAAKob,KAAK4C,aAAahe,KAAKygB,SAAS0zB,oBAAoB5/B,IAC/DjS,EAAItC,KAAKmgC,SAAS5rB,GACtBvU,KAAK2zC,YAAYvT,KACfpgC,KAAKkxC,OAASlxC,KAAKiC,IACnBjC,KAAKmxC,OAASnxC,KAAKkC,IACnBI,EAAEL,EACFK,EAAEJ,OAEC,CACL,IAAI+zC,EAA8B,IAAjBj6C,EAAMk6C,QAAgC,IAAhBl6C,EAAMm6C,MAE7C,GAAIn2C,KAAKg2C,uBAAwB,CAC/B,IAAI/2B,EAAY,EACZD,EAAiB,EACjBD,EAAiB,EACjBD,EAAiB,EAEjB2Y,EAAQz3B,KAAKkxC,OAASlxC,KAAKg+B,WAC3BtG,EAAQ13B,KAAKmxC,OAASnxC,KAAKk+B,WAK/B,GAFAl+B,KAAKuzC,kBAAmB,EAEpB0C,GAAcj6C,EAAM2pC,QACtB3mB,EAAiBhf,KAAKu+B,OAASv+B,KAAKs+B,WAChCt+B,KAAKq+B,OAAS,IAChBpf,EAAYjf,KAAKo+B,WAAap+B,KAAKq+B,aAEhC,GAAIriC,EAAMo6C,QACfp3B,EAAiBhf,KAAKu+B,OAASv+B,KAAKs+B,gBAC/B,GAAItiC,EAAM4pC,SAAU,CACzB,IAAIyQ,EAAQ3e,EAAQ,IACpBzY,EAAYld,KAAKu0C,IAAI,EAAIv0C,KAAKC,IAAIq0C,GAAS,EAAGA,EAAQ,EAAI,GAAK,QAE/Dt3B,EAAiBvV,EAAGrE,SAASsyB,GAC7B3Y,EAAiBtV,EAAGrE,SAASuyB,GAG/B13B,KAAK8/B,WAAW7f,aACdnB,EACAC,EACAC,EACAC,GAGFjf,KAAK+1C,kB,+BAKD/5C,GACRgE,KAAK6iC,MAAMjD,OACX5/B,KAAKg2C,wBAAyB,I,8BAGvBh6C,GAKP,GAJAgE,KAAKw+B,WAAWxiC,GAEhBA,EAAM+J,iBAEF/F,KAAKy1C,sBAAuB,CAC9B,GAAwB,OAApBz1C,KAAKimB,WAAqB,CAC5B,IAAIswB,EAAcv2C,KAAKygB,SAAS0zB,mBAC5Bn0C,KAAKimB,aAAeswB,GACtBv2C,KAAK8/B,WAAW0W,aAAax2C,KAAKimB,WAAYswB,GAGlDv2C,KAAK2zC,YAAY/T,OACjB5/B,KAAKy1C,uBAAwB,EAG3Bz1C,KAAKuzC,kBACPvzC,KAAK0+B,MAAM1iC,GAGT4iC,EAAY5iC,EAAM6iC,UACpB7+B,KAAK6iC,MAAMjD,OAGb5/B,KAAKg2C,wBAAyB,I,iCAGpBh6C,GAEV,GADAyC,QAAQ+f,IAAI,wBAAyBxe,KAAK8yC,cACrC9yC,KAAK8yC,eAIN9yC,KAAK81C,UAAT,CAMA,IAAIO,EAFJr6C,EAAM+J,iBAIJswC,EADEzX,EAAY5iC,EAAMy6C,YACZz6C,EAAMy6C,WAAa,KAGlBz6C,EAAMkP,OAAS,GAItBlP,EAAMo6C,UACRC,GAAS,EACTA,IAAU,GAGZ,IAAI9+B,EAAOxV,KAAKu0C,IAAI,EAAIv0C,KAAKC,IAAIq0C,GAAS,EAAGA,EAAQ,EAAI,GAAK,GAE9Dr2C,KAAK8/B,WAAW7f,aAAa,EAAG,EAAG,EAAG1I,M,mCAG1Bvb,GACZA,EAAM+J,iBACN/F,KAAK81C,WAAY,EACjB91C,KAAK02C,kBAAoB,EACzB12C,KAAK22C,UAAY36C,EAAMiH,MAAQjH,EAAMiH,Q,oCAGxBjH,GACbA,EAAM+J,iBACN/F,KAAK8/B,WAAW7f,aACd,EACA,EACAzW,EAAGrE,SAA0B,EAAjBnJ,EAAM6I,SAAe7E,KAAK02C,mBACtC12C,KAAK22C,WAAa36C,EAAMiH,MAAQjH,EAAMiH,QAExCjD,KAAK02C,kBAAqC,EAAjB16C,EAAM6I,SAC/B7E,KAAK22C,UAAY36C,EAAMiH,MAAQjH,EAAMiH,Q,iCAG3BjH,GACVA,EAAM+J,iBACN/F,KAAK81C,WAAY,EACjB91C,KAAK01C,kBAAoB,KACzB11C,KAAK21C,iBAAmB,KACM,OAA1B31C,KAAKuzC,mBACPp3C,aAAa6D,KAAKuzC,kBAClBvzC,KAAKuzC,iBAAmB,MAE1BvzC,KAAKg2C,wBAAyB,M,GAjqBT7F,ICPrByG,I,UAAc,CAChBnb,OAAQ,GACR8L,gBAAiB,EACjB5nC,OAAQ,GACRk3C,WAAY,IACZC,iBAAiB,EACjBC,eAAe,EACfC,mBAAmB,EACnBC,UAAU,EACVC,YAAY,EACZr7B,aAAc,OACd6rB,QAAQ,EACRjvB,QAAS,GACT0+B,YAAY,EACZn7B,cAAe,GACfC,UAAW,GACX8D,YAAa,GACb0rB,gBAAgB,EAChB2L,aAAa,EACbC,eAAe,EACfvE,cAAc,IAGVwE,G,WACJ,WAAaC,GAAQ,kCACnBv3C,KAAKu3C,OAASjyC,IAAEwJ,UAAU8nC,IAC1BtxC,IAAEkyC,OAAOx3C,KAAKu3C,OAAQA,GACtB94C,QAAQ+f,IAAI,4BAA6Bxe,KAAKu3C,QAC9Cv3C,KAAKy3C,aAAe,CAAEC,MAAM,GAE5B13C,KAAKy7B,OAASz7B,KAAKu3C,OAAO9b,OAC1Bz7B,KAAKsmB,IAAM1gB,IAAE5F,KAAKu3C,OAAO9b,QACzBz7B,KAAKspC,MAAQtpC,KAAKsmB,IAAIkW,KAAK,MAC3Bx8B,KAAKsmB,IAAI,GAAGqxB,cAAgBryC,IAAEsyC,KAE9B53C,KAAKob,KAAO,IAAImZ,GAChBv0B,KAAKygB,SAAW,IAAItF,GAASnb,KAAKob,MAClCpb,KAAK8/B,WAAa,IAAItf,GAAmBxgB,KAAKygB,UAE9CzgB,KAAKygB,SAAS5E,aAAe7b,KAAKu3C,OAAO17B,aACzC7b,KAAKygB,SAASzE,cAAgBhc,KAAKu3C,OAAOv7B,cAC1Chc,KAAKygB,SAASxE,UAAYjc,KAAKu3C,OAAOt7B,UACtCjc,KAAKygB,SAASV,YAAc/f,KAAKu3C,OAAOx3B,YAEZ,OAAxB/f,KAAKu3C,OAAO9+B,UACdzY,KAAKob,KAAK7C,KAAKE,QAAUzY,KAAKu3C,OAAO9+B,SAGvCzY,KAAKoqC,OAAS,GAEdpqC,KAAK63C,aAEL,IAAIC,EAAW,kBAAM,EAAKruB,UAC1B7jB,IAAEjH,QAAQ8qB,OAAOquB,GACjBn5C,OAAOo5C,oBAAsBD,EAC7BA,I,6HAGwB1E,G,kGACjBpzC,KAAKy3C,aAAaC,K,gCACjB7uC,GAAM,K,oCAGdpK,QAAQ+f,IAAI,mCAAoC40B,GAEhDpzC,KAAKy3C,aAAaC,MAAO,E,SAEnB13C,KAAKo7B,WAAW4P,iBAAiB,wB,cAEnCA,EAAmB,SAAA/tC,GAAC,OAAI,EAAKm+B,WAAW4P,iBAAiB/tC,I,UAEvD,IAAI/B,SAAQ,SAAAC,GAChBi4C,EAAWr0C,eAAX,yDAA0B,WAAM+kB,GAAN,iGAClB,EAAKgc,WAAW9b,qBACpBF,EACAknB,GAHsB,OAKxB7vC,IALwB,2CAA1B,0D,WASF6E,KAAKo7B,WAAW0Z,aAEhB90C,KAAKypB,SAELzpB,KAAK8/B,WAAW5Z,WAEZ5gB,IAAEC,MAAMvF,KAAKygB,SAAS2yB,Y,kCAClBpzC,KAAKo7B,WAAW4P,iBAAiB,sB,eAGvChrC,KAAKo7B,WAAWgY,WAAaA,E,UAEvB,IAAIl4C,SAAQ,SAAAC,GAChBi4C,EAAWh0C,UAAS,SAACyiB,EAAWliB,GAC9B,EAAKmgC,WAAWkY,uBAAuBn2B,GACnCliB,IACF,EAAK43C,OAAO53C,OAASA,GAEvB,IAAIs4C,EACF,EAAKV,OAAO53C,UAAU,EAAK8gB,SAAS/E,mBAClCu8B,GACF,EAAKnY,WAAWvhB,sBAAsB,EAAKg5B,OAAO53C,QAEpDxE,U,QAIJ6E,KAAKygB,SAASjF,mBAAoB,E,QAGpCxb,KAAKo7B,WAAW6P,iBAEhBjrC,KAAKy3C,aAAaC,MAAO,EAEzBj5C,QAAQ+f,IAAI,6C,yIAIZ,MAAOxe,KAAKo7B,WAAWhgB,KAAKkB,aAAanjB,OAAS,EAChD6G,KAAKo7B,WAAWyZ,gBAAgB,K,mCAKtB,WACZ70C,KAAKsmB,IAAIlgB,IAAI,CACXi1B,QAAS,OACT,iBAAkB,WAGpBr7B,KAAKk4C,UAAYtyC,IAAE,SAChBE,SAAS,yBACTM,IAAI,CACHi1B,QAAS,OACT,YAAa,OACb,iBAAkB,QAEtBr7B,KAAKsmB,IAAI9d,OAAOxI,KAAKk4C,WAErBl4C,KAAKm4C,QAAUvyC,IAAE,SACd42B,KAAK,KADO,UACEx8B,KAAKspC,MADP,2BAEZxjC,SAAS,uBACTM,IAAI,CAAEgyC,KAAM,MAAO/xC,SAAU,aAChCrG,KAAKsmB,IAAI9d,OAAOxI,KAAKm4C,SAErBn4C,KAAKo7B,WAAa,IAAIyX,GACpB7yC,KAAKygB,SADW,WAEZzgB,KAAKspC,MAFO,0BAGhBtpC,KAAK8/B,WACL9/B,KAAKu3C,OAAO7P,OACZ1nC,KAAKu3C,OAAOhQ,gBACZvnC,KAAKu3C,OAAOzE,cAGd9yC,KAAKq4C,UAAYzyC,IAAE,SAChBE,SAAS,yBACTM,IAAI,CACHi1B,QAAS,OACT,YAAa,OACb,iBAAkB,QAEtBr7B,KAAKsmB,IAAI9d,OAAOxI,KAAKq4C,WAErBr4C,KAAKs4C,eAAiB1yC,IAAE,SACrB42B,KAAK,KADc,UACLx8B,KAAKspC,MADA,qBAEnBljC,IAAI,CACHsC,MAAO,SAEP1I,KAAKu3C,OAAO9L,eACdzrC,KAAKq4C,UAAU7vC,OAAOxI,KAAKs4C,gBAE3Bt4C,KAAKk4C,UAAU1vC,OAAOxI,KAAKs4C,gBAGzBt4C,KAAKu3C,OAAOR,gBACd/2C,KAAKoqC,OAAOmO,SAAW,IAAI/E,GAAQnS,eAAZ,WACjBrhC,KAAKspC,MADY,oBAErBtpC,KAAKo7B,aAILp7B,KAAKu3C,OAAO7P,SACd1nC,KAAKoqC,OAAO7xB,KAAO,IAAIi7B,GAAQlM,kBAAkBtnC,KAAKo7B,aAGxDp7B,KAAKoqC,OAAO8B,YAAc,IAAIsH,GAAQnL,kBAAkBroC,KAAKo7B,YAC7Dp7B,KAAKoqC,OAAO8B,YAAY1D,OAASxoC,KAAKu3C,OAAON,SAE7Cj3C,KAAKoqC,OAAOoO,UAAY,IAAIhF,GAAQzK,gBAAgB/oC,KAAKo7B,YAErDp7B,KAAKu3C,OAAO9L,eACdzrC,KAAK6rC,WAAa7rC,KAAKk4C,WAEvBl4C,KAAK6rC,WAAa7rC,KAAKq4C,UACvBr4C,KAAKoqC,OAAOoO,UAAUlQ,OAAOpmC,EAAI,EACjClC,KAAKoqC,OAAO8B,YAAY5D,OAAOpmC,EAAI,GAGrC,IAAIu2C,EACFz4C,KAAKu3C,OAAOJ,YACZn3C,KAAKu3C,OAAOL,YACZl3C,KAAKu3C,OAAOmB,gBAETD,IAILz4C,KAAK6rC,WACFzlC,IAAI,CACHi1B,QAAS,OACT,YAAa,OACb,iBAAkB,QAEnBv1B,SAAS,0BAER9F,KAAKu3C,OAAOH,cACdp3C,KAAKoqC,OAAOuO,QAAU,IAAInF,GAAQpI,oBAChCprC,KACAA,KAAKo7B,WAAWK,OAFI,2BAIpB,EACAz7B,KAAKu3C,OAAO9L,iBAIhBzrC,KAAK6rC,WAAWrjC,OACdhD,EAAW,IAAK,mBAAmB,WACjCguC,GAAQtI,gBAAgB,EAAK9P,WAAW9U,SAIxCtmB,KAAKu3C,OAAOJ,aACdn3C,KAAK6rC,WAAWrjC,OAAO5C,IAAE,YAAD,OAAa5F,KAAKspC,MAAlB,eACxBtpC,KAAKoqC,OAAOwO,OAAS,IAAIpF,GAAQ9I,oBAC/B1qC,KAAKo7B,WADc,WAEfp7B,KAAKspC,MAFU,WAGnB,SACA,WAGFtpC,KAAK6rC,WAAWrjC,OAAO5C,IAAE,YAAD,OAAa5F,KAAKspC,MAAlB,aACxBtpC,KAAKoqC,OAAOwO,OAAS,IAAIpF,GAAQ9I,oBAC/B1qC,KAAKo7B,WADc,WAEfp7B,KAAKspC,MAFU,SAGnB,OACA,UAGFtpC,KAAK6rC,WAAWrjC,OACdhD,EAAW,IAAK,mBAAmB,WACjC,EAAKs6B,WAAWne,0BAIpB3hB,KAAK6rC,WAAWrjC,OAAO5C,IAAE,YAAD,OAAa5F,KAAKspC,MAAlB,aACxBtpC,KAAKoqC,OAAOuF,KAAO,IAAI6D,GAAQ9I,oBAC7B1qC,KAAKo7B,WADY,WAEbp7B,KAAKspC,MAFQ,SAGjB,OACA,QAGFtpC,KAAK6rC,WAAWrjC,OACdhD,EAAW,IAAK,mBAAmB,WACjC,EAAKs6B,WAAW9f,0BAIhBhgB,KAAKu3C,OAAOF,gBACdr3C,KAAK6rC,WAAWrjC,OAAO5C,IAAE,YAAD,OAAa5F,KAAKspC,MAAlB,YACxBtpC,KAAKoqC,OAAOyO,IAAM,IAAIrF,GAAQ1I,cAC5B9qC,KAAKo7B,WADW,WAEZp7B,KAAKspC,MAFO,WAOlBtpC,KAAKu3C,OAAOL,aACVl3C,KAAKu3C,OAAOP,oBACdh3C,KAAK6rC,WAAWrjC,OACd5C,IAAE,SACC42B,KAAK,KADR,UACiBx8B,KAAKspC,MADtB,kBAEGxjC,SAAS,mBACTM,IAAI,CACH,cAAe,MACfqI,OAAQ,OACR,aAAc,iBAGpBzO,KAAKoqC,OAAO0O,cAAgB,IAAItF,GAAQnK,sBACtCrpC,KAAKo7B,WADqB,WAEtBp7B,KAAKspC,MAFiB,mBAM9BtpC,KAAK6rC,WAAWrjC,OACd5C,IAAE,SACC42B,KAAK,KADR,UACiBx8B,KAAKspC,MADtB,oBAEGxjC,SAAS,mBACTM,IAAI,CACHgyC,KAAM,WACN/c,QAAS,OACT,gBAAiB,MACjB,kBAAmB,SACnB,YAAa,SAGnBr7B,KAAKoqC,OAAO2O,cAAgB,IAAIvF,GAAQrN,oBACtCnmC,KAAKo7B,WADqB,WAEtBp7B,KAAKspC,MAFiB,qBAM1BtpC,KAAKu3C,OAAOL,aACdl3C,KAAK6rC,WAAWrjC,OACdhD,EAAW,OAAQ,mBAAmB,WACpC,EAAKs6B,WAAWkZ,sBAIpBh5C,KAAK6rC,WACFrjC,OACChD,EAAW,QAAS,mBAAmB,WACrC,EAAKs6B,WAAWmZ,YAGnBzwC,OACChD,EAAW,aAAc,mBAAmB,WAC1C,EAAKs6B,WAAWoZ,+BAGnB1wC,OACChD,EAAW,YAAa,mBAAmB,WACzC,EAAKs6B,WAAWqZ,6BAGnB3wC,OACC5C,IAAE,SACC42B,KAAK,KADR,UACiBx8B,KAAKspC,MADtB,UAEGxjC,SAAS,oBAGhB9F,KAAKoqC,OAAOgP,aAAe,IAAI5F,GAAQxJ,mBACrChqC,KAAKo7B,WADoB,WAErBp7B,KAAKspC,MAFgB,UAGxBtpC,KAAKu3C,OAAO9L,iBAIbzrC,KAAKk4C,UAAUmB,WAAWlgD,OAAS,GACrC6G,KAAKk4C,UAAU9xC,IAAI,CACjB,gBAAiB,mBAIjBpG,KAAKq4C,UAAUgB,WAAWlgD,OAAS,GACrC6G,KAAKq4C,UAAUjyC,IAAI,CACjB,aAAc,sB,+BAMlBpG,KAAKo7B,WAAW3R,a,KCrXd6vB,I,mDAWJ,WAAa/B,GAAQ,uBACnBv3C,KAAKu3C,OAASA,EACdv3C,KAAKsmB,IAAM1gB,IAAE,SAASE,SAAS,iBAC/B9F,KAAKu5C,cACLv5C,KAAKw5C,c,4DAIL/6C,QAAQ+f,IAAI,wBACZ,IAAIi7B,EAAcz5C,KAAK05C,aAAazxC,MACpCjI,KAAK25C,QAAQ/Z,OACb5/B,KAAK45C,QAAQ/hC,OACb7X,KAAKu3C,OAAOsC,WAAWJ,GACvB96C,OAAOmJ,cAAe,I,kCAItB9H,KAAKu3C,OAAOuC,OACZ95C,KAAK05C,aAAaj0C,KAAKzF,KAAKu3C,OAAO1+B,KAAKpT,MACxCzF,KAAK25C,QAAQ9hC,OACb7X,KAAK45C,QAAQha,OACb,IAAI53B,EAAWhI,KAAK05C,aAAa/wC,KAAK,YACtC9L,YAAW,WACTmL,EAASY,UACR,KACHjK,OAAOmJ,cAAe,I,sCAItB9H,KAAK25C,QAAQ/Z,OACb5/B,KAAK45C,QAAQ/hC,OACblZ,OAAOmJ,cAAe,I,oCAGT,WACb9H,KAAK05C,aAAe9zC,IAAE,cACnBE,SAAS,sBACTM,IAAI,QAAS,QACbA,IAAI,SAAU,OACds4B,MAAMp5B,IAAEsyC,MAEX53C,KAAK25C,QAAU/zC,IAAE,SACdQ,IAAI,QAAS,QACbs4B,MAAMp5B,IAAEsyC,MACRpvC,OAAOxI,KAAK05C,cACZlxC,OACChD,EAAW,OAAQ,yBAAyB,SAAAxJ,GAC1C,EAAK69C,iBAGRrxC,OAAO,YACPA,OACChD,EAAW,UAAW,yBAAyB,SAAAxJ,GAC7C,EAAK+9C,oBAGRna,OAEH5/B,KAAKsmB,IAAI9d,OAAOxI,KAAK25C,W,oCAGR,WACT9gC,EAAO7Y,KAAKu3C,OAAO1+B,KAEnBmhC,EAAax0C,EAAW,OAAQ,yBAAyB,WAC3D,EAAKy0C,eAGPj6C,KAAKk6C,YAAct0C,IAAE,SAClBE,SAAS,mBACTM,IAAI,SAAU,QACdA,IAAI,UAAW,KACfA,IAAI,mBAAoB,QACxBA,IAAI,aAAc,QAClBrF,GAAG,eAAe,SAAAjG,GAEQ,MAArBA,EAAE0B,OAAO29C,QACXx7C,OAAOy7C,SAASC,KAAOv/C,EAAE0B,OAAO69C,MAEhCv/C,EAAEiL,iBACF,EAAKwxC,OAAOuC,WAIlB95C,KAAK45C,QAAUh0C,IAAE,SACdQ,IAAI,QAAS,QACboC,OAAOxI,KAAKk6C,aAEf,IAAIhD,EACFl3C,KAAKu3C,OAAOL,aAAer+B,EAAKF,MAAoB,gBAAZE,EAAK7B,GAE3CkgC,IACFl3C,KAAKk6C,YAAY9zC,IAAI,gBAAiB,OAEtCpG,KAAK45C,QAAQpxC,OAAOwxC,GAEhB30C,EAAOrF,KAAKu3C,OAAO+C,SACrBt6C,KAAK45C,QAAQpxC,OAAO,KAAKA,OACvBhD,EAAW,KAAM,yBAAyB,WACxC,EAAK+xC,OAAO+C,aAKdj1C,EAAOrF,KAAKu3C,OAAO+C,SACrBt6C,KAAK45C,QAAQpxC,OAAO,KAAKA,OACvBhD,EAAW,OAAQ,yBAAyB,WAC1C,EAAK+xC,OAAOgD,eAKdl1C,EAAOrF,KAAKu3C,OAAO73C,aACrBM,KAAK45C,QAAQpxC,OACX5C,IAAE,SACCQ,IAAI,QAAS,SACboC,OACChD,EAAW,SAAU,yBAAyB,WAC5C/G,QAAQ+f,IAAI,0BACZ,EAAK+4B,OAAO73C,mBAOxBM,KAAKsmB,IAAI9d,OAAOxI,KAAK45C,a,MAOnBY,G,WACJ,WAAa/e,EAAQL,EAAY8b,GAAY,kCAC3Cl3C,KAAKy7B,OAASA,EACdz7B,KAAKo7B,WAAaA,EAClBp7B,KAAKygB,SAAW2a,EAAW3a,SAC3BzgB,KAAK8/B,WAAa1E,EAAW0E,WAC7B9/B,KAAKk3C,WAAaA,EAClBl3C,KAAKy6C,UAAY,GACjBz6C,KAAK06C,aAAe90C,IAAE,SACnBE,SAAS,uBACT0C,OAAO,sBACVxI,KAAKsmB,IAAM1gB,IAAE5F,KAAKy7B,QACfjzB,OAAOxI,KAAK06C,cACZlyC,OAAO5C,IAAE,8BACR5F,KAAKk3C,YACPl3C,KAAK06C,aAAalyC,OAChBhD,EAAW,OAAQ,mBAAmB,WACpC,EAAKie,sB,qEAMUhkB,GACrBhB,QAAQ+f,IAAI,uCACZxe,KAAKo7B,WAAWgY,WAAW7zC,UACzBS,KAAK8/B,WAAWxgC,eAChBG,K,+BAKF,IAAK,IAAIuX,KAAMhX,KAAKy6C,UACZzjC,KAAMhX,KAAKygB,SAAS/E,qBACxB1b,KAAKy6C,UAAUzjC,GAAIsP,IAAIze,gBAChB7H,KAAKy6C,UAAUzjC,IAI1B,IAAI2jC,EAAQ36C,KAAKygB,SAAS9E,WAAWxiB,OAEjCyhD,EAAY56C,KAAKygB,SAAS7E,kBAC1Bg/B,GAAa56C,KAAKygB,SAAS9E,WAAWxiB,SACxCyhD,EAAY,EACZ56C,KAAKygB,SAAS7E,kBAAoBg/B,GAEpC,IAAIC,EAAS,KACTD,EAAY56C,KAAKygB,SAAS9E,WAAWxiB,SACvC0hD,EAAS76C,KAAKygB,SAAS9E,WAAWi/B,GAAW5jC,IAG/C,IAAK,IAAI/d,EAAI,EAAGA,EAAI0hD,EAAO1hD,IAAK,CAC9B,IAAI4f,EAAO7Y,KAAKygB,SAAS9E,WAAW1iB,GAChC+d,EAAK6B,EAAK7B,GAER6B,EAAK7B,MAAMhX,KAAKy6C,WACpBz6C,KAAK86C,iBAAiBjiC,EAAK7B,IAGzB6jC,IAAW7jC,GACbhX,KAAKy6C,UAAUzjC,GAAIsP,IAAI+gB,YAAY,2BACnCrnC,KAAKy6C,UAAUzjC,GAAIsP,IAAIxgB,SAAS,2BAEhC9F,KAAKy6C,UAAUzjC,GAAIsP,IAAI+gB,YAAY,yBACnCrnC,KAAKy6C,UAAUzjC,GAAIsP,IAAIxgB,SAAS,4BAGlC,IAAI20C,EAAYz6C,KAAKy6C,UAAUzjC,GAC3Bzc,EAAIse,EAAK3B,MAAQ,EAAI,IAAMyjC,EAAQ,KAAO9hC,EAAKpT,KAC/CoT,EAAKD,UACPre,GAAK,kCAAJ,OAAsCse,EAAKD,QAA3C,YAECre,IAAMkgD,EAAUP,YAAYr0C,QAC9B40C,EAAUP,YAAYr0C,KAAKtL,GAI/B,GAAIsgD,GACEE,QAAQC,UAAW,CACrB,IAAIC,EAAQ,YAAH,OAAeJ,GACT,gBAAXA,IACFI,EAAQ,IAEV,IAAI1wC,EACF5L,OAAOy7C,SAASc,SAChB,KACAv8C,OAAOy7C,SAASe,KAChBx8C,OAAOy7C,SAASgB,SAChBH,EACFt8C,OAAOo8C,QAAQC,UAAU,CAAE5uC,KAAM7B,GAAW,GAAIA,M,wCAKnCyM,GACjBhX,KAAK8/B,WAAWvhB,sBAAsBvH,GACtChX,KAAKsmC,W,qCAILtmC,KAAK8/B,WAAWne,sBAChB3hB,KAAKsmC,W,qCAILtmC,KAAK8/B,WAAW9f,sBAChBhgB,KAAKsmC,W,iCAGKtvB,GAAI,WACdvY,QAAQ+f,IAAI,4BACZxe,KAAKy6C,UAAUzjC,GAAIsP,IAAIlgB,IAAI,mBAAoB,aAC/CpG,KAAKo7B,WAAWgY,WAAW1zC,WAAWsX,GAAI,WACxC,EAAK8oB,WAAWpgC,WAAWsX,GAC3B,EAAKsvB,c,gCAIErtC,EAAGkB,GAAG,WACXkhD,EAAMr7C,KAAKygB,SAAS9E,WAAW1iB,GAAG+d,GAClCskC,EAAMt7C,KAAKygB,SAAS9E,WAAWxhB,GAAG6c,GAClCukC,EAAOv7C,KAAKy6C,UAAUY,GAAK/0B,IAC3Bk1B,EAAOx7C,KAAKy6C,UAAUa,GAAKh1B,IAE/BtmB,KAAK8/B,WAAW2b,UAAUxiD,EAAGkB,GAE7BohD,EAAKn1C,IAAI,mBAAoB,aAC7Bo1C,EAAKp1C,IAAI,mBAAoB,aAE7BpG,KAAK07C,uBAAsB,WACzBF,EAAKG,aAAaJ,GAClB,EAAKjV,SACLiV,EAAKn1C,IAAI,mBAAoB,IAC7Bo1C,EAAKp1C,IAAI,mBAAoB,S,6BAIzBzG,GACN,IAAI1G,EAAI+G,KAAKygB,SAAS3D,mBAAmBnd,GACrC1G,EAAI,GAGR+G,KAAKy7C,UAAUxiD,EAAI,EAAGA,K,+BAGd0G,GACR,IAAI1G,EAAI+G,KAAKygB,SAAS3D,mBAAmBnd,GACrC1G,EAAI+G,KAAKygB,SAAS9E,WAAWxiB,OAAS,GAG1C6G,KAAKy7C,UAAUxiD,EAAGA,EAAI,K,kCAGX+d,GAAI,WACX6B,EAAO7Y,KAAKygB,SAAS/E,mBAAmB1E,GA8B5C,OA7BAhX,KAAKy6C,UAAUzjC,GAAM,IAAIsiC,GAAU,CACjCzgC,KAAMA,EACNq+B,WAAYl3C,KAAKk3C,WACjBx3C,WAAY,WACV,EAAKgkB,WAAW1M,IAElB6iC,WAAY,SAAAJ,GACV,IAAMmC,EAAe,sDACrB,MAAOA,EAAaC,KAAKpC,GACvBA,EAAcA,EAAY/pB,QAAQksB,EAAc,IAElD/iC,EAAKpT,KAAOg0C,EACZ,EAAKgB,UAAUzjC,GAAIsP,IAAIlgB,IAAI,mBAAoB,aAC/C,EAAKs1C,uBAAsB,WACzB,EAAKjB,UAAUzjC,GAAIsP,IAAIlgB,IAAI,mBAAoB,IAC/C,EAAKqa,SAAS/H,WAAY,EAC1B,EAAK4tB,aAGTwT,KAAM,WACJ,EAAKgC,kBAAkB9kC,IAEzBsjC,OAAQ,WACN,EAAKA,OAAOtjC,IAEdujC,SAAU,WACR,EAAKA,SAASvjC,MAGXhX,KAAKy6C,UAAUzjC,GAAIsP,M,qCAI1B,IAAK,IAAIrtB,EAAI,EAAGA,EAAI+G,KAAKygB,SAAS9E,WAAWxiB,OAAQF,GAAK,EAAG,CAC3D,IAAI+d,EAAKhX,KAAKygB,SAAS9E,WAAW1iB,GAAG+d,GACjCsP,EAAMtmB,KAAK+7C,YAAY/kC,GAC3BpR,IAAE,mBAAmB4C,OAAO8d,M,uCAId01B,GAChB,IAAI11B,EAAMtmB,KAAK+7C,YAAYC,GAC3B,GACsC,IAApCh8C,KAAKygB,SAAS7E,mBACd5b,KAAKygB,SAAS7E,oBAAsB5b,KAAKygB,SAAS9E,WAAWxiB,OAAS,EAEtEyM,IAAE,mBAAmB4C,OAAO8d,OACvB,CACL,IAAInsB,EAAI6F,KAAKygB,SAAS7E,kBAAoB,EACtC0/B,EAAMt7C,KAAKygB,SAAS9E,WAAWxhB,GAAG6c,GAClCwkC,EAAOx7C,KAAKy6C,UAAUa,GAAKh1B,IAC/BA,EAAI21B,YAAYT,M,wCAKlB/8C,QAAQ+f,IAAI,iCACZ,IAAIw9B,EAAQh8C,KAAK8/B,WAAWrc,kBAC5BzjB,KAAK86C,iBAAiBkB,GACtBh8C,KAAKsmC,SACL,IAAIhgB,EAAMtmB,KAAKy6C,UAAUuB,GAAO11B,IAChCA,EAAIlgB,IAAI,mBAAoB,aAC5BpG,KAAK07C,uBAAsB,WACzBj9C,QAAQ+f,IAAI,yCACZ8H,EAAIlgB,IAAI,mBAAoB,IAC5BR,IAAE,mBACCs2C,OACAC,SAAS71B,EAAK,IAAM,CAAEgiB,OAAQ,CAAEhiC,KAAM,a,KAU/C,SAAS81C,GAAoB1/C,GAC3B,IAAI2/C,EAAQC,OAAO,OAAS5/C,EAAO,YAAY6/C,KAAK59C,OAAOy7C,SAASoC,QACpE,OAAOH,GAASI,mBAAmBJ,EAAM,GAAG3sB,QAAQ,MAAO,M,IAQvDgtB,G,WAMJ,WAAaC,EAAmBC,EAAiBrF,GAAQ,WAiBvD,GAjBuD,uBACvDv3C,KAAK48C,gBAAkBA,EACvB58C,KAAKu3C,OAAS,CACZ9b,OAAQkhB,EACRpV,gBAAiB,SACjB5nC,OAAQ,GACRk3C,WAAY,IACZC,iBAAiB,EACjBC,eAAe,EACfG,YAAY,EACZxP,QAAQ,EACRjvB,QAAS,GACT0+B,YAAY,GAEV9xC,EAAOkyC,KACTv3C,KAAKu3C,OAASjyC,IAAEkyC,OAAOx3C,KAAKu3C,OAAQA,KAEjCv3C,KAAKu3C,OAAO53C,OAAQ,CACvB,IAAIA,EAASy8C,GAAmB,WAC5Bz8C,IACFK,KAAKu3C,OAAO53C,OAASA,EACrBlB,QAAQ+f,IAAR,8CAAmDxe,KAAKu3C,OAAO53C,UAGnEK,KAAKqrC,cAAgB,IAAIiM,GAAct3C,KAAKu3C,QAC5Cv3C,KAAKqrC,cAAcjQ,WAAWkG,YAAYthC,MAC1CzE,SAASo8C,cAAgBryC,IAAEsyC,KAC3Br8C,SAASshD,UAAY,SAAA/hD,GACnB,EAAK+hD,UAAU/hD,I,uDAKjBkF,KAAKqrC,cAAc4N,U,oGAGK7F,G,wFACxB30C,QAAQ+f,IAAI,qC,SACNxe,KAAKqrC,cAAcyR,mBAAmB1J,G,OACvCpzC,KAAK+8C,gBACR/8C,KAAKygB,SAAWzgB,KAAKqrC,cAAc5qB,SACnCzgB,KAAK8/B,WAAa9/B,KAAKqrC,cAAcvL,WACrC9/B,KAAKo7B,WAAap7B,KAAKqrC,cAAcjQ,WACrCp7B,KAAK+8C,cAAgB,IAAIvC,GACvBx6C,KAAK48C,gBACL58C,KAAKo7B,WACLp7B,KAAKu3C,OAAOL,YAGdl3C,KAAK+8C,cAAcC,gBAErBh9C,KAAK+8C,cAAczW,SACnBtmC,KAAKqrC,cAAc5hB,S,yIAIdnkB,IAAE0N,YAAYhT,KAAK+8C,gBACtB/8C,KAAK+8C,cAAczW,W,gCAIZtqC,GACT,IAAK2C,OAAOmJ,aAAc,CACxB,IAAI5K,EAAIozB,OAAOC,aAAav0B,EAAMsM,SAASutB,cAC3C,GAAU,MAAN34B,EACF8C,KAAK+8C,cAAct5B,uBACd,GAAU,MAANvmB,GAA+B,KAAlBlB,EAAMsM,QAC5BtI,KAAK8/B,WAAW3e,8BACX,GAAU,MAANjkB,GAA+B,KAAlBlB,EAAMsM,QAC5BtI,KAAK8/B,WAAWxe,8BACX,GAAsB,KAAlBtlB,EAAMsM,QACftI,KAAK+8C,cAAcE,oBACd,GAAU,MAAN//C,GAA+B,KAAlBlB,EAAMsM,QAC5BtI,KAAK+8C,cAAcG,oBACd,GAAU,MAANhgD,EACT8C,KAAK8/B,WAAWqd,iBAAiB,eAC5B,GAAU,MAANjgD,EACT8C,KAAK8/B,WAAWqd,iBAAiB,iBAC5B,GAAU,MAANjgD,EACT8C,KAAK8/B,WAAWqd,iBAAiB,eAC5B,GAAU,MAANjgD,EACT8C,KAAK8/B,WAAWqd,iBAAiB,gBAC5B,GAAU,MAANjgD,EACT8C,KAAK8/B,WAAWqd,iBAAiB,cAC5B,GAAU,MAANjgD,EACT8C,KAAK8/B,WAAWqd,iBAAiB,oBAC5B,GAAU,MAANjgD,EAAW,CACpB,IAAIyf,EAAQ3c,KAAKo7B,WAAW3a,SAAS7E,kBACrC,GAAIe,EAAQ,EAAG,CACb,IAAIhd,EAASK,KAAKo7B,WAAW3a,SAAS9E,WAAWgB,GAAO3F,GACxDhX,KAAK+8C,cAActC,UAAU96C,GAAQs6C,kBAElC,GAAU,MAAN/8C,EACT8C,KAAK8/B,WAAWqZ,8BACX,GAAU,MAANj8C,EACT8C,KAAK8/B,WAAWoZ,gCACX,GAAU,MAANh8C,EAAW,CACpB,IAAI+Z,EAAQjX,KAAKygB,SAAS0zB,mBAC1B,GAAIl9B,GAAS,EAAG,CACd,IAAI8G,EAAO/d,KAAKygB,SAASrF,KAAK4C,aAAa/G,GAC3CjX,KAAK8/B,WAAWte,cAAczD,EAAKP,YAEhC,GAAU,MAANtgB,EACLlB,EAAM2pC,SACR3lC,KAAK8/B,WAAWsd,qBAAoB,GACpCphD,EAAM+J,kBAEN/F,KAAKo7B,WAAWma,uBAEb,GAAsB,KAAlBv5C,EAAMsM,QACftI,KAAK8/B,WAAWmZ,aACX,GAAU,MAAN/7C,GAA+B,KAAlBlB,EAAMsM,QAC5BtI,KAAK8/B,WAAWkZ,sBACX,CACL,IAAI//C,EAAIo8B,SAASn4B,GAAK,EACtB,IAAKjE,GAAW,IAANA,IAAYA,EAAI+G,KAAKygB,SAAS9E,WAAWxiB,OAAQ,CACzD,IAAI6d,EAAKhX,KAAKygB,SAAS9E,WAAW1iB,GAAG+d,GACrChX,KAAK+8C,cAAcjB,kBAAkB9kC,U,eCnc/C,I,GAAMqmC,GAAiB,2JAOjBC,GAAkB,G,kBACPD,GAAezsB,MAAM,Q,IAAtC,8BAA8C,KAArC2sB,GAAqC,SAC5CD,GAAgBC,IAAQ,EACxB,IAAIC,GAAcD,GAAKE,OAAO,GAAKF,GAAKE,OAAO,GAC/CH,GAAgBE,IAAe,G,kCC/CjC,SAASE,KAA+B,2BAANC,EAAM,yBAANA,EAAM,gBACtC,sBAAWjB,GAAkBiB,GC7BhB,QACbC,OAAQ,wBACRj8C,MAAO,Y,SCUMk8C,G,mGAAf,WAAoBC,GAApB,4HAA+BvG,EAA/B,iCAA+BA,EAA/B,iBACMwG,EAAU,CAAED,SAAQvG,SAAQyG,QAAS,QAEzC,EAAAv/C,SAAQ+f,IAAR,SAAY,YAAas/B,GAAzB,OAAoCvG,IAHtC,kBAMyB0G,IAAMC,KAAN,UAAcC,GAAOP,OAArB,gBAA2CG,GANpE,cAMQK,EANR,yBAOWA,EAASzlD,MAPpB,8DASW,CACLmD,MAAO,CACLyhD,MAAO,KACP9gD,QAAS,KAAE4hD,cAZnB,0D,yBAFAJ,IAAMK,SAASC,iBAAkB,E,IAoB3BC,GACJ,aACE,OADa,uBACN,IAAIC,MAAMz+C,KAAM,CACrBxC,IADqB,SAChBhB,EAAQkiD,GACX,+CAAO,8HACQb,GAAG,WAAH,GAAIa,GAAJ,uCADR,uFAOTC,GAAS,IAAIH,G,gDCuDnB,SAAS,GAAT,GACE,OAAO,IAAItjD,SAAQ,SAAUC,GAC3B0B,YAAW,WACT1B,EAAQ4d,KACd,MANA,EAAAjX,EAAA,4BAUA,QACEpF,KAAM,OACN/D,KAFF,WAGI,MAAO,CACLsG,MAAO,GACPnD,MAAO,GACPwgB,aAAc,GACdsiC,eAAe,EACfv9C,OAAQ,KAGZ,QAXF,WAWA,yKACA,oBACA,8BACA,4BACA,CACA,cACA,cACA,iBACA,oBAIA,YAZA,SAaA,mBAbA,UAaA,EAbA,QAcA,SAdA,oBAeA,WACA,aACA,0CAEA,UAnBA,kCAoBA,sCApBA,QAoBA,EApBA,OAqBA,WACA,mBAtBA,yBA0BA,uCA1BA,QA2BA,6DA3BA,+CA6BEw9C,QAAS,CACPC,SADJ,SACA,GACM9+C,KAAK++C,mBAAmB/+C,KAAKg/C,wBAAwB19C,EAAK29C,YAE5Dv9C,gBAJJ,SAIA,GACM1B,KAAKk/C,eAAejG,QACpBj5C,KAAK++C,mBAAmB/+C,KAAKg/C,wBAAwB19C,EAAK29C,YAE5D,QARJ,SAQA,mLACA,kCADA,OACA,EADA,OAEA,WACA,mBAHA,8CAMI,cAdJ,SAcA,2JACA,+CACA,sCAFA,8CAII,aAlBJ,SAkBA,2JACA,gDADA,8CAGI,mBArBJ,SAqBA,2KACA,uCADA,OAEA,kDACA,sCAHA,8CAKI,cA1BJ,WA0BA,wKACA,QADA,OAEA,yBACA,oDAHA,8CAKIE,mBA/BJ,SA+BA,GACMn/C,KAAK4+C,eAAgB,EACrB5+C,KAAKlE,MAAQ,GACb,IAAN,OACM,MAAO,CACLmD,MAAOA,EACP,eAFR,SAEA,+JACA,EADA,0CACA,EADA,2BAGA,WAHA,OAGA,EAHA,OAIA,uBACA,mBALA,mDAOA,mBACA,gCARA,4DAWQG,SAbR,SAaA,GACUggD,EAAa,KAEf7/C,UAhBR,SAgBA,KACUE,KAEFC,WAnBR,SAmBA,KACUD,OAINu/C,wBA3DJ,SA2DA,GACMh/C,KAAK4+C,eAAgB,EACrB5+C,KAAKlE,MAAQ,GACb,IAAN,OACA,mBACM,MAAO,CACLmD,MAAOA,EACP,eAFR,SAEA,+KAEA,2BAFA,OAEA,EAFA,OAGA,sCACA,mBAJA,mDAMA,mBACA,gCAPA,4DAUQ,SAZR,SAYA,+KAEA,yBAFA,OAEA,EAFA,OAGA,kBACA,mBAJA,mDAMA,mBACA,gCAPA,4DAUQ,UAtBR,SAsBA,wKACA,0BADA,OACA,EADA,OAEA,8BACA,IAHA,8CAMQ,WA5BR,SA4BA,wKACA,uBADA,OACA,EADA,OAEA,8BACA,IAHA,kDC5O8U,MCQ1U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,QCffogD,OAAIC,IAAIC,QAER,IAAMC,GAAS,CACb,CACEpzC,KAAM,IACN1P,KAAM,OACN6D,UAAWk/C,IAEb,CACErzC,KAAM,SACN1P,KAAM,QAIN6D,UAAW,kBACT,0CAIAm/C,GAAS,IAAIH,OAAU,CAC3BC,YAGaE,M,aCxBfL,OAAIC,IAAIK,SAEO,WAAIA,QAAKh3B,MAAM,CAC5BgiB,MAAO,GACPiV,UAAW,GACXC,QAAS,GACTnmD,QAAS,K,UCHX2lD,OAAIlB,OAAO2B,eAAgB,EAC3B,IAAIT,OAAI,CACNK,UACAK,SACAjO,OAAQ,SAAAxU,GAAC,OAAIA,EAAE0iB,MACdC,OAAO,S,kFCXV","file":"js/app.6b0fff92.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"0b18d728\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\ndefine(function () {\n  var result = {\n    getProteinData: function (loadProteinData) {\n      loadProteinData({\n        pdbId: '1mbo',\n        pdbText: getPdbLines()\n      })\n    },\n    getViews: function (loadViewDicts) {\n      loadViewDicts(getViewDicts())\n    },\n    saveViews: function (views, success) { success() },\n    deleteView: function (viewId, success) { sucess() } }\n\n  function getPdbLines () {\n    return pdbLines.join('\\n')\n  }\n\n  function getViewDicts () {\n    return views\n  }\n\n  var views = [\n    {\n      'camera': {\n        'in': [\n          14.269979387342122,\n          21.674210787532168,\n          4.969912749995806\n        ],\n        'pos': [\n          14.39,\n          22.48,\n          4.39\n        ],\n        'slab': {\n          'z_back': 25.46,\n          'z_front': -25.46,\n          'zoom': 43.80242144530365\n        },\n        'up': [\n          14.514394071170491,\n          21.888262241907587,\n          3.593524927756431\n        ]\n      },\n      'creator': '~ public @29/11/2017',\n      'distances': [],\n      'i_atom': 1252,\n      'labels': [],\n      'order': 1,\n      'pdbId': '1mbo',\n      'resId': '1mbo:A:155',\n      'selected': [\n        38,\n        41,\n        42,\n        44,\n        63,\n        66,\n        67,\n        70,\n        91,\n        92,\n        96,\n        98,\n        102,\n        103,\n        106,\n        154,\n        155,\n        163,\n        217,\n        229,\n        269,\n        337,\n        339,\n        341,\n        469,\n        472\n      ],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': true,\n        'peptide': true,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'Click edit to change this text.',\n      'version': 2,\n      'view_id': 'view:45c4gq'\n    },\n    {\n      'camera': {\n        'in': [\n          14.144988425426066,\n          13.874028586744313,\n          1.0743097424998538\n        ],\n        'pos': [\n          13.860000000000673,\n          13.029999999999806,\n          0.619999999998524\n        ],\n        'slab': {\n          'z_back': 27.396983240223452,\n          'z_front': -23.523016759776546,\n          'zoom': 120.35486387217648\n        },\n        'up': [\n          14.761473352983558,\n          12.95507735443775,\n          0.19369917775702478\n        ]\n      },\n      'creator': '~ apposite @27/5/2015',\n      'distances': [],\n      'i_atom': 873,\n      'labels': [\n        {\n          'i_atom': 1,\n          'text': 'N-terminal'\n        },\n        {\n          'i_atom': 1223,\n          'text': 'C-terminal'\n        }\n      ],\n      'order': 2,\n      'pdbId': '1mbo',\n      'resId': 'A:109',\n      'selected': [],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': false,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'Myoglobin is a long single chain polymer of amino-acids that folds up into five -helices.',\n      'version': 2,\n      'view_id': 'view:eagu1g'\n    },\n    {\n      'camera': {\n        'in': [\n          18.61162633704652,\n          25.24319664220601,\n          5.018693704050929\n        ],\n        'pos': [\n          19.179999999998742,\n          26.050000000001305,\n          5.179999999999071\n        ],\n        'slab': {\n          'z_back': 27.396983240223452,\n          'z_front': -23.523016759776546,\n          'zoom': 69.28452731387468\n        },\n        'up': [\n          19.228697779635795,\n          26.212721086500764,\n          4.194530378819982\n        ]\n      },\n      'creator': '~ apposite @28/5/2015',\n      'distances': [],\n      'i_atom': 547,\n      'labels': [\n        {\n          'i_atom': 831,\n          'text': 'bottom of cavity'\n        }\n      ],\n      'order': 3,\n      'pdbId': '1mbo',\n      'resId': 'A:68',\n      'selected': [],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': false,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'The structure of the myoglobin provides a cavity in the middle of the protein.',\n      'version': 2,\n      'view_id': 'view:coun7l'\n    },\n    {\n      'camera': {\n        'in': [\n          16.335088270340503,\n          29.567119397741568,\n          1.8034105013822062\n        ],\n        'pos': [\n          16.729999999994085,\n          30.480000000003347,\n          1.6999999999996858\n        ],\n        'slab': {\n          'z_back': 27.396983240223452,\n          'z_front': -23.523016759776546,\n          'zoom': 32.406336890591106\n        },\n        'up': [\n          16.65189795504742,\n          30.401206876192365,\n          0.706173197073111\n        ]\n      },\n      'creator': '~ apposite @28/5/2015',\n      'distances': [],\n      'i_atom': 1236,\n      'labels': [\n        {\n          'i_atom': 1240,\n          'text': 'heme'\n        }\n      ],\n      'order': 4,\n      'pdbId': '1mbo',\n      'resId': 'A:155',\n      'selected': [],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': true,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'This cavity is designed to bind a heme molecule.',\n      'version': 2,\n      'view_id': 'view:z5dpfp'\n    },\n    {\n      'camera': {\n        'in': [\n          17.00123423615934,\n          25.682855200046887,\n          -0.1600056890155509\n        ],\n        'pos': [\n          17.410000000001787,\n          26.58999999999918,\n          -0.2600000000028232\n        ],\n        'slab': {\n          'z_back': 5.58086661002549,\n          'z_front': -7.753908948194662,\n          'zoom': 29.280544867878536\n        },\n        'up': [\n          16.501362135372435,\n          26.98427451475052,\n          -0.3975675760496816\n        ]\n      },\n      'creator': '~ apposite @28/5/2015',\n      'distances': [],\n      'i_atom': 1276,\n      'labels': [],\n      'order': 5,\n      'pdbId': '1mbo',\n      'resId': 'A:555',\n      'selected': [\n        42,\n        63,\n        67,\n        92,\n        154,\n        155,\n        341\n      ],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': true,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'The surrounding residues around the oxygen is crucial for oxygen molecule binding.',\n      'version': 2,\n      'view_id': 'view:e9mx4p'\n    },\n    {\n      'camera': {\n        'in': [\n          14.365440765250709,\n          27.888464655689724,\n          0.6440555174814825\n        ],\n        'pos': [\n          15.359999999976905,\n          27.95000000001393,\n          0.5599999999960467\n        ],\n        'slab': {\n          'z_back': 13.627697536108753,\n          'z_front': -2.3794392523364434,\n          'zoom': 36.26482675698667\n        },\n        'up': [\n          15.31524611040343,\n          27.4737644253482,\n          -0.3181780951480112\n        ]\n      },\n      'creator': '~ apposite @27/5/2015',\n      'distances': [],\n      'i_atom': 1274,\n      'labels': [\n        {\n          'i_atom': 1274,\n          'text': 'Iron atom'\n        }\n      ],\n      'order': 6,\n      'pdbId': '1mbo',\n      'resId': 'A:155',\n      'selected': [],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': true,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'Specifically, the heme group traps an iron atom in its centre.\\n',\n      'version': 2,\n      'view_id': 'view:77smzs'\n    },\n    {\n      'camera': {\n        'in': [\n          14.41946231879145,\n          28.281583486049204,\n          0.4862350896306356\n        ],\n        'pos': [\n          15.360000000002508,\n          27.949999999999722,\n          0.5599999999972702\n        ],\n        'slab': {\n          'z_back': 13.627697536108753,\n          'z_front': -2.3794392523364434,\n          'zoom': 73.21182399734002\n        },\n        'up': [\n          15.406719302241672,\n          27.861180022537074,\n          -0.43495141509887425\n        ]\n      },\n      'creator': '~ apposite @27/5/2015',\n      'distances': [],\n      'i_atom': 1274,\n      'labels': [\n        {\n          'i_atom': 1233,\n          'text': 'heme'\n        }\n      ],\n      'order': 7,\n      'pdbId': '1mbo',\n      'resId': 'A:155',\n      'selected': [],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': true,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'The heme group is the molecule responsible for binding oxygen to the molecule.',\n      'version': 2,\n      'view_id': 'view:ekemch'\n    },\n    {\n      'camera': {\n        'in': [\n          16.15280442554322,\n          26.915043079460567,\n          0.9557622601739797\n        ],\n        'pos': [\n          17.050000000004935,\n          27.259999999998165,\n          0.6799999999940791\n        ],\n        'slab': {\n          'z_back': 5.58086661002549,\n          'z_front': -2,\n          'zoom': 14.868044541781543\n        },\n        'up': [\n          16.824599703395478,\n          27.080705061072702,\n          -0.27762624816544346\n        ]\n      },\n      'creator': '~ apposite @28/5/2015',\n      'distances': [],\n      'i_atom': 1275,\n      'labels': [\n        {\n          'i_atom': 1274,\n          'text': 'Iron atom'\n        },\n        {\n          'i_atom': 1275,\n          'text': 'O1 of oxygen molecule'\n        },\n        {\n          'i_atom': 1276,\n          'text': 'O2 of oxygen molecule'\n        }\n      ],\n      'order': 8,\n      'pdbId': '1mbo',\n      'resId': 'A:555',\n      'selected': [],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': true,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'The iron atom, in turn, has a high affinity for oxygen molecules.',\n      'version': 2,\n      'view_id': 'view:l74skx'\n    },\n    {\n      'camera': {\n        'in': [\n          26.442510387563498,\n          20.389275062291787,\n          9.710224968790408\n        ],\n        'pos': [\n          26.259999999998318,\n          21.37000000000411,\n          9.7799999999976\n        ],\n        'slab': {\n          'z_back': 12.23039246467818,\n          'z_front': -2,\n          'zoom': 69.28452731387465\n        },\n        'up': [\n          25.38460083250035,\n          21.24022005054768,\n          9.314346199129451\n        ]\n      },\n      'creator': '~ apposite @28/5/2015',\n      'distances': [],\n      'i_atom': 166,\n      'labels': [\n        {\n          'i_atom': 153,\n          'text': 'kink in alpha-helix'\n        }\n      ],\n      'order': 9,\n      'pdbId': '1mbo',\n      'resId': 'A:21',\n      'selected': [],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': false,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'The first alpha-helix is long with a large kink in the helix.',\n      'version': 2,\n      'view_id': 'view:cc8izq'\n    },\n    {\n      'camera': {\n        'in': [\n          20.709588659445995,\n          26.712172377861318,\n          0.32415961043628183\n        ],\n        'pos': [\n          21.16000000000296,\n          27.419999999998726,\n          -0.22000000000626052\n        ],\n        'slab': {\n          'z_back': 5.58086661002549,\n          'z_front': -7.753908948194662,\n          'zoom': 18.56435170180574\n        },\n        'up': [\n          20.383243209498293,\n          28.031169367579384,\n          -0.06794444260717364\n        ]\n      },\n      'creator': '~ apposite @28/5/2015',\n      'distances': [],\n      'i_atom': 525,\n      'labels': [\n        {\n          'i_atom': 525,\n          'text': 'blocking histidine'\n        }\n      ],\n      'order': 10,\n      'pdbId': '1mbo',\n      'resId': 'A:64',\n      'selected': [\n        42,\n        63,\n        67,\n        92,\n        154,\n        155,\n        341\n      ],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': true,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'A crucial histidine makes contact with the oxygen molecule.',\n      'version': 2,\n      'view_id': 'view:4vbozk'\n    },\n    {\n      'camera': {\n        'in': [\n          19.787737884292653,\n          27.835231838168752,\n          0.987055284640157\n        ],\n        'pos': [\n          19.8500000000011,\n          27.880000000000567,\n          -0.010000000002429177\n        ],\n        'slab': {\n          'z_back': 4.55642072213501,\n          'z_front': -2,\n          'zoom': 18.564351701805748\n        },\n        'up': [\n          20.124179198711857,\n          28.83979151500971,\n          0.050216399016241677\n        ]\n      },\n      'creator': '~ apposite @28/5/2015',\n      'distances': [],\n      'i_atom': 527,\n      'labels': [\n        {\n          'i_atom': 527,\n          'text': 'blocks potential carbon monoxide binding'\n        }\n      ],\n      'order': 11,\n      'pdbId': '1mbo',\n      'resId': 'A:64',\n      'selected': [\n        42,\n        63,\n        67,\n        92,\n        154,\n        155,\n        341\n      ],\n      'show': {\n        'all_atom': false,\n        'hydrogen': false,\n        'ligands': true,\n        'ribbon': true,\n        'sidechain': false,\n        'trace': false,\n        'water': false\n      },\n      'text': 'The histidine sits right on top of the oxygen atom. The reason is that carbon monoxide (C=O) also likes to bind to the iron atom. But this is prevented by the blocking histidine which sits exactly where the C of the carbon monoxide would like to sit. Therefore myoglobin binds oxygen molecules over carbon monoxide molecules.',\n      'version': 2,\n      'view_id': 'view:1mg5ap'\n    }\n  ]\n\n  var pdbLines = [\n    'HEADER    OXYGEN STORAGE                          27-AUG-81   1MBO              ',\n    'TITLE     STRUCTURE AND REFINEMENT OF OXYMYOGLOBIN AT 1.6 ANGSTROMS RESOLUTION  ',\n    'COMPND    MOL_ID: 1;                                                            ',\n    'COMPND   2 MOLECULE: MYOGLOBIN;                                                 ',\n    'COMPND   3 CHAIN: A;                                                            ',\n    'COMPND   4 ENGINEERED: YES                                                      ',\n    'SOURCE    MOL_ID: 1;                                                            ',\n    'SOURCE   2 ORGANISM_SCIENTIFIC: PHYSETER CATODON;                               ',\n    'SOURCE   3 ORGANISM_COMMON: SPERM WHALE;                                        ',\n    'SOURCE   4 ORGANISM_TAXID: 9755                                                 ',\n    'KEYWDS    OXYGEN STORAGE                                                        ',\n    'EXPDTA    X-RAY DIFFRACTION                                                     ',\n    'AUTHOR    S.E.V.PHILLIPS                                                        ',\n    'REVDAT   9   05-MAR-14 1MBO    1       REMARK                                   ',\n    'REVDAT   8   21-APR-10 1MBO    1       REMARK                                   ',\n    'REVDAT   7   16-FEB-10 1MBO    1       LINK                                     ',\n    'REVDAT   6   24-FEB-09 1MBO    1       VERSN                                    ',\n    'REVDAT   5   01-APR-03 1MBO    1       JRNL                                     ',\n    'REVDAT   4   30-SEP-83 1MBO    1       REVDAT                                   ',\n    'REVDAT   3   19-APR-83 1MBO    1       REMARK                                   ',\n    'REVDAT   2   07-MAR-83 1MBO    1       SEQRES                                   ',\n    'REVDAT   1   03-FEB-82 1MBO    0                                                ',\n    'JRNL        AUTH   S.E.PHILLIPS                                                 ',\n    'JRNL        TITL   STRUCTURE AND REFINEMENT OF OXYMYOGLOBIN AT 1.6 A            ',\n    'JRNL        TITL 2 RESOLUTION.                                                  ',\n    'JRNL        REF    J.MOL.BIOL.                   V. 142   531 1980              ',\n    'JRNL        REFN                   ISSN 0022-2836                               ',\n    'JRNL        PMID   7463482                                                      ',\n    'JRNL        DOI    10.1016/0022-2836(80)90262-4                                 ',\n    'REMARK   1                                                                      ',\n    'REMARK   1 REFERENCE 1                                                          ',\n    'REMARK   1  AUTH   S.E.V.PHILLIPS,B.P.SCHOENBORN                                ',\n    'REMARK   1  TITL   NEUTRON DIFFRACTION REVEALS OXYGEN-HISTIDINE HYDROGEN BOND   ',\n    'REMARK   1  TITL 2 IN OXYMYOGLOBIN                                              ',\n    'REMARK   1  REF    NATURE                        V. 292    81 1981              ',\n    'REMARK   1  REFN                   ISSN 0028-0836                               ',\n    'REMARK   1 REFERENCE 2                                                          ',\n    'REMARK   1  AUTH   S.E.V.PHILLIPS                                               ',\n    'REMARK   1  TITL   STRUCTURE OF OXYMYOGLOBIN                                    ',\n    'REMARK   1  REF    NATURE                        V. 273   247 1978              ',\n    'REMARK   1  REFN                   ISSN 0028-0836                               ',\n    'REMARK   1 REFERENCE 3                                                          ',\n    'REMARK   1  AUTH   S.E.V.PHILLIPS                                               ',\n    'REMARK   1  TITL   THE STRUCTURE OF OXY-MYOGLOBIN                               ',\n    'REMARK   1  REF    ACTA CRYSTALLOGR.,SECT.A      V.  34    55 1978              ',\n    'REMARK   1  REF  2 (SUPPLEMENT)                                                 ',\n    'REMARK   1  REFN                   ISSN 0567-7394                               ',\n    'REMARK   2                                                                      ',\n    'REMARK   2 RESOLUTION.    1.60 ANGSTROMS.                                       ',\n    'REMARK   3                                                                      ',\n    'REMARK   3 REFINEMENT.                                                          ',\n    'REMARK   3   PROGRAM     : CONSTRAINED RECIPROCAL-SPACE LEAST-SQUARES           ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  DATA USED IN REFINEMENT.                                            ',\n    'REMARK   3   RESOLUTION RANGE HIGH (ANGSTROMS) : 1.60                           ',\n    'REMARK   3   RESOLUTION RANGE LOW  (ANGSTROMS) : NULL                           ',\n    'REMARK   3   DATA CUTOFF            (SIGMA(F)) : NULL                           ',\n    'REMARK   3   DATA CUTOFF HIGH         (ABS(F)) : NULL                           ',\n    'REMARK   3   DATA CUTOFF LOW          (ABS(F)) : NULL                           ',\n    'REMARK   3   COMPLETENESS (WORKING+TEST)   (%) : NULL                           ',\n    'REMARK   3   NUMBER OF REFLECTIONS             : NULL                           ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  FIT TO DATA USED IN REFINEMENT.                                     ',\n    'REMARK   3   CROSS-VALIDATION METHOD          : NULL                            ',\n    'REMARK   3   FREE R VALUE TEST SET SELECTION  : NULL                            ',\n    'REMARK   3   R VALUE            (WORKING SET) : NULL                            ',\n    'REMARK   3   FREE R VALUE                     : NULL                            ',\n    'REMARK   3   FREE R VALUE TEST SET SIZE   (%) : NULL                            ',\n    'REMARK   3   FREE R VALUE TEST SET COUNT      : NULL                            ',\n    'REMARK   3   ESTIMATED ERROR OF FREE R VALUE  : NULL                            ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  FIT IN THE HIGHEST RESOLUTION BIN.                                  ',\n    'REMARK   3   TOTAL NUMBER OF BINS USED           : NULL                         ',\n    'REMARK   3   BIN RESOLUTION RANGE HIGH       (A) : NULL                         ',\n    'REMARK   3   BIN RESOLUTION RANGE LOW        (A) : NULL                         ',\n    'REMARK   3   BIN COMPLETENESS (WORKING+TEST) (%) : NULL                         ',\n    'REMARK   3   REFLECTIONS IN BIN    (WORKING SET) : NULL                         ',\n    'REMARK   3   BIN R VALUE           (WORKING SET) : NULL                         ',\n    'REMARK   3   BIN FREE R VALUE                    : NULL                         ',\n    'REMARK   3   BIN FREE R VALUE TEST SET SIZE  (%) : NULL                         ',\n    'REMARK   3   BIN FREE R VALUE TEST SET COUNT     : NULL                         ',\n    'REMARK   3   ESTIMATED ERROR OF BIN FREE R VALUE : NULL                         ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  NUMBER OF NON-HYDROGEN ATOMS USED IN REFINEMENT.                    ',\n    'REMARK   3   PROTEIN ATOMS            : 1217                                    ',\n    'REMARK   3   NUCLEIC ACID ATOMS       : 0                                       ',\n    'REMARK   3   HETEROGEN ATOMS          : 50                                      ',\n    'REMARK   3   SOLVENT ATOMS            : 334                                     ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  B VALUES.                                                           ',\n    'REMARK   3   FROM WILSON PLOT           (A**2) : NULL                           ',\n    'REMARK   3   MEAN B VALUE      (OVERALL, A**2) : NULL                           ',\n    'REMARK   3   OVERALL ANISOTROPIC B VALUE.                                       ',\n    'REMARK   3    B11 (A**2) : NULL                                                 ',\n    'REMARK   3    B22 (A**2) : NULL                                                 ',\n    'REMARK   3    B33 (A**2) : NULL                                                 ',\n    'REMARK   3    B12 (A**2) : NULL                                                 ',\n    'REMARK   3    B13 (A**2) : NULL                                                 ',\n    'REMARK   3    B23 (A**2) : NULL                                                 ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  ESTIMATED COORDINATE ERROR.                                         ',\n    'REMARK   3   ESD FROM LUZZATI PLOT        (A) : NULL                            ',\n    'REMARK   3   ESD FROM SIGMAA              (A) : NULL                            ',\n    'REMARK   3   LOW RESOLUTION CUTOFF        (A) : NULL                            ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  CROSS-VALIDATED ESTIMATED COORDINATE ERROR.                         ',\n    'REMARK   3   ESD FROM C-V LUZZATI PLOT    (A) : NULL                            ',\n    'REMARK   3   ESD FROM C-V SIGMAA          (A) : NULL                            ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  RMS DEVIATIONS FROM IDEAL VALUES.                                   ',\n    'REMARK   3   BOND LENGTHS                 (A) : NULL                            ',\n    'REMARK   3   BOND ANGLES            (DEGREES) : NULL                            ',\n    'REMARK   3   DIHEDRAL ANGLES        (DEGREES) : NULL                            ',\n    'REMARK   3   IMPROPER ANGLES        (DEGREES) : NULL                            ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  ISOTROPIC THERMAL MODEL : NULL                                      ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  ISOTROPIC THERMAL FACTOR RESTRAINTS.    RMS    SIGMA                ',\n    'REMARK   3   MAIN-CHAIN BOND              (A**2) : NULL  ; NULL                 ',\n    'REMARK   3   MAIN-CHAIN ANGLE             (A**2) : NULL  ; NULL                 ',\n    'REMARK   3   SIDE-CHAIN BOND              (A**2) : NULL  ; NULL                 ',\n    'REMARK   3   SIDE-CHAIN ANGLE             (A**2) : NULL  ; NULL                 ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  NCS MODEL : NULL                                                    ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  NCS RESTRAINTS.                         RMS   SIGMA/WEIGHT          ',\n    'REMARK   3   GROUP  1  POSITIONAL            (A) : NULL  ; NULL                 ',\n    'REMARK   3   GROUP  1  B-FACTOR           (A**2) : NULL  ; NULL                 ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  PARAMETER FILE  1  : NULL                                           ',\n    'REMARK   3  TOPOLOGY FILE  1   : NULL                                           ',\n    'REMARK   3                                                                      ',\n    'REMARK   3  OTHER REFINEMENT REMARKS: NULL                                      ',\n    'REMARK   4                                                                      ',\n    'REMARK   4 1MBO COMPLIES WITH FORMAT V. 3.30, 13-JUL-11                         ',\n    'REMARK 100                                                                      ',\n    'REMARK 100 THIS ENTRY HAS BEEN PROCESSED BY BNL.                                ',\n    'REMARK 200                                                                      ',\n    'REMARK 200 EXPERIMENTAL DETAILS                                                 ',\n    'REMARK 200  EXPERIMENT TYPE                : X-RAY DIFFRACTION                  ',\n    'REMARK 200  DATE OF DATA COLLECTION        : NULL                               ',\n    'REMARK 200  TEMPERATURE           (KELVIN) : NULL                               ',\n    'REMARK 200  PH                             : NULL                               ',\n    'REMARK 200  NUMBER OF CRYSTALS USED        : NULL                               ',\n    'REMARK 200                                                                      ',\n    'REMARK 200  SYNCHROTRON              (Y/N) : NULL                               ',\n    'REMARK 200  RADIATION SOURCE               : NULL                               ',\n    'REMARK 200  BEAMLINE                       : NULL                               ',\n    'REMARK 200  X-RAY GENERATOR MODEL          : NULL                               ',\n    'REMARK 200  MONOCHROMATIC OR LAUE    (M/L) : M                                  ',\n    'REMARK 200  WAVELENGTH OR RANGE        (A) : NULL                               ',\n    'REMARK 200  MONOCHROMATOR                  : NULL                               ',\n    'REMARK 200  OPTICS                         : NULL                               ',\n    'REMARK 200                                                                      ',\n    'REMARK 200  DETECTOR TYPE                  : NULL                               ',\n    'REMARK 200  DETECTOR MANUFACTURER          : NULL                               ',\n    'REMARK 200  INTENSITY-INTEGRATION SOFTWARE : NULL                               ',\n    'REMARK 200  DATA SCALING SOFTWARE          : NULL                               ',\n    'REMARK 200                                                                      ',\n    'REMARK 200  NUMBER OF UNIQUE REFLECTIONS   : NULL                               ',\n    'REMARK 200  RESOLUTION RANGE HIGH      (A) : NULL                               ',\n    'REMARK 200  RESOLUTION RANGE LOW       (A) : NULL                               ',\n    'REMARK 200  REJECTION CRITERIA  (SIGMA(I)) : NULL                               ',\n    'REMARK 200                                                                      ',\n    'REMARK 200 OVERALL.                                                             ',\n    'REMARK 200  COMPLETENESS FOR RANGE     (%) : NULL                               ',\n    'REMARK 200  DATA REDUNDANCY                : NULL                               ',\n    'REMARK 200  R MERGE                    (I) : NULL                               ',\n    'REMARK 200  R SYM                      (I) : NULL                               ',\n    'REMARK 200  <I/SIGMA(I)> FOR THE DATA SET  : NULL                               ',\n    'REMARK 200                                                                      ',\n    'REMARK 200 IN THE HIGHEST RESOLUTION SHELL.                                     ',\n    'REMARK 200  HIGHEST RESOLUTION SHELL, RANGE HIGH (A) : NULL                     ',\n    'REMARK 200  HIGHEST RESOLUTION SHELL, RANGE LOW  (A) : NULL                     ',\n    'REMARK 200  COMPLETENESS FOR SHELL     (%) : NULL                               ',\n    'REMARK 200  DATA REDUNDANCY IN SHELL       : NULL                               ',\n    'REMARK 200  R MERGE FOR SHELL          (I) : NULL                               ',\n    'REMARK 200  R SYM FOR SHELL            (I) : NULL                               ',\n    'REMARK 200  <I/SIGMA(I)> FOR SHELL         : NULL                               ',\n    'REMARK 200                                                                      ',\n    'REMARK 200 DIFFRACTION PROTOCOL: SINGLE WAVELENGTH                              ',\n    'REMARK 200 METHOD USED TO DETERMINE THE STRUCTURE: NULL                         ',\n    'REMARK 200 SOFTWARE USED: NULL                                                  ',\n    'REMARK 200 STARTING MODEL: NULL                                                 ',\n    'REMARK 200                                                                      ',\n    'REMARK 200 REMARK: NULL                                                         ',\n    'REMARK 280                                                                      ',\n    'REMARK 280 CRYSTAL                                                              ',\n    'REMARK 280 SOLVENT CONTENT, VS   (%): 37.03                                     ',\n    'REMARK 280 MATTHEWS COEFFICIENT, VM (ANGSTROMS**3/DA): 1.95                     ',\n    'REMARK 280                                                                      ',\n    'REMARK 280 CRYSTALLIZATION CONDITIONS: NULL                                     ',\n    'REMARK 285                                                                      ',\n    'REMARK 285 THE ENTRY COORDINATES                                                ',\n    'REMARK 285 ARE NOT PRESENTED IN THE STANDARD CRYSTAL FRAME.                     ',\n    'REMARK 285                                                                      ',\n    'REMARK 285 IN ORDER TO GENERATE THE CRYSTAL AU, APPLY THE                       ',\n    'REMARK 285 FOLLOWING TRANSFORMATION MATRIX OR MATRICES AND SELECTED             ',\n    'REMARK 285 BIOMT RECORDS TO THE COORDINATES, AS SHOWN BELOW.                    ',\n    'REMARK 285 X0  1   -0.9627     0.0005     0.2706     55.0080                    ',\n    'REMARK 285 X0  2   -0.0004     1.0000    -0.0033      0.0210                    ',\n    'REMARK 285 X0  3   -0.2706    -0.0032    -0.9627     33.6530                    ',\n    'REMARK 285 CRYSTAL AU =                                                         ',\n    'REMARK 285 (X0) * CHAINS A                                                      ',\n    'REMARK 290                                                                      ',\n    'REMARK 290 CRYSTALLOGRAPHIC SYMMETRY                                            ',\n    'REMARK 290 SYMMETRY OPERATORS FOR SPACE GROUP: P 1 21 1                         ',\n    'REMARK 290                                                                      ',\n    'REMARK 290      SYMOP   SYMMETRY                                                ',\n    'REMARK 290     NNNMMM   OPERATOR                                                ',\n    'REMARK 290       1555   X,Y,Z                                                   ',\n    'REMARK 290       2555   -X,Y+1/2,-Z                                             ',\n    'REMARK 290                                                                      ',\n    'REMARK 290     WHERE NNN -> OPERATOR NUMBER                                     ',\n    'REMARK 290           MMM -> TRANSLATION VECTOR                                  ',\n    'REMARK 290                                                                      ',\n    'REMARK 290 CRYSTALLOGRAPHIC SYMMETRY TRANSFORMATIONS                            ',\n    'REMARK 290 THE FOLLOWING TRANSFORMATIONS OPERATE ON THE ATOM/HETATM             ',\n    'REMARK 290 RECORDS IN THIS ENTRY TO PRODUCE CRYSTALLOGRAPHICALLY                ',\n    'REMARK 290 RELATED MOLECULES.                                                   ',\n    'REMARK 290   SMTRY1   1  1.000000  0.000000  0.000000        0.00000            ',\n    'REMARK 290   SMTRY2   1  0.000000  1.000000  0.000000        0.00000            ',\n    'REMARK 290   SMTRY3   1  0.000000  0.000000  1.000000        0.00000            ',\n    'REMARK 290   SMTRY1   2 -1.000000  0.000000  0.000000        0.00000            ',\n    'REMARK 290   SMTRY2   2  0.000000  1.000000  0.000000       15.52506            ',\n    'REMARK 290   SMTRY3   2  0.000000  0.000000 -1.000000        0.00000            ',\n    'REMARK 290                                                                      ',\n    'REMARK 290 REMARK: NULL                                                         ',\n    'REMARK 300                                                                      ',\n    'REMARK 300 BIOMOLECULE: 1                                                       ',\n    'REMARK 300 SEE REMARK 350 FOR THE AUTHOR PROVIDED AND/OR PROGRAM                ',\n    'REMARK 300 GENERATED ASSEMBLY INFORMATION FOR THE STRUCTURE IN                  ',\n    'REMARK 300 THIS ENTRY. THE REMARK MAY ALSO PROVIDE INFORMATION ON               ',\n    'REMARK 300 BURIED SURFACE AREA.                                                 ',\n    'REMARK 350                                                                      ',\n    'REMARK 350 COORDINATES FOR A COMPLETE MULTIMER REPRESENTING THE KNOWN           ',\n    'REMARK 350 BIOLOGICALLY SIGNIFICANT OLIGOMERIZATION STATE OF THE                ',\n    'REMARK 350 MOLECULE CAN BE GENERATED BY APPLYING BIOMT TRANSFORMATIONS          ',\n    'REMARK 350 GIVEN BELOW.  BOTH NON-CRYSTALLOGRAPHIC AND                          ',\n    'REMARK 350 CRYSTALLOGRAPHIC OPERATIONS ARE GIVEN.                               ',\n    'REMARK 350                                                                      ',\n    'REMARK 350 BIOMOLECULE: 1                                                       ',\n    'REMARK 350 AUTHOR DETERMINED BIOLOGICAL UNIT: MONOMERIC                         ',\n    'REMARK 350 APPLY THE FOLLOWING TO CHAINS: A                                     ',\n    'REMARK 350   BIOMT1   1  1.000000  0.000000  0.000000        0.00000            ',\n    'REMARK 350   BIOMT2   1  0.000000  1.000000  0.000000        0.00000            ',\n    'REMARK 350   BIOMT3   1  0.000000  0.000000  1.000000        0.00000            ',\n    'REMARK 525                                                                      ',\n    'REMARK 525 SOLVENT                                                              ',\n    'REMARK 525                                                                      ',\n    'REMARK 525 THE SOLVENT MOLECULES HAVE CHAIN IDENTIFIERS THAT                    ',\n    'REMARK 525 INDICATE THE POLYMER CHAIN WITH WHICH THEY ARE MOST                  ',\n    'REMARK 525 CLOSELY ASSOCIATED. THE REMARK LISTS ALL THE SOLVENT                 ',\n    'REMARK 525 MOLECULES WHICH ARE MORE THAN 5A AWAY FROM THE                       ',\n    'REMARK 525 NEAREST POLYMER CHAIN (M = MODEL NUMBER;                             ',\n    'REMARK 525 RES=RESIDUE NAME; C=CHAIN IDENTIFIER; SSEQ=SEQUENCE                  ',\n    'REMARK 525 NUMBER; I=INSERTION CODE):                                           ',\n    'REMARK 525                                                                      ',\n    'REMARK 525  M RES CSSEQI                                                        ',\n    'REMARK 525    HOH A 170        DISTANCE =  8.22 ANGSTROMS                       ',\n    'REMARK 525    HOH A 180        DISTANCE =  8.09 ANGSTROMS                       ',\n    'REMARK 525    HOH A 203        DISTANCE =  6.42 ANGSTROMS                       ',\n    'REMARK 525    HOH A 208        DISTANCE =  5.96 ANGSTROMS                       ',\n    'REMARK 525    HOH A 267        DISTANCE =  6.49 ANGSTROMS                       ',\n    'REMARK 525    HOH A 289        DISTANCE =  6.05 ANGSTROMS                       ',\n    'REMARK 525    HOH A 298        DISTANCE =  5.48 ANGSTROMS                       ',\n    'REMARK 525    HOH A 314        DISTANCE =  6.47 ANGSTROMS                       ',\n    'REMARK 525    HOH A 356        DISTANCE =  6.32 ANGSTROMS                       ',\n    'REMARK 525    HOH A 368        DISTANCE = 13.00 ANGSTROMS                       ',\n    'REMARK 525    HOH A 376        DISTANCE = 11.94 ANGSTROMS                       ',\n    'REMARK 525    HOH A 377        DISTANCE = 14.24 ANGSTROMS                       ',\n    'REMARK 525    HOH A 379        DISTANCE =  7.01 ANGSTROMS                       ',\n    'REMARK 525    HOH A 380        DISTANCE =  7.13 ANGSTROMS                       ',\n    'REMARK 525    HOH A 383        DISTANCE = 12.95 ANGSTROMS                       ',\n    'REMARK 525    HOH A 389        DISTANCE =  7.72 ANGSTROMS                       ',\n    'REMARK 525    HOH A 393        DISTANCE = 10.27 ANGSTROMS                       ',\n    'REMARK 525    HOH A 394        DISTANCE = 11.99 ANGSTROMS                       ',\n    'REMARK 525    HOH A 395        DISTANCE =  6.31 ANGSTROMS                       ',\n    'REMARK 525    HOH A 405        DISTANCE = 14.83 ANGSTROMS                       ',\n    'REMARK 525    HOH A 407        DISTANCE = 10.70 ANGSTROMS                       ',\n    'REMARK 525    HOH A 408        DISTANCE =  5.58 ANGSTROMS                       ',\n    'REMARK 525    HOH A 415        DISTANCE =  9.15 ANGSTROMS                       ',\n    'REMARK 525    HOH A 419        DISTANCE =  9.35 ANGSTROMS                       ',\n    'REMARK 525    HOH A 430        DISTANCE =  9.15 ANGSTROMS                       ',\n    'REMARK 525    HOH A 433        DISTANCE =  9.59 ANGSTROMS                       ',\n    'REMARK 525    HOH A 434        DISTANCE =  5.55 ANGSTROMS                       ',\n    'REMARK 525    HOH A 437        DISTANCE =  6.75 ANGSTROMS                       ',\n    'REMARK 525    HOH A 438        DISTANCE =  5.25 ANGSTROMS                       ',\n    'REMARK 525    HOH A 440        DISTANCE =  8.08 ANGSTROMS                       ',\n    'REMARK 525    HOH A 442        DISTANCE =  6.95 ANGSTROMS                       ',\n    'REMARK 525    HOH A 444        DISTANCE =  7.47 ANGSTROMS                       ',\n    'REMARK 525    HOH A 449        DISTANCE =  6.20 ANGSTROMS                       ',\n    'REMARK 525    HOH A 454        DISTANCE =  6.72 ANGSTROMS                       ',\n    'REMARK 525    HOH A 456        DISTANCE =  8.23 ANGSTROMS                       ',\n    'REMARK 525    HOH A 457        DISTANCE =  6.32 ANGSTROMS                       ',\n    'REMARK 525    HOH A 470        DISTANCE =  7.25 ANGSTROMS                       ',\n    'REMARK 620                                                                      ',\n    'REMARK 620 METAL COORDINATION                                                   ',\n    'REMARK 620 (M=MODEL NUMBER; RES=RESIDUE NAME; C=CHAIN IDENTIFIER;               ',\n    'REMARK 620 SSEQ=SEQUENCE NUMBER; I=INSERTION CODE):                             ',\n    'REMARK 620                                                                      ',\n    'REMARK 620 COORDINATION ANGLES FOR:  M RES CSSEQI METAL                         ',\n    'REMARK 620                             HEM A 155  FE                            ',\n    'REMARK 620 N RES CSSEQI ATOM                                                    ',\n    'REMARK 620 1 HIS A  93   NE2                                                    ',\n    'REMARK 620 2 HEM A 155   NA  102.8                                              ',\n    'REMARK 620 3 HEM A 155   NB   91.4  89.0                                        ',\n    'REMARK 620 4 HEM A 155   NC   93.9 163.3  90.3                                  ',\n    'REMARK 620 5 HEM A 155   ND   93.8  88.1 174.5  91.1                            ',\n    'REMARK 620 6 OXY A 555   O1  174.4  71.9  86.7  91.4  87.9                      ',\n    'REMARK 620 N                    1     2     3     4     5                       ',\n    'REMARK 800                                                                      ',\n    'REMARK 800 SITE                                                                 ',\n    'REMARK 800 SITE_IDENTIFIER: AC1                                                 ',\n    'REMARK 800 EVIDENCE_CODE: SOFTWARE                                              ',\n    'REMARK 800 SITE_DESCRIPTION: BINDING SITE FOR RESIDUE SO4 A 154                 ',\n    'REMARK 800                                                                      ',\n    'REMARK 800 SITE_IDENTIFIER: AC2                                                 ',\n    'REMARK 800 EVIDENCE_CODE: SOFTWARE                                              ',\n    'REMARK 800 SITE_DESCRIPTION: BINDING SITE FOR RESIDUE HEM A 155                 ',\n    'REMARK 800                                                                      ',\n    'REMARK 800 SITE_IDENTIFIER: AC3                                                 ',\n    'REMARK 800 EVIDENCE_CODE: SOFTWARE                                              ',\n    'REMARK 800 SITE_DESCRIPTION: BINDING SITE FOR RESIDUE OXY A 555                 ',\n    'DBREF  1MBO A    1   153  UNP    P02185   MYG_PHYCA        1    153             ',\n    'SEQRES   1 A  153  VAL LEU SER GLU GLY GLU TRP GLN LEU VAL LEU HIS VAL          ',\n    'SEQRES   2 A  153  TRP ALA LYS VAL GLU ALA ASP VAL ALA GLY HIS GLY GLN          ',\n    'SEQRES   3 A  153  ASP ILE LEU ILE ARG LEU PHE LYS SER HIS PRO GLU THR          ',\n    'SEQRES   4 A  153  LEU GLU LYS PHE ASP ARG PHE LYS HIS LEU LYS THR GLU          ',\n    'SEQRES   5 A  153  ALA GLU MET LYS ALA SER GLU ASP LEU LYS LYS HIS GLY          ',\n    'SEQRES   6 A  153  VAL THR VAL LEU THR ALA LEU GLY ALA ILE LEU LYS LYS          ',\n    'SEQRES   7 A  153  LYS GLY HIS HIS GLU ALA GLU LEU LYS PRO LEU ALA GLN          ',\n    'SEQRES   8 A  153  SER HIS ALA THR LYS HIS LYS ILE PRO ILE LYS TYR LEU          ',\n    'SEQRES   9 A  153  GLU PHE ILE SER GLU ALA ILE ILE HIS VAL LEU HIS SER          ',\n    'SEQRES  10 A  153  ARG HIS PRO GLY ASP PHE GLY ALA ASP ALA GLN GLY ALA          ',\n    'SEQRES  11 A  153  MET ASN LYS ALA LEU GLU LEU PHE ARG LYS ASP ILE ALA          ',\n    'SEQRES  12 A  153  ALA LYS TYR LYS GLU LEU GLY TYR GLN GLY                      ',\n    'HET    SO4  A 154       5                                                       ',\n    'HET    HEM  A 155      43                                                       ',\n    'HET    OXY  A 555       2                                                       ',\n    'HETNAM     SO4 SULFATE ION                                                      ',\n    'HETNAM     HEM PROTOPORPHYRIN IX CONTAINING FE                                  ',\n    'HETNAM     OXY OXYGEN MOLECULE                                                  ',\n    'HETSYN     HEM HEME                                                             ',\n    'FORMUL   2  SO4    O4 S 2-                                                      ',\n    'FORMUL   3  HEM    C34 H32 FE N4 O4                                             ',\n    'FORMUL   4  OXY    O2                                                           ',\n    'FORMUL   5  HOH   *334(H2 O)                                                    ',\n    'HELIX    1   A SER A    3  GLU A   18  1                                  16    ',\n    'HELIX    2   B ASP A   20  SER A   35  1                                  16    ',\n    'HELIX    3   C HIS A   36  LYS A   42  1                                   7    ',\n    'HELIX    4   D THR A   51  ALA A   57  1                                   7    ',\n    'HELIX    5   E SER A   58  LYS A   77  1                                  20    ',\n    'HELIX    6   F LEU A   86  THR A   95  1                                  10    ',\n    'HELIX    7   G PRO A  100  ARG A  118  1                                  19    ',\n    'HELIX    8   H GLY A  124  LEU A  149  1                                  26    ',\n    'LINK         NE2 HIS A  93                FE   HEM A 155     1555   1555  2.07  ',\n    'LINK        FE   HEM A 155                 O1  OXY A 555     1555   1555  1.83  ',\n    'SITE     1 AC1  4 SER A  58  GLU A  59  ASP A  60  HOH A 227                    ',\n    'SITE     1 AC2 22 THR A  39  LYS A  42  PHE A  43  ARG A  45                    ',\n    'SITE     2 AC2 22 HIS A  64  VAL A  68  LEU A  89  SER A  92                    ',\n    'SITE     3 AC2 22 HIS A  93  HIS A  97  ILE A  99  TYR A 103                    ',\n    'SITE     4 AC2 22 LEU A 104  HOH A 163  HOH A 217  HOH A 229                    ',\n    'SITE     5 AC2 22 HOH A 234  HOH A 269  HOH A 337  HOH A 469                    ',\n    'SITE     6 AC2 22 HOH A 472  OXY A 555                                          ',\n    'SITE     1 AC3  5 PHE A  43  HIS A  64  VAL A  68  HEM A 155                    ',\n    'SITE     2 AC3  5 HOH A 341                                                     ',\n    'CRYST1   64.530   31.050   34.930  90.00 105.79  90.00 P 1 21 1      2          ',\n    'ORIGX1      1.000000  0.000000  0.000000        0.00000                         ',\n    'ORIGX2      0.000000  1.000000  0.000000        0.00000                         ',\n    'ORIGX3      0.000000  0.000000  1.000000        0.00000                         ',\n    'SCALE1      0.016104  0.000000  0.000000        0.00000                         ',\n    'SCALE2      0.000000  0.032206  0.000000        0.00000                         ',\n    'SCALE3      0.008096  0.000000  0.028629        0.00000                         ',\n    'ATOM      1  N   VAL A   1      -0.686  14.852  16.090  1.00 42.31           N  ',\n    'ATOM      2  CA  VAL A   1       0.621  15.543  16.081  1.00 53.86           C  ',\n    'ATOM      3  C   VAL A   1       1.823  14.549  16.200  1.00 27.97           C  ',\n    'ATOM      4  O   VAL A   1       1.628  13.369  15.953  1.00 23.24           O  ',\n    'ATOM      5  CB  VAL A   1       0.521  16.582  17.208  1.00 36.55           C  ',\n    'ATOM      6  CG1 VAL A   1      -0.444  17.695  16.811  1.00 35.23           C  ',\n    'ATOM      7  CG2 VAL A   1       0.119  15.972  18.559  1.00 53.38           C  ',\n    'ATOM      8  N   LEU A   2       3.112  14.944  16.272  1.00 13.35           N  ',\n    'ATOM      9  CA  LEU A   2       4.140  13.989  16.663  1.00 16.70           C  ',\n    'ATOM     10  C   LEU A   2       3.978  13.813  18.182  1.00 18.20           C  ',\n    'ATOM     11  O   LEU A   2       3.770  14.833  18.864  1.00 17.87           O  ',\n    'ATOM     12  CB  LEU A   2       5.553  14.489  16.342  1.00  8.27           C  ',\n    'ATOM     13  CG  LEU A   2       6.119  14.183  14.949  1.00 12.85           C  ',\n    'ATOM     14  CD1 LEU A   2       5.542  15.081  13.861  1.00 15.27           C  ',\n    'ATOM     15  CD2 LEU A   2       7.651  14.312  14.995  1.00 20.18           C  ',\n    'ATOM     16  N   SER A   3       4.197  12.584  18.642  1.00 13.77           N  ',\n    'ATOM     17  CA  SER A   3       4.299  12.314  20.105  1.00 13.60           C  ',\n    'ATOM     18  C   SER A   3       5.679  12.782  20.606  1.00 13.75           C  ',\n    'ATOM     19  O   SER A   3       6.574  13.117  19.827  1.00 13.38           O  ',\n    'ATOM     20  CB  SER A   3       4.192  10.803  20.419  1.00 10.19           C  ',\n    'ATOM     21  OG  SER A   3       5.320  10.072  19.891  1.00 14.66           O  ',\n    'ATOM     22  N   GLU A   4       5.725  12.947  21.891  1.00 15.65           N  ',\n    'ATOM     23  CA  GLU A   4       6.922  13.372  22.546  1.00 14.69           C  ',\n    'ATOM     24  C   GLU A   4       8.050  12.356  22.255  1.00 13.99           C  ',\n    'ATOM     25  O   GLU A   4       9.149  12.827  21.934  1.00 10.83           O  ',\n    'ATOM     26  CB  GLU A   4       6.574  13.551  24.059  1.00 15.71           C  ',\n    'ATOM     27  CG  GLU A   4       7.614  14.219  24.907  1.00 32.75           C  ',\n    'ATOM     28  CD  GLU A   4       7.577  15.721  24.606  1.00 24.02           C  ',\n    'ATOM     29  OE1 GLU A   4       6.510  16.387  24.585  1.00 23.22           O  ',\n    'ATOM     30  OE2 GLU A   4       8.502  15.970  23.879  1.00 23.91           O  ',\n    'ATOM     31  N   GLY A   5       7.740  11.030  22.158  1.00 13.83           N  ',\n    'ATOM     32  CA  GLY A   5       8.726  10.011  21.812  1.00 14.60           C  ',\n    'ATOM     33  C   GLY A   5       9.270  10.178  20.380  1.00 15.24           C  ',\n    'ATOM     34  O   GLY A   5      10.483  10.080  20.163  1.00 15.09           O  ',\n    'ATOM     35  N   GLU A   6       8.343  10.613  19.476  1.00 12.23           N  ',\n    'ATOM     36  CA  GLU A   6       8.800  10.856  18.079  1.00 13.56           C  ',\n    'ATOM     37  C   GLU A   6       9.687  12.097  18.053  1.00 11.72           C  ',\n    'ATOM     38  O   GLU A   6      10.628  12.148  17.262  1.00 13.96           O  ',\n    'ATOM     39  CB  GLU A   6       7.598  10.989  17.142  1.00 13.03           C  ',\n    'ATOM     40  CG  GLU A   6       6.878   9.638  16.908  1.00 16.06           C  ',\n    'ATOM     41  CD  GLU A   6       5.421   9.759  16.394  1.00 13.38           C  ',\n    'ATOM     42  OE1 GLU A   6       4.990   8.844  15.709  1.00 18.37           O  ',\n    'ATOM     43  OE2 GLU A   6       4.807  10.816  16.414  1.00 14.81           O  ',\n    'ATOM     44  N   TRP A   7       9.304  13.123  18.802  1.00 12.01           N  ',\n    'ATOM     45  CA  TRP A   7      10.155  14.314  18.776  1.00 10.39           C  ',\n    'ATOM     46  C   TRP A   7      11.562  14.011  19.286  1.00 13.85           C  ',\n    'ATOM     47  O   TRP A   7      12.527  14.571  18.765  1.00 10.51           O  ',\n    'ATOM     48  CB  TRP A   7       9.627  15.506  19.524  1.00  5.53           C  ',\n    'ATOM     49  CG  TRP A   7       8.499  16.238  18.786  1.00 10.78           C  ',\n    'ATOM     50  CD1 TRP A   7       7.200  16.402  19.218  1.00 10.80           C  ',\n    'ATOM     51  CD2 TRP A   7       8.623  16.957  17.540  1.00 13.18           C  ',\n    'ATOM     52  NE1 TRP A   7       6.518  17.169  18.273  1.00 16.85           N  ',\n    'ATOM     53  CE2 TRP A   7       7.355  17.495  17.233  1.00 13.30           C  ',\n    'ATOM     54  CE3 TRP A   7       9.690  17.169  16.670  1.00  8.55           C  ',\n    'ATOM     55  CZ2 TRP A   7       7.081  18.226  16.085  1.00 18.94           C  ',\n    'ATOM     56  CZ3 TRP A   7       9.435  17.909  15.494  1.00 15.57           C  ',\n    'ATOM     57  CH2 TRP A   7       8.140  18.427  15.202  1.00 16.04           C  ',\n    'ATOM     58  N   GLN A   8      11.614  13.129  20.274  1.00 11.41           N  ',\n    'ATOM     59  CA  GLN A   8      12.922  12.849  20.914  1.00  9.35           C  ',\n    'ATOM     60  C   GLN A   8      13.848  12.102  19.935  1.00  8.03           C  ',\n    'ATOM     61  O   GLN A   8      15.007  12.424  19.772  1.00 10.77           O  ',\n    'ATOM     62  CB  GLN A   8      12.587  11.948  22.112  1.00 21.79           C  ',\n    'ATOM     63  CG  GLN A   8      13.791  11.752  23.049  1.00 34.06           C  ',\n    'ATOM     64  CD  GLN A   8      13.503  10.635  24.076  1.00 41.93           C  ',\n    'ATOM     65  OE1 GLN A   8      12.443  10.575  24.705  1.00 39.90           O  ',\n    'ATOM     66  NE2 GLN A   8      14.390   9.643  24.105  1.00 40.02           N  ',\n    'ATOM     67  N   LEU A   9      13.270  11.272  19.089  1.00 11.62           N  ',\n    'ATOM     68  CA  LEU A   9      13.949  10.568  17.972  1.00  4.71           C  ',\n    'ATOM     69  C   LEU A   9      14.499  11.595  16.988  1.00 10.62           C  ',\n    'ATOM     70  O   LEU A   9      15.618  11.425  16.514  1.00 11.29           O  ',\n    'ATOM     71  CB  LEU A   9      13.026   9.629  17.227  1.00  9.68           C  ',\n    'ATOM     72  CG  LEU A   9      12.611   8.346  17.945  1.00 15.80           C  ',\n    'ATOM     73  CD1 LEU A   9      11.525   7.606  17.166  1.00 17.48           C  ',\n    'ATOM     74  CD2 LEU A   9      13.874   7.495  18.155  1.00 18.48           C  ',\n    'ATOM     75  N   VAL A  10      13.687  12.549  16.601  1.00  7.02           N  ',\n    'ATOM     76  CA  VAL A  10      14.103  13.599  15.615  1.00  6.51           C  ',\n    'ATOM     77  C   VAL A  10      15.231  14.448  16.171  1.00 11.12           C  ',\n    'ATOM     78  O   VAL A  10      16.230  14.670  15.480  1.00  7.71           O  ',\n    'ATOM     79  CB  VAL A  10      12.836  14.477  15.305  1.00  8.19           C  ',\n    'ATOM     80  CG1 VAL A  10      13.093  15.795  14.528  1.00 12.12           C  ',\n    'ATOM     81  CG2 VAL A  10      11.826  13.649  14.511  1.00 11.18           C  ',\n    'ATOM     82  N   LEU A  11      15.087  14.852  17.404  1.00  6.07           N  ',\n    'ATOM     83  CA  LEU A  11      16.064  15.786  17.964  1.00  5.44           C  ',\n    'ATOM     84  C   LEU A  11      17.348  15.109  18.371  1.00  8.78           C  ',\n    'ATOM     85  O   LEU A  11      18.425  15.734  18.236  1.00 12.68           O  ',\n    'ATOM     86  CB  LEU A  11      15.411  16.570  19.118  1.00 10.65           C  ',\n    'ATOM     87  CG  LEU A  11      14.270  17.484  18.664  1.00  6.11           C  ',\n    'ATOM     88  CD1 LEU A  11      13.588  18.128  19.840  1.00 16.93           C  ',\n    'ATOM     89  CD2 LEU A  11      14.824  18.522  17.687  1.00  9.20           C  ',\n    'ATOM     90  N   HIS A  12      17.260  13.806  18.568  1.00 11.90           N  ',\n    'ATOM     91  CA  HIS A  12      18.511  13.098  18.904  1.00 14.27           C  ',\n    'ATOM     92  C   HIS A  12      19.385  13.061  17.663  1.00 15.38           C  ',\n    'ATOM     93  O   HIS A  12      20.613  13.301  17.785  1.00 15.42           O  ',\n    'ATOM     94  CB  HIS A  12      18.090  11.741  19.418  1.00 13.84           C  ',\n    'ATOM     95  CG  HIS A  12      19.298  10.927  19.862  1.00 27.71           C  ',\n    'ATOM     96  ND1 HIS A  12      19.906  11.110  21.109  1.00 26.75           N  ',\n    'ATOM     97  CD2 HIS A  12      19.938   9.946  19.120  1.00 21.39           C  ',\n    'ATOM     98  CE1 HIS A  12      20.983  10.168  21.111  1.00 33.79           C  ',\n    'ATOM     99  NE2 HIS A  12      21.009   9.443  19.878  1.00 23.63           N  ',\n    'ATOM    100  N   VAL A  13      18.747  12.659  16.538  1.00 12.98           N  ',\n    'ATOM    101  CA  VAL A  13      19.562  12.593  15.317  1.00 12.59           C  ',\n    'ATOM    102  C   VAL A  13      19.985  14.035  14.920  1.00 13.73           C  ',\n    'ATOM    103  O   VAL A  13      21.115  14.277  14.457  1.00 16.45           O  ',\n    'ATOM    104  CB  VAL A  13      18.942  11.764  14.217  1.00 17.00           C  ',\n    'ATOM    105  CG1AVAL A  13      18.242  10.511  14.679  0.50 24.99           C  ',\n    'ATOM    106  CG1BVAL A  13      20.133  11.773  13.038  0.50 14.05           C  ',\n    'ATOM    107  CG2AVAL A  13      17.837  12.533  13.510  0.50 19.99           C  ',\n    'ATOM    108  CG2BVAL A  13      18.242  10.511  14.679  0.50 24.99           C  ',\n    'ATOM    109  N   TRP A  14      19.134  15.032  15.075  1.00  5.38           N  ',\n    'ATOM    110  CA  TRP A  14      19.498  16.373  14.667  1.00  7.15           C  ',\n    'ATOM    111  C   TRP A  14      20.748  16.919  15.451  1.00 11.15           C  ',\n    'ATOM    112  O   TRP A  14      21.562  17.639  14.864  1.00 11.45           O  ',\n    'ATOM    113  CB  TRP A  14      18.361  17.395  14.858  1.00  8.46           C  ',\n    'ATOM    114  CG  TRP A  14      18.656  18.656  14.051  1.00 12.52           C  ',\n    'ATOM    115  CD1 TRP A  14      19.082  19.925  14.462  1.00 15.52           C  ',\n    'ATOM    116  CD2 TRP A  14      18.538  18.717  12.643  1.00 15.46           C  ',\n    'ATOM    117  NE1 TRP A  14      19.245  20.735  13.354  1.00 13.86           N  ',\n    'ATOM    118  CE2 TRP A  14      18.923  20.010  12.258  1.00 16.85           C  ',\n    'ATOM    119  CE3 TRP A  14      18.143  17.781  11.691  1.00 14.24           C  ',\n    'ATOM    120  CZ2 TRP A  14      18.921  20.421  10.940  1.00 21.03           C  ',\n    'ATOM    121  CZ3 TRP A  14      18.154  18.205  10.357  1.00 22.19           C  ',\n    'ATOM    122  CH2 TRP A  14      18.527  19.486  10.003  1.00 16.95           C  ',\n    'ATOM    123  N   ALA A  15      20.883  16.545  16.709  1.00  8.93           N  ',\n    'ATOM    124  CA  ALA A  15      22.011  17.011  17.558  1.00 11.73           C  ',\n    'ATOM    125  C   ALA A  15      23.283  16.379  16.992  1.00 17.10           C  ',\n    'ATOM    126  O   ALA A  15      24.288  17.075  17.025  1.00 13.65           O  ',\n    'ATOM    127  CB  ALA A  15      21.889  16.621  19.044  1.00 13.27           C  ',\n    'ATOM    128  N   LYS A  16      23.165  15.307  16.225  1.00 14.74           N  ',\n    'ATOM    129  CA  LYS A  16      24.334  14.695  15.496  1.00 12.55           C  ',\n    'ATOM    130  C   LYS A  16      24.627  15.487  14.219  1.00 23.11           C  ',\n    'ATOM    131  O   LYS A  16      25.789  15.734  13.830  1.00 18.58           O  ',\n    'ATOM    132  CB  LYS A  16      24.079  13.239  15.171  1.00 13.39           C  ',\n    'ATOM    133  CG  LYS A  16      23.613  12.320  16.309  1.00 20.42           C  ',\n    'ATOM    134  CD  LYS A  16      24.714  11.903  17.245  1.00 27.84           C  ',\n    'ATOM    135  CE  LYS A  16      24.336  10.737  18.165  1.00 19.73           C  ',\n    'ATOM    136  NZ  LYS A  16      25.551  10.509  18.997  1.00 27.53           N  ',\n    'ATOM    137  N   VAL A  17      23.545  15.946  13.563  1.00 16.03           N  ',\n    'ATOM    138  CA  VAL A  17      23.663  16.851  12.396  1.00  9.85           C  ',\n    'ATOM    139  C   VAL A  17      24.475  18.067  12.772  1.00 15.25           C  ',\n    'ATOM    140  O   VAL A  17      25.362  18.472  11.984  1.00 14.31           O  ',\n    'ATOM    141  CB  VAL A  17      22.287  17.260  11.805  1.00  7.63           C  ',\n    'ATOM    142  CG1 VAL A  17      22.483  18.298  10.701  1.00 12.82           C  ',\n    'ATOM    143  CG2 VAL A  17      21.597  16.017  11.238  1.00 13.48           C  ',\n    'ATOM    144  N   GLU A  18      24.175  18.557  13.963  1.00 11.81           N  ',\n    'ATOM    145  CA  GLU A  18      24.823  19.798  14.401  1.00 15.91           C  ',\n    'ATOM    146  C   GLU A  18      26.357  19.737  14.682  1.00  4.00           C  ',\n    'ATOM    147  O   GLU A  18      26.923  20.864  14.788  1.00 12.78           O  ',\n    'ATOM    148  CB  GLU A  18      24.004  20.438  15.546  1.00 13.31           C  ',\n    'ATOM    149  CG  GLU A  18      22.612  20.885  15.075  1.00 12.90           C  ',\n    'ATOM    150  CD  GLU A  18      21.760  21.613  16.130  1.00 27.05           C  ',\n    'ATOM    151  OE1 GLU A  18      20.961  22.470  15.728  1.00 26.13           O  ',\n    'ATOM    152  OE2 GLU A  18      22.050  21.423  17.322  1.00 31.16           O  ',\n    'ATOM    153  N   ALA A  19      26.855  18.536  14.752  1.00 12.88           N  ',\n    'ATOM    154  CA  ALA A  19      28.288  18.327  14.922  1.00 15.06           C  ',\n    'ATOM    155  C   ALA A  19      29.032  18.713  13.635  1.00 20.14           C  ',\n    'ATOM    156  O   ALA A  19      30.264  18.901  13.654  1.00 14.98           O  ',\n    'ATOM    157  CB  ALA A  19      28.551  16.835  15.212  1.00 18.20           C  ',\n    'ATOM    158  N   ASP A  20      28.278  18.754  12.494  1.00  9.51           N  ',\n    'ATOM    159  CA  ASP A  20      28.873  18.968  11.174  1.00  6.31           C  ',\n    'ATOM    160  C   ASP A  20      27.834  19.580  10.201  1.00  8.85           C  ',\n    'ATOM    161  O   ASP A  20      27.416  18.949   9.214  1.00 10.82           O  ',\n    'ATOM    162  CB  ASP A  20      29.634  17.772  10.564  1.00 18.58           C  ',\n    'ATOM    163  CG  ASP A  20      30.330  18.146   9.244  1.00 16.36           C  ',\n    'ATOM    164  OD1 ASP A  20      30.638  17.202   8.483  1.00 26.92           O  ',\n    'ATOM    165  OD2 ASP A  20      30.439  19.329   8.907  1.00 11.41           O  ',\n    'ATOM    166  N   VAL A  21      27.369  20.786  10.556  1.00 15.66           N  ',\n    'ATOM    167  CA  VAL A  21      26.264  21.371   9.789  1.00  9.54           C  ',\n    'ATOM    168  C   VAL A  21      26.694  21.553   8.352  1.00 10.45           C  ',\n    'ATOM    169  O   VAL A  21      25.980  21.213   7.441  1.00  9.10           O  ',\n    'ATOM    170  CB  VAL A  21      25.813  22.735  10.334  1.00 13.67           C  ',\n    'ATOM    171  CG1 VAL A  21      24.596  23.295   9.516  1.00 16.38           C  ',\n    'ATOM    172  CG2 VAL A  21      25.403  22.640  11.794  1.00 25.89           C  ',\n    'ATOM    173  N   ALA A  22      27.867  22.106   8.134  1.00 11.76           N  ',\n    'ATOM    174  CA  ALA A  22      28.287  22.419   6.775  1.00 14.67           C  ',\n    'ATOM    175  C   ALA A  22      28.417  21.184   5.866  1.00 11.34           C  ',\n    'ATOM    176  O   ALA A  22      28.001  21.181   4.712  1.00 14.98           O  ',\n    'ATOM    177  CB  ALA A  22      29.621  23.189   6.887  1.00 15.44           C  ',\n    'ATOM    178  N   GLY A  23      29.026  20.097   6.359  1.00 11.10           N  ',\n    'ATOM    179  CA  GLY A  23      29.150  18.922   5.555  1.00  9.19           C  ',\n    'ATOM    180  C   GLY A  23      27.774  18.348   5.210  1.00 10.55           C  ',\n    'ATOM    181  O   GLY A  23      27.549  17.845   4.105  1.00 10.44           O  ',\n    'ATOM    182  N   HIS A  24      26.892  18.309   6.241  1.00 10.47           N  ',\n    'ATOM    183  CA  HIS A  24      25.499  17.835   5.983  1.00 14.25           C  ',\n    'ATOM    184  C   HIS A  24      24.729  18.686   4.945  1.00  6.71           C  ',\n    'ATOM    185  O   HIS A  24      24.054  18.131   4.071  1.00  6.04           O  ',\n    'ATOM    186  CB  HIS A  24      24.604  17.781   7.259  1.00 11.16           C  ',\n    'ATOM    187  CG  HIS A  24      24.920  16.592   8.189  1.00 12.97           C  ',\n    'ATOM    188  ND1 HIS A  24      26.023  16.692   9.067  1.00  7.87           N  ',\n    'ATOM    189  CD2 HIS A  24      24.329  15.380   8.345  1.00 10.94           C  ',\n    'ATOM    190  CE1 HIS A  24      26.056  15.503   9.784  1.00 12.47           C  ',\n    'ATOM    191  NE2 HIS A  24      25.016  14.703   9.320  1.00 11.66           N  ',\n    'ATOM    192  N   GLY A  25      24.980  19.926   5.052  1.00  8.78           N  ',\n    'ATOM    193  CA  GLY A  25      24.335  20.941   4.135  1.00  9.95           C  ',\n    'ATOM    194  C   GLY A  25      24.792  20.699   2.703  1.00 11.96           C  ',\n    'ATOM    195  O   GLY A  25      24.000  20.677   1.780  1.00 10.43           O  ',\n    'ATOM    196  N   GLN A  26      26.067  20.462   2.537  1.00 10.96           N  ',\n    'ATOM    197  CA  GLN A  26      26.574  20.209   1.209  1.00 11.30           C  ',\n    'ATOM    198  C   GLN A  26      26.070  18.931   0.592  1.00  7.47           C  ',\n    'ATOM    199  O   GLN A  26      25.719  18.947  -0.587  1.00 11.16           O  ',\n    'ATOM    200  CB  GLN A  26      28.131  20.049   1.290  1.00 13.82           C  ',\n    'ATOM    201  CG  GLN A  26      28.952  21.313   1.254  1.00 34.94           C  ',\n    'ATOM    202  CD  GLN A  26      30.442  20.974   0.923  1.00 23.62           C  ',\n    'ATOM    203  OE1 GLN A  26      31.314  21.510   1.573  1.00 42.12           O  ',\n    'ATOM    204  NE2 GLN A  26      30.750  20.830  -0.365  1.00 30.89           N  ',\n    'ATOM    205  N   ASP A  27      26.087  17.823   1.351  1.00  7.07           N  ',\n    'ATOM    206  CA  ASP A  27      25.684  16.568   0.842  1.00 11.41           C  ',\n    'ATOM    207  C   ASP A  27      24.164  16.712   0.469  1.00 11.32           C  ',\n    'ATOM    208  O   ASP A  27      23.764  16.146  -0.548  1.00  8.30           O  ',\n    'ATOM    209  CB  ASP A  27      25.775  15.514   1.972  1.00 11.34           C  ',\n    'ATOM    210  CG  ASP A  27      27.216  15.023   2.264  1.00 33.54           C  ',\n    'ATOM    211  OD1 ASP A  27      28.173  15.461   1.596  1.00 13.32           O  ',\n    'ATOM    212  OD2 ASP A  27      27.313  14.237   3.210  1.00 18.59           O  ',\n    'ATOM    213  N   ILE A  28      23.399  17.421   1.300  1.00  6.85           N  ',\n    'ATOM    214  CA  ILE A  28      21.887  17.483   1.099  1.00  5.67           C  ',\n    'ATOM    215  C   ILE A  28      21.598  18.251  -0.210  1.00  5.52           C  ',\n    'ATOM    216  O   ILE A  28      20.894  17.788  -1.098  1.00  7.93           O  ',\n    'ATOM    217  CB  ILE A  28      21.116  18.062   2.266  1.00  4.00           C  ',\n    'ATOM    218  CG1 ILE A  28      21.274  17.057   3.345  1.00  9.77           C  ',\n    'ATOM    219  CG2 ILE A  28      19.743  18.583   1.788  1.00  4.00           C  ',\n    'ATOM    220  CD1 ILE A  28      20.909  17.601   4.716  1.00  8.35           C  ',\n    'ATOM    221  N   LEU A  29      22.275  19.430  -0.339  1.00  6.93           N  ',\n    'ATOM    222  CA  LEU A  29      22.085  20.268  -1.590  1.00 10.15           C  ',\n    'ATOM    223  C   LEU A  29      22.637  19.617  -2.875  1.00  7.69           C  ',\n    'ATOM    224  O   LEU A  29      21.970  19.560  -3.917  1.00  7.99           O  ',\n    'ATOM    225  CB  LEU A  29      22.672  21.682  -1.413  1.00  8.34           C  ',\n    'ATOM    226  CG  LEU A  29      21.913  22.559  -0.400  1.00  4.00           C  ',\n    'ATOM    227  CD1 LEU A  29      22.658  23.859  -0.117  1.00 11.71           C  ',\n    'ATOM    228  CD2 LEU A  29      20.508  22.848  -0.795  1.00 15.66           C  ',\n    'ATOM    229  N   ILE A  30      23.719  18.852  -2.759  1.00  8.21           N  ',\n    'ATOM    230  CA  ILE A  30      24.249  18.138  -3.917  1.00  9.12           C  ',\n    'ATOM    231  C   ILE A  30      23.324  16.985  -4.324  1.00 10.51           C  ',\n    'ATOM    232  O   ILE A  30      23.040  16.784  -5.517  1.00 10.48           O  ',\n    'ATOM    233  CB  ILE A  30      25.715  17.612  -3.695  1.00 14.58           C  ',\n    'ATOM    234  CG1 ILE A  30      26.761  18.743  -3.534  1.00 17.82           C  ',\n    'ATOM    235  CG2 ILE A  30      25.926  16.797  -4.962  1.00 18.56           C  ',\n    'ATOM    236  CD1 ILE A  30      28.157  18.292  -3.139  1.00 15.37           C  ',\n    'ATOM    237  N   ARG A  31      22.849  16.268  -3.311  1.00  8.23           N  ',\n    'ATOM    238  CA  ARG A  31      21.854  15.206  -3.629  1.00  7.06           C  ',\n    'ATOM    239  C   ARG A  31      20.635  15.771  -4.361  1.00  8.35           C  ',\n    'ATOM    240  O   ARG A  31      20.121  15.195  -5.334  1.00 10.22           O  ',\n    'ATOM    241  CB  ARG A  31      21.427  14.542  -2.313  1.00 12.41           C  ',\n    'ATOM    242  CG  ARG A  31      20.322  13.516  -2.423  1.00 17.33           C  ',\n    'ATOM    243  CD  ARG A  31      20.811  12.223  -3.035  1.00 23.75           C  ',\n    'ATOM    244  NE  ARG A  31      19.580  11.341  -2.932  1.00 31.01           N  ',\n    'ATOM    245  CZ  ARG A  31      19.500  10.115  -3.415  1.00 49.05           C  ',\n    'ATOM    246  NH1 ARG A  31      20.626   9.553  -3.833  1.00 39.46           N  ',\n    'ATOM    247  NH2 ARG A  31      18.315   9.477  -3.432  1.00 40.96           N  ',\n    'ATOM    248  N   LEU A  32      20.121  16.871  -3.821  1.00 12.39           N  ',\n    'ATOM    249  CA  LEU A  32      18.921  17.536  -4.447  1.00 10.56           C  ',\n    'ATOM    250  C   LEU A  32      19.224  17.913  -5.903  1.00 10.03           C  ',\n    'ATOM    251  O   LEU A  32      18.388  17.701  -6.784  1.00 10.83           O  ',\n    'ATOM    252  CB  LEU A  32      18.663  18.806  -3.639  1.00  8.59           C  ',\n    'ATOM    253  CG  LEU A  32      17.492  19.640  -4.151  1.00 10.12           C  ',\n    'ATOM    254  CD1 LEU A  32      16.196  18.838  -4.043  1.00 10.54           C  ',\n    'ATOM    255  CD2 LEU A  32      17.304  20.989  -3.479  1.00 13.48           C  ',\n    'ATOM    256  N   PHE A  33      20.377  18.589  -6.147  1.00  7.31           N  ',\n    'ATOM    257  CA  PHE A  33      20.646  19.050  -7.464  1.00  5.02           C  ',\n    'ATOM    258  C   PHE A  33      20.860  17.920  -8.500  1.00  7.05           C  ',\n    'ATOM    259  O   PHE A  33      20.584  18.104  -9.682  1.00 11.76           O  ',\n    'ATOM    260  CB  PHE A  33      21.800  20.038  -7.424  1.00 11.38           C  ',\n    'ATOM    261  CG  PHE A  33      21.640  21.341  -6.615  1.00  8.04           C  ',\n    'ATOM    262  CD1 PHE A  33      20.402  21.880  -6.360  1.00  8.12           C  ',\n    'ATOM    263  CD2 PHE A  33      22.736  22.004  -6.116  1.00 10.45           C  ',\n    'ATOM    264  CE1 PHE A  33      20.263  23.043  -5.631  1.00  9.67           C  ',\n    'ATOM    265  CE2 PHE A  33      22.592  23.168  -5.380  1.00 10.27           C  ',\n    'ATOM    266  CZ  PHE A  33      21.338  23.704  -5.127  1.00  9.47           C  ',\n    'ATOM    267  N   LYS A  34      21.474  16.865  -8.005  1.00  6.53           N  ',\n    'ATOM    268  CA  LYS A  34      21.843  15.773  -8.870  1.00  6.73           C  ',\n    'ATOM    269  C   LYS A  34      20.611  14.892  -9.152  1.00 12.20           C  ',\n    'ATOM    270  O   LYS A  34      20.347  14.473 -10.304  1.00 14.76           O  ',\n    'ATOM    271  CB  LYS A  34      22.989  14.944  -8.318  1.00 12.38           C  ',\n    'ATOM    272  CG  LYS A  34      24.396  15.607  -8.432  1.00 12.87           C  ',\n    'ATOM    273  CD  LYS A  34      25.460  14.800  -9.216  1.00 40.76           C  ',\n    'ATOM    274  CE  LYS A  34      25.332  13.270  -9.171  1.00 51.51           C  ',\n    'ATOM    275  NZ  LYS A  34      26.178  12.623  -8.139  1.00 53.22           N  ',\n    'ATOM    276  N   SER A  35      19.782  14.746  -8.139  1.00  8.85           N  ',\n    'ATOM    277  CA  SER A  35      18.554  13.881  -8.310  1.00  7.61           C  ',\n    'ATOM    278  C   SER A  35      17.429  14.582  -9.107  1.00 10.90           C  ',\n    'ATOM    279  O   SER A  35      16.611  13.928  -9.745  1.00 12.29           O  ',\n    'ATOM    280  CB  SER A  35      17.991  13.522  -6.967  1.00 12.07           C  ',\n    'ATOM    281  OG  SER A  35      18.828  12.601  -6.284  1.00 21.98           O  ',\n    'ATOM    282  N   HIS A  36      17.329  15.892  -8.936  1.00 11.80           N  ',\n    'ATOM    283  CA  HIS A  36      16.296  16.814  -9.449  1.00 15.57           C  ',\n    'ATOM    284  C   HIS A  36      17.008  18.103  -9.908  1.00  7.30           C  ',\n    'ATOM    285  O   HIS A  36      16.819  19.206  -9.396  1.00  8.68           O  ',\n    'ATOM    286  CB  HIS A  36      15.195  17.189  -8.393  1.00  8.42           C  ',\n    'ATOM    287  CG  HIS A  36      14.719  15.949  -7.640  1.00  6.41           C  ',\n    'ATOM    288  ND1 HIS A  36      13.733  15.079  -8.110  1.00 12.41           N  ',\n    'ATOM    289  CD2 HIS A  36      15.182  15.496  -6.432  1.00 13.74           C  ',\n    'ATOM    290  CE1 HIS A  36      13.577  14.114  -7.170  1.00 14.99           C  ',\n    'ATOM    291  NE2 HIS A  36      14.454  14.340  -6.130  1.00 18.36           N  ',\n    'ATOM    292  N   PRO A  37      17.443  18.009 -11.181  1.00 10.13           N  ',\n    'ATOM    293  CA  PRO A  37      18.215  19.059 -11.805  1.00 10.58           C  ',\n    'ATOM    294  C   PRO A  37      17.482  20.375 -11.969  1.00 10.49           C  ',\n    'ATOM    295  O   PRO A  37      18.066  21.477 -11.967  1.00 12.27           O  ',\n    'ATOM    296  CB  PRO A  37      18.749  18.512 -13.131  1.00 16.38           C  ',\n    'ATOM    297  CG  PRO A  37      18.560  17.001 -13.073  1.00 14.25           C  ',\n    'ATOM    298  CD  PRO A  37      17.601  16.734 -11.950  1.00 14.21           C  ',\n    'ATOM    299  N   GLU A  38      16.166  20.224 -12.074  1.00  9.60           N  ',\n    'ATOM    300  CA  GLU A  38      15.285  21.416 -12.202  1.00 11.79           C  ',\n    'ATOM    301  C   GLU A  38      15.471  22.339 -10.988  1.00 14.46           C  ',\n    'ATOM    302  O   GLU A  38      15.146  23.531 -11.066  1.00 13.93           O  ',\n    'ATOM    303  CB  GLU A  38      13.825  21.050 -12.529  1.00  7.36           C  ',\n    'ATOM    304  CG  GLU A  38      13.043  20.344 -11.376  1.00 10.97           C  ',\n    'ATOM    305  CD  GLU A  38      13.218  18.859 -11.186  1.00 11.15           C  ',\n    'ATOM    306  OE1 GLU A  38      12.238  18.138 -10.890  1.00 12.25           O  ',\n    'ATOM    307  OE2 GLU A  38      14.256  18.324 -11.622  1.00 11.31           O  ',\n    'ATOM    308  N   THR A  39      15.761  21.744  -9.825  1.00 14.01           N  ',\n    'ATOM    309  CA  THR A  39      15.894  22.578  -8.608  1.00 10.53           C  ',\n    'ATOM    310  C   THR A  39      17.081  23.547  -8.644  1.00 10.29           C  ',\n    'ATOM    311  O   THR A  39      16.980  24.684  -8.160  1.00 11.30           O  ',\n    'ATOM    312  CB  THR A  39      15.963  21.708  -7.375  1.00 12.60           C  ',\n    'ATOM    313  OG1 THR A  39      17.156  20.891  -7.327  1.00 10.19           O  ',\n    'ATOM    314  CG2 THR A  39      14.747  20.810  -7.267  1.00 10.49           C  ',\n    'ATOM    315  N   LEU A  40      18.121  23.115  -9.324  1.00 10.10           N  ',\n    'ATOM    316  CA  LEU A  40      19.281  23.988  -9.493  1.00 13.15           C  ',\n    'ATOM    317  C   LEU A  40      19.004  25.267 -10.257  1.00 10.41           C  ',\n    'ATOM    318  O   LEU A  40      19.481  26.340  -9.898  1.00 13.57           O  ',\n    'ATOM    319  CB  LEU A  40      20.418  23.105 -10.067  1.00 13.64           C  ',\n    'ATOM    320  CG  LEU A  40      21.734  23.821 -10.294  1.00 20.09           C  ',\n    'ATOM    321  CD1 LEU A  40      22.296  24.437  -9.016  1.00 13.90           C  ',\n    'ATOM    322  CD2 LEU A  40      22.710  22.833 -10.953  1.00 20.36           C  ',\n    'ATOM    323  N   GLU A  41      18.077  25.195 -11.193  1.00 10.61           N  ',\n    'ATOM    324  CA  GLU A  41      17.769  26.317 -11.996  1.00 10.10           C  ',\n    'ATOM    325  C   GLU A  41      17.046  27.434 -11.246  1.00 13.65           C  ',\n    'ATOM    326  O   GLU A  41      17.043  28.586 -11.663  1.00 21.29           O  ',\n    'ATOM    327  CB  GLU A  41      16.998  25.713 -13.167  1.00 16.84           C  ',\n    'ATOM    328  CG  GLU A  41      17.091  26.555 -14.440  1.00 23.60           C  ',\n    'ATOM    329  CD  GLU A  41      18.462  26.352 -15.068  1.00 18.24           C  ',\n    'ATOM    330  OE1 GLU A  41      19.244  25.517 -14.620  1.00 39.85           O  ',\n    'ATOM    331  OE2 GLU A  41      18.843  27.255 -15.777  1.00 35.52           O  ',\n    'ATOM    332  N   LYS A  42      16.481  27.122 -10.033  1.00 11.15           N  ',\n    'ATOM    333  CA  LYS A  42      15.926  28.134  -9.159  1.00  8.64           C  ',\n    'ATOM    334  C   LYS A  42      16.970  29.081  -8.512  1.00 16.74           C  ',\n    'ATOM    335  O   LYS A  42      16.687  30.075  -7.799  1.00 11.84           O  ',\n    'ATOM    336  CB  LYS A  42      15.093  27.489  -8.043  1.00 18.03           C  ',\n    'ATOM    337  CG  LYS A  42      13.731  26.888  -8.502  1.00 19.65           C  ',\n    'ATOM    338  CD  LYS A  42      12.679  27.912  -8.953  1.00 17.94           C  ',\n    'ATOM    339  CE  LYS A  42      11.438  27.406  -9.703  1.00 24.82           C  ',\n    'ATOM    340  NZ  LYS A  42      10.474  28.567  -9.803  1.00 19.81           N  ',\n    'ATOM    341  N   PHE A  43      18.218  28.599  -8.544  1.00 12.28           N  ',\n    'ATOM    342  CA  PHE A  43      19.311  29.318  -7.919  1.00 11.81           C  ',\n    'ATOM    343  C   PHE A  43      20.223  30.024  -8.949  1.00 10.95           C  ',\n    'ATOM    344  O   PHE A  43      21.201  29.462  -9.450  1.00 10.08           O  ',\n    'ATOM    345  CB  PHE A  43      20.138  28.301  -7.137  1.00  9.30           C  ',\n    'ATOM    346  CG  PHE A  43      19.494  27.689  -5.877  1.00  9.53           C  ',\n    'ATOM    347  CD1 PHE A  43      19.572  28.376  -4.679  1.00 12.01           C  ',\n    'ATOM    348  CD2 PHE A  43      18.837  26.465  -5.923  1.00 10.54           C  ',\n    'ATOM    349  CE1 PHE A  43      18.993  27.861  -3.536  1.00  9.59           C  ',\n    'ATOM    350  CE2 PHE A  43      18.261  25.959  -4.775  1.00  8.62           C  ',\n    'ATOM    351  CZ  PHE A  43      18.341  26.666  -3.597  1.00  7.89           C  ',\n    'ATOM    352  N   ASP A  44      20.017  31.314  -9.041  1.00 12.33           N  ',\n    'ATOM    353  CA  ASP A  44      20.915  32.143  -9.877  1.00 14.90           C  ',\n    'ATOM    354  C   ASP A  44      22.330  32.039  -9.331  1.00 18.21           C  ',\n    'ATOM    355  O   ASP A  44      23.318  32.090 -10.088  1.00 17.93           O  ',\n    'ATOM    356  CB  ASP A  44      20.414  33.618  -9.980  1.00 18.59           C  ',\n    'ATOM    357  CG  ASP A  44      19.156  33.684 -10.890  1.00 28.92           C  ',\n    'ATOM    358  OD1 ASP A  44      19.174  33.072 -11.967  1.00 37.55           O  ',\n    'ATOM    359  OD2 ASP A  44      18.264  34.523 -10.662  1.00 40.34           O  ',\n    'ATOM    360  N   ARG A  45      22.384  31.910  -8.015  1.00 11.66           N  ',\n    'ATOM    361  CA  ARG A  45      23.711  31.896  -7.406  1.00 13.74           C  ',\n    'ATOM    362  C   ARG A  45      24.547  30.628  -7.608  1.00 13.79           C  ',\n    'ATOM    363  O   ARG A  45      25.787  30.685  -7.480  1.00 11.80           O  ',\n    'ATOM    364  CB  ARG A  45      23.295  32.178  -6.001  1.00 20.94           C  ',\n    'ATOM    365  CG  ARG A  45      24.034  31.718  -4.831  1.00 17.47           C  ',\n    'ATOM    366  CD  ARG A  45      23.568  32.546  -3.624  1.00 12.27           C  ',\n    'ATOM    367  NE  ARG A  45      24.491  32.352  -2.527  1.00 13.68           N  ',\n    'ATOM    368  CZ  ARG A  45      24.220  32.313  -1.233  1.00 13.54           C  ',\n    'ATOM    369  NH1 ARG A  45      22.993  32.435  -0.768  1.00 17.52           N  ',\n    'ATOM    370  NH2 ARG A  45      25.156  31.908  -0.342  1.00 16.46           N  ',\n    'ATOM    371  N   PHE A  46      23.854  29.562  -8.018  1.00  8.92           N  ',\n    'ATOM    372  CA  PHE A  46      24.498  28.243  -8.141  1.00 11.68           C  ',\n    'ATOM    373  C   PHE A  46      24.350  27.640  -9.529  1.00 10.10           C  ',\n    'ATOM    374  O   PHE A  46      24.902  26.569  -9.815  1.00 11.56           O  ',\n    'ATOM    375  CB  PHE A  46      23.916  27.219  -7.146  1.00  9.09           C  ',\n    'ATOM    376  CG  PHE A  46      24.163  27.698  -5.696  1.00  8.64           C  ',\n    'ATOM    377  CD1 PHE A  46      25.418  28.104  -5.301  1.00 11.63           C  ',\n    'ATOM    378  CD2 PHE A  46      23.112  27.748  -4.772  1.00 13.21           C  ',\n    'ATOM    379  CE1 PHE A  46      25.684  28.573  -4.008  1.00 11.06           C  ',\n    'ATOM    380  CE2 PHE A  46      23.356  28.226  -3.456  1.00 13.57           C  ',\n    'ATOM    381  CZ  PHE A  46      24.645  28.635  -3.080  1.00 13.29           C  ',\n    'ATOM    382  N   LYS A  47      23.595  28.240 -10.399  1.00  9.61           N  ',\n    'ATOM    383  CA  LYS A  47      23.308  27.570 -11.717  1.00 17.47           C  ',\n    'ATOM    384  C   LYS A  47      24.495  27.482 -12.713  1.00 19.95           C  ',\n    'ATOM    385  O   LYS A  47      24.438  26.698 -13.681  1.00 16.75           O  ',\n    'ATOM    386  CB  LYS A  47      22.011  28.050 -12.352  1.00 20.22           C  ',\n    'ATOM    387  CG  LYS A  47      22.066  29.539 -12.639  1.00 27.74           C  ',\n    'ATOM    388  CD  LYS A  47      20.696  30.137 -13.046  1.00 31.36           C  ',\n    'ATOM    389  CE  LYS A  47      21.022  31.341 -13.910  1.00 28.86           C  ',\n    'ATOM    390  NZ  LYS A  47      19.780  32.021 -14.333  1.00 52.79           N  ',\n    'ATOM    391  N   HIS A  48      25.650  28.024 -12.293  1.00  8.65           N  ',\n    'ATOM    392  CA  HIS A  48      26.833  27.834 -13.104  1.00  7.77           C  ',\n    'ATOM    393  C   HIS A  48      27.481  26.458 -12.863  1.00 15.27           C  ',\n    'ATOM    394  O   HIS A  48      28.448  26.113 -13.531  1.00 16.68           O  ',\n    'ATOM    395  CB  HIS A  48      27.809  28.982 -12.875  1.00 10.57           C  ',\n    'ATOM    396  CG  HIS A  48      28.320  29.082 -11.427  1.00 11.62           C  ',\n    'ATOM    397  ND1 HIS A  48      27.502  29.558 -10.406  1.00 12.56           N  ',\n    'ATOM    398  CD2 HIS A  48      29.514  28.727 -10.889  1.00 16.09           C  ',\n    'ATOM    399  CE1 HIS A  48      28.248  29.447  -9.262  1.00 11.29           C  ',\n    'ATOM    400  NE2 HIS A  48      29.451  28.967  -9.517  1.00 12.01           N  ',\n    'ATOM    401  N   LEU A  49      27.100  25.805 -11.757  1.00 14.04           N  ',\n    'ATOM    402  CA  LEU A  49      27.876  24.557 -11.352  1.00 13.37           C  ',\n    'ATOM    403  C   LEU A  49      27.324  23.407 -12.159  1.00 18.20           C  ',\n    'ATOM    404  O   LEU A  49      26.110  23.298 -12.294  1.00 14.20           O  ',\n    'ATOM    405  CB  LEU A  49      27.584  24.173  -9.911  1.00  9.08           C  ',\n    'ATOM    406  CG  LEU A  49      28.134  25.307  -9.014  1.00  9.58           C  ',\n    'ATOM    407  CD1 LEU A  49      27.576  25.238  -7.595  1.00  9.68           C  ',\n    'ATOM    408  CD2 LEU A  49      29.689  25.340  -9.010  1.00 13.15           C  ',\n    'ATOM    409  N   LYS A  50      28.212  22.648 -12.709  1.00 14.35           N  ',\n    'ATOM    410  CA  LYS A  50      27.691  21.580 -13.604  1.00 19.29           C  ',\n    'ATOM    411  C   LYS A  50      28.035  20.173 -13.076  1.00 16.42           C  ',\n    'ATOM    412  O   LYS A  50      27.157  19.296 -13.036  1.00 25.53           O  ',\n    'ATOM    413  CB  LYS A  50      28.298  21.745 -14.972  1.00 17.30           C  ',\n    'ATOM    414  CG  LYS A  50      28.381  23.181 -15.476  1.00 36.14           C  ',\n    'ATOM    415  CD  LYS A  50      28.985  23.181 -16.863  1.00 51.63           C  ',\n    'ATOM    416  CE  LYS A  50      28.911  24.542 -17.523  1.00 33.92           C  ',\n    'ATOM    417  NZ  LYS A  50      29.632  24.454 -18.805  1.00 50.81           N  ',\n    'ATOM    418  N   THR A  51      29.185  20.025 -12.493  1.00  8.40           N  ',\n    'ATOM    419  CA  THR A  51      29.610  18.709 -12.036  1.00  6.66           C  ',\n    'ATOM    420  C   THR A  51      29.568  18.592 -10.533  1.00  6.67           C  ',\n    'ATOM    421  O   THR A  51      29.525  19.589  -9.825  1.00  8.09           O  ',\n    'ATOM    422  CB  THR A  51      30.985  18.430 -12.523  1.00  9.29           C  ',\n    'ATOM    423  OG1 THR A  51      31.990  19.176 -11.775  1.00  9.84           O  ',\n    'ATOM    424  CG2 THR A  51      31.125  18.654 -14.009  1.00 12.07           C  ',\n    'ATOM    425  N   GLU A  52      29.494  17.374 -10.065  1.00  8.70           N  ',\n    'ATOM    426  CA  GLU A  52      29.513  17.144  -8.620  1.00  8.74           C  ',\n    'ATOM    427  C   GLU A  52      30.788  17.718  -7.937  1.00  9.66           C  ',\n    'ATOM    428  O   GLU A  52      30.688  18.292  -6.841  1.00  8.30           O  ',\n    'ATOM    429  CB  GLU A  52      29.332  15.631  -8.330  1.00 11.14           C  ',\n    'ATOM    430  CG  GLU A  52      29.236  15.405  -6.849  1.00 14.89           C  ',\n    'ATOM    431  CD  GLU A  52      28.771  13.994  -6.464  1.00 13.01           C  ',\n    'ATOM    432  OE1 GLU A  52      28.871  13.762  -5.248  1.00 14.11           O  ',\n    'ATOM    433  OE2 GLU A  52      28.890  13.125  -7.336  1.00 20.72           O  ',\n    'ATOM    434  N   ALA A  53      31.964  17.531  -8.589  1.00 10.40           N  ',\n    'ATOM    435  CA  ALA A  53      33.223  18.102  -8.037  1.00  4.00           C  ',\n    'ATOM    436  C   ALA A  53      33.122  19.600  -7.962  1.00  7.10           C  ',\n    'ATOM    437  O   ALA A  53      33.584  20.126  -6.965  1.00 11.45           O  ',\n    'ATOM    438  CB  ALA A  53      34.342  17.687  -8.999  1.00 15.20           C  ',\n    'ATOM    439  N   GLU A  54      32.598  20.260  -8.991  1.00  5.61           N  ',\n    'ATOM    440  CA  GLU A  54      32.441  21.706  -8.913  1.00  5.07           C  ',\n    'ATOM    441  C   GLU A  54      31.513  22.077  -7.753  1.00 10.40           C  ',\n    'ATOM    442  O   GLU A  54      31.813  22.982  -6.970  1.00  8.99           O  ',\n    'ATOM    443  CB  GLU A  54      31.870  22.300 -10.200  1.00  9.12           C  ',\n    'ATOM    444  CG  GLU A  54      32.913  22.330 -11.287  1.00 12.73           C  ',\n    'ATOM    445  CD  GLU A  54      32.235  22.589 -12.632  1.00 18.98           C  ',\n    'ATOM    446  OE1 GLU A  54      33.023  22.556 -13.579  1.00 20.91           O  ',\n    'ATOM    447  OE2 GLU A  54      30.978  22.689 -12.780  1.00 15.49           O  ',\n    'ATOM    448  N   MET A  55      30.384  21.315  -7.576  1.00  7.31           N  ',\n    'ATOM    449  CA  MET A  55      29.566  21.618  -6.428  1.00  4.00           C  ',\n    'ATOM    450  C   MET A  55      30.259  21.497  -5.079  1.00  7.63           C  ',\n    'ATOM    451  O   MET A  55      30.086  22.268  -4.135  1.00  8.35           O  ',\n    'ATOM    452  CB  MET A  55      28.367  20.632  -6.467  1.00  9.14           C  ',\n    'ATOM    453  CG  MET A  55      27.470  21.043  -7.610  1.00 10.47           C  ',\n    'ATOM    454  SD  MET A  55      26.095  19.820  -7.741  1.00 12.55           S  ',\n    'ATOM    455  CE  MET A  55      25.560  20.191  -9.398  1.00 24.17           C  ',\n    'ATOM    456  N   LYS A  56      31.019  20.402  -4.936  1.00  7.75           N  ',\n    'ATOM    457  CA  LYS A  56      31.782  20.175  -3.701  1.00 10.90           C  ',\n    'ATOM    458  C   LYS A  56      32.838  21.238  -3.404  1.00 10.06           C  ',\n    'ATOM    459  O   LYS A  56      33.152  21.429  -2.227  1.00 14.23           O  ',\n    'ATOM    460  CB  LYS A  56      32.507  18.862  -3.812  1.00 17.44           C  ',\n    'ATOM    461  CG  LYS A  56      31.457  17.759  -3.787  1.00 23.76           C  ',\n    'ATOM    462  CD  LYS A  56      31.593  16.874  -2.585  1.00 39.38           C  ',\n    'ATOM    463  CE  LYS A  56      31.853  15.458  -3.033  1.00 36.39           C  ',\n    'ATOM    464  NZ  LYS A  56      30.576  14.748  -3.280  1.00 42.48           N  ',\n    'ATOM    465  N   ALA A  57      33.425  21.832  -4.471  1.00  6.61           N  ',\n    'ATOM    466  CA  ALA A  57      34.457  22.835  -4.257  1.00  9.90           C  ',\n    'ATOM    467  C   ALA A  57      33.891  24.198  -3.906  1.00 11.03           C  ',\n    'ATOM    468  O   ALA A  57      34.667  25.075  -3.576  1.00  9.81           O  ',\n    'ATOM    469  CB  ALA A  57      35.262  22.918  -5.546  1.00 10.54           C  ',\n    'ATOM    470  N   SER A  58      32.564  24.447  -4.123  1.00  6.95           N  ',\n    'ATOM    471  CA  SER A  58      32.060  25.807  -3.905  1.00  5.56           C  ',\n    'ATOM    472  C   SER A  58      31.819  26.111  -2.420  1.00  6.51           C  ',\n    'ATOM    473  O   SER A  58      31.040  25.475  -1.687  1.00 10.15           O  ',\n    'ATOM    474  CB  SER A  58      30.754  25.956  -4.648  1.00 12.36           C  ',\n    'ATOM    475  OG  SER A  58      30.086  27.212  -4.395  1.00 10.14           O  ',\n    'ATOM    476  N   GLU A  59      32.546  27.152  -2.023  1.00  8.77           N  ',\n    'ATOM    477  CA  GLU A  59      32.422  27.614  -0.645  1.00  7.30           C  ',\n    'ATOM    478  C   GLU A  59      31.024  28.236  -0.448  1.00  9.38           C  ',\n    'ATOM    479  O   GLU A  59      30.443  28.160   0.626  1.00  8.13           O  ',\n    'ATOM    480  CB  GLU A  59      33.594  28.553  -0.268  1.00 11.09           C  ',\n    'ATOM    481  CG  GLU A  59      33.700  28.839   1.250  1.00 13.84           C  ',\n    'ATOM    482  CD  GLU A  59      34.001  27.595   2.123  1.00 15.77           C  ',\n    'ATOM    483  OE1 GLU A  59      33.793  27.694   3.339  1.00 16.26           O  ',\n    'ATOM    484  OE2 GLU A  59      34.273  26.517   1.591  1.00 12.94           O  ',\n    'ATOM    485  N   ASP A  60      30.595  28.964  -1.424  1.00  7.52           N  ',\n    'ATOM    486  CA  ASP A  60      29.291  29.665  -1.342  1.00  7.45           C  ',\n    'ATOM    487  C   ASP A  60      28.167  28.629  -1.134  1.00  6.94           C  ',\n    'ATOM    488  O   ASP A  60      27.165  28.902  -0.475  1.00 11.99           O  ',\n    'ATOM    489  CB  ASP A  60      29.093  30.573  -2.567  1.00  5.09           C  ',\n    'ATOM    490  CG  ASP A  60      28.013  31.622  -2.269  1.00 11.85           C  ',\n    'ATOM    491  OD1 ASP A  60      27.164  31.694  -3.152  1.00 10.68           O  ',\n    'ATOM    492  OD2 ASP A  60      28.105  32.339  -1.221  1.00 11.83           O  ',\n    'ATOM    493  N   LEU A  61      28.240  27.553  -1.858  1.00  6.31           N  ',\n    'ATOM    494  CA  LEU A  61      27.208  26.500  -1.753  1.00  7.69           C  ',\n    'ATOM    495  C   LEU A  61      27.194  25.958  -0.319  1.00  9.96           C  ',\n    'ATOM    496  O   LEU A  61      26.128  25.698   0.269  1.00  7.39           O  ',\n    'ATOM    497  CB  LEU A  61      27.476  25.394  -2.773  1.00  7.03           C  ',\n    'ATOM    498  CG  LEU A  61      26.380  24.314  -2.876  1.00  6.82           C  ',\n    'ATOM    499  CD1 LEU A  61      24.997  24.933  -3.043  1.00 20.54           C  ',\n    'ATOM    500  CD2 LEU A  61      26.573  23.385  -4.078  1.00 15.16           C  ',\n    'ATOM    501  N   LYS A  62      28.418  25.711   0.200  1.00  7.65           N  ',\n    'ATOM    502  CA  LYS A  62      28.495  25.225   1.563  1.00 10.32           C  ',\n    'ATOM    503  C   LYS A  62      27.903  26.260   2.531  1.00  8.64           C  ',\n    'ATOM    504  O   LYS A  62      27.269  25.862   3.513  1.00 11.59           O  ',\n    'ATOM    505  CB  LYS A  62      30.018  24.937   1.858  1.00 10.05           C  ',\n    'ATOM    506  CG  LYS A  62      30.319  24.362   3.195  1.00 13.40           C  ',\n    'ATOM    507  CD  LYS A  62      31.826  23.985   3.130  1.00 17.92           C  ',\n    'ATOM    508  CE  LYS A  62      32.116  23.239   4.402  1.00 24.35           C  ',\n    'ATOM    509  NZ  LYS A  62      33.526  22.863   4.343  1.00 28.34           N  ',\n    'ATOM    510  N   LYS A  63      28.082  27.503   2.260  1.00  7.09           N  ',\n    'ATOM    511  CA  LYS A  63      27.502  28.558   3.111  1.00  8.52           C  ',\n    'ATOM    512  C   LYS A  63      25.979  28.567   3.084  1.00 10.34           C  ',\n    'ATOM    513  O   LYS A  63      25.386  28.696   4.148  1.00  9.76           O  ',\n    'ATOM    514  CB  LYS A  63      28.093  29.855   2.589  1.00  9.60           C  ',\n    'ATOM    515  CG  LYS A  63      27.798  31.142   3.304  1.00 27.02           C  ',\n    'ATOM    516  CD  LYS A  63      29.149  31.948   3.141  1.00 29.76           C  ',\n    'ATOM    517  CE  LYS A  63      29.039  33.418   3.547  1.00 35.88           C  ',\n    'ATOM    518  NZ  LYS A  63      29.659  34.254   2.485  1.00 23.92           N  ',\n    'ATOM    519  N   HIS A  64      25.399  28.269   1.918  1.00  8.69           N  ',\n    'ATOM    520  CA  HIS A  64      23.926  28.344   1.819  1.00  9.94           C  ',\n    'ATOM    521  C   HIS A  64      23.414  27.045   2.444  1.00 14.22           C  ',\n    'ATOM    522  O   HIS A  64      22.418  27.063   3.155  1.00 10.22           O  ',\n    'ATOM    523  CB  HIS A  64      23.538  28.369   0.354  1.00 11.20           C  ',\n    'ATOM    524  CG  HIS A  64      22.015  28.385   0.281  1.00  8.65           C  ',\n    'ATOM    525  ND1 HIS A  64      21.314  29.427   0.797  1.00 11.63           N  ',\n    'ATOM    526  CD2 HIS A  64      21.166  27.427  -0.221  1.00 20.54           C  ',\n    'ATOM    527  CE1 HIS A  64      19.944  29.070   0.589  1.00 11.64           C  ',\n    'ATOM    528  NE2 HIS A  64      19.851  27.889  -0.014  1.00 18.90           N  ',\n    'ATOM    529  N   GLY A  65      24.208  25.953   2.389  1.00  9.49           N  ',\n    'ATOM    530  CA  GLY A  65      23.766  24.725   3.095  1.00  6.43           C  ',\n    'ATOM    531  C   GLY A  65      23.670  24.902   4.636  1.00 11.14           C  ',\n    'ATOM    532  O   GLY A  65      22.712  24.527   5.332  1.00  7.54           O  ',\n    'ATOM    533  N   VAL A  66      24.571  25.657   5.175  1.00  7.53           N  ',\n    'ATOM    534  CA  VAL A  66      24.454  26.113   6.580  1.00  6.28           C  ',\n    'ATOM    535  C   VAL A  66      23.189  26.978   6.848  1.00  5.34           C  ',\n    'ATOM    536  O   VAL A  66      22.528  26.738   7.896  1.00  7.59           O  ',\n    'ATOM    537  CB  VAL A  66      25.752  26.793   7.040  1.00 11.93           C  ',\n    'ATOM    538  CG1 VAL A  66      25.607  27.341   8.463  1.00 12.74           C  ',\n    'ATOM    539  CG2 VAL A  66      26.966  25.849   6.916  1.00 13.20           C  ',\n    'ATOM    540  N   THR A  67      22.914  27.943   5.960  1.00  4.00           N  ',\n    'ATOM    541  CA  THR A  67      21.690  28.787   6.092  1.00  4.00           C  ',\n    'ATOM    542  C   THR A  67      20.473  27.863   6.222  1.00  7.86           C  ',\n    'ATOM    543  O   THR A  67      19.601  28.125   7.062  1.00  9.83           O  ',\n    'ATOM    544  CB  THR A  67      21.587  29.684   4.890  1.00  8.60           C  ',\n    'ATOM    545  OG1 THR A  67      22.660  30.661   5.044  1.00 15.12           O  ',\n    'ATOM    546  CG2 THR A  67      20.243  30.453   4.865  1.00 14.41           C  ',\n    'ATOM    547  N   VAL A  68      20.361  26.959   5.270  1.00  7.51           N  ',\n    'ATOM    548  CA  VAL A  68      19.188  26.058   5.182  1.00  4.00           C  ',\n    'ATOM    549  C   VAL A  68      19.080  25.254   6.426  1.00  4.00           C  ',\n    'ATOM    550  O   VAL A  68      18.025  25.202   7.048  1.00  7.63           O  ',\n    'ATOM    551  CB  VAL A  68      19.224  25.236   3.957  1.00  7.21           C  ',\n    'ATOM    552  CG1 VAL A  68      18.103  24.174   3.941  1.00 10.93           C  ',\n    'ATOM    553  CG2 VAL A  68      19.177  26.089   2.738  1.00  9.91           C  ',\n    'ATOM    554  N   LEU A  69      20.123  24.556   6.834  1.00  9.34           N  ',\n    'ATOM    555  CA  LEU A  69      20.056  23.647   8.000  1.00  4.39           C  ',\n    'ATOM    556  C   LEU A  69      19.772  24.391   9.298  1.00  6.62           C  ',\n    'ATOM    557  O   LEU A  69      19.147  23.832  10.214  1.00 11.69           O  ',\n    'ATOM    558  CB  LEU A  69      21.172  22.677   8.098  1.00  7.19           C  ',\n    'ATOM    559  CG  LEU A  69      21.286  21.708   6.970  1.00 11.98           C  ',\n    'ATOM    560  CD1 LEU A  69      22.310  20.632   7.308  1.00 14.26           C  ',\n    'ATOM    561  CD2 LEU A  69      19.972  21.105   6.544  1.00 14.59           C  ',\n    'ATOM    562  N   THR A  70      20.366  25.572   9.412  1.00  8.75           N  ',\n    'ATOM    563  CA  THR A  70      20.212  26.401  10.613  1.00 11.33           C  ',\n    'ATOM    564  C   THR A  70      18.748  26.825  10.816  1.00 10.39           C  ',\n    'ATOM    565  O   THR A  70      18.209  26.628  11.925  1.00 11.01           O  ',\n    'ATOM    566  CB  THR A  70      21.088  27.682  10.550  1.00 14.37           C  ',\n    'ATOM    567  OG1 THR A  70      22.426  27.191  10.632  1.00 20.15           O  ',\n    'ATOM    568  CG2 THR A  70      20.809  28.468  11.846  1.00 17.07           C  ',\n    'ATOM    569  N   ALA A  71      18.073  27.191   9.710  1.00  7.95           N  ',\n    'ATOM    570  CA  ALA A  71      16.603  27.524   9.763  1.00  6.65           C  ',\n    'ATOM    571  C   ALA A  71      15.767  26.281  10.073  1.00  6.78           C  ',\n    'ATOM    572  O   ALA A  71      14.863  26.335  10.911  1.00  9.21           O  ',\n    'ATOM    573  CB  ALA A  71      16.244  28.064   8.393  1.00  7.41           C  ',\n    'ATOM    574  N   LEU A  72      16.072  25.154   9.384  1.00  4.98           N  ',\n    'ATOM    575  CA  LEU A  72      15.433  23.897   9.655  1.00  4.00           C  ',\n    'ATOM    576  C   LEU A  72      15.582  23.424  11.079  1.00  7.23           C  ',\n    'ATOM    577  O   LEU A  72      14.628  23.034  11.758  1.00  9.08           O  ',\n    'ATOM    578  CB  LEU A  72      15.809  22.835   8.656  1.00  7.66           C  ',\n    'ATOM    579  CG  LEU A  72      14.970  21.504   8.784  1.00 10.24           C  ',\n    'ATOM    580  CD1 LEU A  72      13.511  21.733   8.638  1.00 10.34           C  ',\n    'ATOM    581  CD2 LEU A  72      15.379  20.450   7.750  1.00 14.68           C  ',\n    'ATOM    582  N   GLY A  73      16.736  23.578  11.677  1.00  9.26           N  ',\n    'ATOM    583  CA  GLY A  73      16.925  23.180  13.070  1.00  9.55           C  ',\n    'ATOM    584  C   GLY A  73      16.088  24.001  14.057  1.00  7.20           C  ',\n    'ATOM    585  O   GLY A  73      15.597  23.493  15.058  1.00 11.90           O  ',\n    'ATOM    586  N   ALA A  74      16.112  25.305  13.818  1.00  9.90           N  ',\n    'ATOM    587  CA  ALA A  74      15.282  26.217  14.621  1.00  9.71           C  ',\n    'ATOM    588  C   ALA A  74      13.812  25.796  14.616  1.00 10.03           C  ',\n    'ATOM    589  O   ALA A  74      13.176  25.887  15.663  1.00 12.13           O  ',\n    'ATOM    590  CB  ALA A  74      15.441  27.637  14.093  1.00 12.78           C  ',\n    'ATOM    591  N   ILE A  75      13.335  25.345  13.457  1.00 10.07           N  ',\n    'ATOM    592  CA  ILE A  75      11.918  24.902  13.343  1.00 10.20           C  ',\n    'ATOM    593  C   ILE A  75      11.660  23.598  14.129  1.00 11.34           C  ',\n    'ATOM    594  O   ILE A  75      10.764  23.442  14.971  1.00  9.13           O  ',\n    'ATOM    595  CB  ILE A  75      11.556  24.691  11.849  1.00  7.81           C  ',\n    'ATOM    596  CG1 ILE A  75      11.470  26.073  11.089  1.00  9.05           C  ',\n    'ATOM    597  CG2 ILE A  75      10.243  23.952  11.795  1.00 10.00           C  ',\n    'ATOM    598  CD1 ILE A  75      11.506  25.843   9.557  1.00 10.96           C  ',\n    'ATOM    599  N   LEU A  76      12.551  22.643  13.885  1.00  8.19           N  ',\n    'ATOM    600  CA  LEU A  76      12.462  21.366  14.576  1.00  7.91           C  ',\n    'ATOM    601  C   LEU A  76      12.424  21.449  16.105  1.00 10.85           C  ',\n    'ATOM    602  O   LEU A  76      11.664  20.654  16.708  1.00 12.23           O  ',\n    'ATOM    603  CB  LEU A  76      13.511  20.348  14.097  1.00  6.77           C  ',\n    'ATOM    604  CG  LEU A  76      13.395  19.998  12.616  1.00  8.20           C  ',\n    'ATOM    605  CD1 LEU A  76      14.601  19.027  12.277  1.00 16.62           C  ',\n    'ATOM    606  CD2 LEU A  76      12.126  19.237  12.231  1.00 12.31           C  ',\n    'ATOM    607  N   LYS A  77      13.238  22.401  16.677  1.00  7.92           N  ',\n    'ATOM    608  CA  LYS A  77      13.368  22.399  18.121  1.00  7.96           C  ',\n    'ATOM    609  C   LYS A  77      12.216  23.170  18.697  1.00 11.72           C  ',\n    'ATOM    610  O   LYS A  77      12.124  23.160  19.910  1.00 12.45           O  ',\n    'ATOM    611  CB  LYS A  77      14.688  23.099  18.598  1.00 13.47           C  ',\n    'ATOM    612  CG  LYS A  77      15.929  22.344  18.188  1.00 13.04           C  ',\n    'ATOM    613  CD  LYS A  77      17.070  23.268  18.346  1.00 13.35           C  ',\n    'ATOM    614  CE  LYS A  77      18.322  22.522  17.902  1.00 14.94           C  ',\n    'ATOM    615  NZ  LYS A  77      19.474  23.441  17.952  1.00 20.65           N  ',\n    'ATOM    616  N   LYS A  78      11.293  23.655  17.850  1.00 10.35           N  ',\n    'ATOM    617  CA  LYS A  78       9.995  24.157  18.419  1.00 11.06           C  ',\n    'ATOM    618  C   LYS A  78       8.953  23.066  18.601  1.00 10.27           C  ',\n    'ATOM    619  O   LYS A  78       7.849  23.329  19.103  1.00 11.31           O  ',\n    'ATOM    620  CB  LYS A  78       9.390  25.231  17.527  1.00 11.93           C  ',\n    'ATOM    621  CG  LYS A  78      10.212  26.508  17.472  1.00 17.17           C  ',\n    'ATOM    622  CD  LYS A  78      10.197  27.508  18.636  1.00 30.03           C  ',\n    'ATOM    623  CE  LYS A  78      11.352  28.502  18.346  1.00 28.50           C  ',\n    'ATOM    624  NZ  LYS A  78      11.124  29.889  18.788  1.00 45.08           N  ',\n    'ATOM    625  N   LYS A  79       9.238  21.901  18.051  1.00 10.82           N  ',\n    'ATOM    626  CA  LYS A  79       8.351  20.773  18.303  1.00 10.78           C  ',\n    'ATOM    627  C   LYS A  79       6.908  21.008  17.841  1.00 15.69           C  ',\n    'ATOM    628  O   LYS A  79       5.999  20.668  18.604  1.00 15.76           O  ',\n    'ATOM    629  CB  LYS A  79       8.490  20.208  19.729  1.00 13.81           C  ',\n    'ATOM    630  CG  LYS A  79       9.965  19.842  20.062  1.00 15.41           C  ',\n    'ATOM    631  CD  LYS A  79      10.146  19.654  21.578  1.00 18.98           C  ',\n    'ATOM    632  CE  LYS A  79       9.453  18.369  22.006  1.00 17.35           C  ',\n    'ATOM    633  NZ  LYS A  79       9.491  18.264  23.498  1.00 17.52           N  ',\n    'ATOM    634  N   GLY A  80       6.786  21.579  16.608  1.00  8.83           N  ',\n    'ATOM    635  CA  GLY A  80       5.453  21.856  16.035  1.00 10.24           C  ',\n    'ATOM    636  C   GLY A  80       4.942  23.270  16.343  1.00 14.35           C  ',\n    'ATOM    637  O   GLY A  80       4.121  23.781  15.554  1.00 15.73           O  ',\n    'ATOM    638  N   HIS A  81       5.510  23.947  17.352  1.00 11.33           N  ',\n    'ATOM    639  CA  HIS A  81       5.068  25.364  17.612  1.00 16.26           C  ',\n    'ATOM    640  C   HIS A  81       5.870  26.445  16.856  1.00 11.08           C  ',\n    'ATOM    641  O   HIS A  81       6.650  27.142  17.496  1.00 13.36           O  ',\n    'ATOM    642  CB  HIS A  81       5.164  25.624  19.123  1.00 17.98           C  ',\n    'ATOM    643  CG  HIS A  81       4.261  24.663  19.927  1.00 33.51           C  ',\n    'ATOM    644  ND1 HIS A  81       4.750  23.521  20.602  1.00 36.15           N  ',\n    'ATOM    645  CD2 HIS A  81       2.904  24.745  20.127  1.00 41.79           C  ',\n    'ATOM    646  CE1 HIS A  81       3.678  22.908  21.216  1.00 27.41           C  ',\n    'ATOM    647  NE2 HIS A  81       2.518  23.654  20.935  1.00 45.28           N  ',\n    'ATOM    648  N   HIS A  82       5.863  26.362  15.541  1.00 15.43           N  ',\n    'ATOM    649  CA  HIS A  82       6.830  27.040  14.672  1.00 12.21           C  ',\n    'ATOM    650  C   HIS A  82       6.161  28.044  13.748  1.00 10.71           C  ',\n    'ATOM    651  O   HIS A  82       6.750  28.528  12.782  1.00 13.06           O  ',\n    'ATOM    652  CB  HIS A  82       7.544  25.958  13.815  1.00  9.72           C  ',\n    'ATOM    653  CG  HIS A  82       6.600  25.017  13.038  1.00 13.86           C  ',\n    'ATOM    654  ND1 HIS A  82       6.881  23.643  12.992  1.00 18.13           N  ',\n    'ATOM    655  CD2 HIS A  82       5.405  25.217  12.300  1.00  9.96           C  ',\n    'ATOM    656  CE1 HIS A  82       5.852  23.034  12.226  1.00 17.16           C  ',\n    'ATOM    657  NE2 HIS A  82       4.976  24.016  11.821  1.00 10.74           N  ',\n    'ATOM    658  N   GLU A  83       5.037  28.599  14.203  1.00 12.34           N  ',\n    'ATOM    659  CA  GLU A  83       4.324  29.591  13.456  1.00 18.19           C  ',\n    'ATOM    660  C   GLU A  83       5.162  30.815  13.082  1.00 15.82           C  ',\n    'ATOM    661  O   GLU A  83       5.134  31.254  11.917  1.00 18.55           O  ',\n    'ATOM    662  CB  GLU A  83       3.164  30.062  14.372  1.00 23.83           C  ',\n    'ATOM    663  CG  GLU A  83       2.348  28.938  14.990  1.00 37.95           C  ',\n    'ATOM    664  CD  GLU A  83       2.991  28.334  16.250  1.00 27.30           C  ',\n    'ATOM    665  OE1 GLU A  83       3.624  28.984  17.094  1.00 33.90           O  ',\n    'ATOM    666  OE2 GLU A  83       2.900  27.130  16.328  1.00 48.83           O  ',\n    'ATOM    667  N   ALA A  84       5.930  31.298  14.011  1.00 15.30           N  ',\n    'ATOM    668  CA  ALA A  84       6.734  32.492  13.732  1.00 16.27           C  ',\n    'ATOM    669  C   ALA A  84       7.849  32.272  12.714  1.00 14.51           C  ',\n    'ATOM    670  O   ALA A  84       8.325  33.217  12.073  1.00 20.00           O  ',\n    'ATOM    671  CB  ALA A  84       7.284  33.102  15.006  1.00 17.94           C  ',\n    'ATOM    672  N   GLU A  85       8.484  31.119  12.876  1.00 15.64           N  ',\n    'ATOM    673  CA  GLU A  85       9.664  30.722  12.103  1.00 23.20           C  ',\n    'ATOM    674  C   GLU A  85       9.253  30.461  10.657  1.00 15.33           C  ',\n    'ATOM    675  O   GLU A  85       9.967  30.814   9.725  1.00 19.11           O  ',\n    'ATOM    676  CB  GLU A  85      10.431  29.522  12.740  1.00 14.53           C  ',\n    'ATOM    677  CG  GLU A  85      10.809  29.741  14.214  1.00 16.96           C  ',\n    'ATOM    678  CD  GLU A  85       9.683  29.815  15.269  1.00 25.49           C  ',\n    'ATOM    679  OE1 GLU A  85       8.577  29.359  15.047  1.00 31.81           O  ',\n    'ATOM    680  OE2 GLU A  85       9.941  30.336  16.358  1.00 40.61           O  ',\n    'ATOM    681  N   LEU A  86       8.056  29.877  10.499  1.00 12.46           N  ',\n    'ATOM    682  CA  LEU A  86       7.640  29.367   9.213  1.00 14.42           C  ',\n    'ATOM    683  C   LEU A  86       7.122  30.495   8.350  1.00 13.77           C  ',\n    'ATOM    684  O   LEU A  86       7.232  30.560   7.140  1.00 16.15           O  ',\n    'ATOM    685  CB  LEU A  86       6.556  28.314   9.514  1.00 19.78           C  ',\n    'ATOM    686  CG  LEU A  86       6.301  27.203   8.502  1.00 23.93           C  ',\n    'ATOM    687  CD1ALEU A  86       6.218  25.850   9.178  0.50 20.48           C  ',\n    'ATOM    688  CD1BLEU A  86       8.090  26.454   8.796  0.50 21.61           C  ',\n    'ATOM    689  CD2ALEU A  86       4.863  27.299   7.975  0.50 29.48           C  ',\n    'ATOM    690  CD2BLEU A  86       5.394  26.143   9.050  0.50  9.18           C  ',\n    'ATOM    691  N   LYS A  87       6.473  31.481   8.979  1.00 13.83           N  ',\n    'ATOM    692  CA  LYS A  87       5.877  32.583   8.221  1.00 19.06           C  ',\n    'ATOM    693  C   LYS A  87       6.797  33.337   7.262  1.00 17.86           C  ',\n    'ATOM    694  O   LYS A  87       6.445  33.536   6.110  1.00 15.36           O  ',\n    'ATOM    695  CB  LYS A  87       5.191  33.625   9.134  1.00 28.18           C  ',\n    'ATOM    696  CG  LYS A  87       3.733  33.785   8.891  1.00 44.21           C  ',\n    'ATOM    697  CD  LYS A  87       3.444  35.231   9.276  1.00 32.16           C  ',\n    'ATOM    698  CE  LYS A  87       1.985  35.597   9.390  1.00 33.89           C  ',\n    'ATOM    699  NZ  LYS A  87       1.938  36.909  10.038  1.00 50.72           N  ',\n    'ATOM    700  N   PRO A  88       7.995  33.741   7.638  1.00 15.86           N  ',\n    'ATOM    701  CA  PRO A  88       8.905  34.474   6.745  1.00 13.91           C  ',\n    'ATOM    702  C   PRO A  88       9.387  33.560   5.597  1.00  5.53           C  ',\n    'ATOM    703  O   PRO A  88       9.632  33.961   4.448  1.00  9.24           O  ',\n    'ATOM    704  CB  PRO A  88      10.051  34.855   7.663  1.00 19.68           C  ',\n    'ATOM    705  CG  PRO A  88       9.397  34.866   9.037  1.00 16.40           C  ',\n    'ATOM    706  CD  PRO A  88       8.462  33.721   9.037  1.00 19.55           C  ',\n    'ATOM    707  N   LEU A  89       9.607  32.370   6.017  1.00 11.16           N  ',\n    'ATOM    708  CA  LEU A  89      10.157  31.339   5.075  1.00 12.19           C  ',\n    'ATOM    709  C   LEU A  89       9.083  31.106   3.968  1.00 12.83           C  ',\n    'ATOM    710  O   LEU A  89       9.369  30.882   2.786  1.00  9.77           O  ',\n    'ATOM    711  CB  LEU A  89      10.538  30.031   5.828  1.00 10.99           C  ',\n    'ATOM    712  CG  LEU A  89      11.157  28.894   5.006  1.00 15.77           C  ',\n    'ATOM    713  CD1ALEU A  89      11.202  27.658   5.925  0.50 19.67           C  ',\n    'ATOM    714  CD1BLEU A  89      12.506  29.469   4.874  0.50 20.65           C  ',\n    'ATOM    715  CD2ALEU A  89      10.289  28.368   3.861  0.50 27.86           C  ',\n    'ATOM    716  CD2BLEU A  89      11.202  27.658   5.925  0.50 19.67           C  ',\n    'ATOM    717  N   ALA A  90       7.852  30.808   4.382  1.00 10.79           N  ',\n    'ATOM    718  CA  ALA A  90       6.897  30.450   3.283  1.00  8.38           C  ',\n    'ATOM    719  C   ALA A  90       6.602  31.676   2.431  1.00  6.20           C  ',\n    'ATOM    720  O   ALA A  90       6.484  31.614   1.209  1.00 12.23           O  ',\n    'ATOM    721  CB  ALA A  90       5.540  30.181   3.987  1.00 12.75           C  ',\n    'ATOM    722  N   GLN A  91       6.634  32.862   3.068  1.00  9.75           N  ',\n    'ATOM    723  CA  GLN A  91       6.516  34.082   2.310  1.00 11.90           C  ',\n    'ATOM    724  C   GLN A  91       7.605  34.263   1.245  1.00 20.14           C  ',\n    'ATOM    725  O   GLN A  91       7.308  34.571   0.095  1.00 11.74           O  ',\n    'ATOM    726  CB  GLN A  91       6.366  35.350   3.178  1.00 14.84           C  ',\n    'ATOM    727  CG  GLN A  91       4.981  35.561   3.811  1.00 31.57           C  ',\n    'ATOM    728  CD  GLN A  91       4.876  36.537   5.007  1.00 43.28           C  ',\n    'ATOM    729  OE1 GLN A  91       3.866  37.186   5.269  1.00 35.34           O  ',\n    'ATOM    730  NE2 GLN A  91       5.891  36.729   5.713  1.00 32.28           N  ',\n    'ATOM    731  N   SER A  92       8.913  34.117   1.557  1.00  5.55           N  ',\n    'ATOM    732  CA  SER A  92       9.917  34.325   0.534  1.00  9.98           C  ',\n    'ATOM    733  C   SER A  92       9.895  33.212  -0.490  1.00  7.86           C  ',\n    'ATOM    734  O   SER A  92      10.063  33.405  -1.697  1.00 10.71           O  ',\n    'ATOM    735  CB  SER A  92      11.328  34.337   1.203  1.00 12.50           C  ',\n    'ATOM    736  OG  SER A  92      11.549  33.124   1.910  1.00 11.33           O  ',\n    'ATOM    737  N   HIS A  93       9.595  31.975   0.046  1.00  8.99           N  ',\n    'ATOM    738  CA  HIS A  93       9.605  30.829  -0.881  1.00  6.05           C  ',\n    'ATOM    739  C   HIS A  93       8.479  30.812  -1.909  1.00  7.44           C  ',\n    'ATOM    740  O   HIS A  93       8.736  30.411  -3.051  1.00 10.23           O  ',\n    'ATOM    741  CB  HIS A  93       9.900  29.447  -0.217  1.00  9.16           C  ',\n    'ATOM    742  CG  HIS A  93      11.342  29.365   0.307  1.00 10.67           C  ',\n    'ATOM    743  ND1 HIS A  93      11.826  30.280   1.263  1.00 10.61           N  ',\n    'ATOM    744  CD2 HIS A  93      12.346  28.477  -0.067  1.00  9.42           C  ',\n    'ATOM    745  CE1 HIS A  93      13.219  29.918   1.456  1.00 11.99           C  ',\n    'ATOM    746  NE2 HIS A  93      13.493  28.822   0.611  1.00  8.12           N  ',\n    'ATOM    747  N   ALA A  94       7.334  31.351  -1.427  1.00 12.42           N  ',\n    'ATOM    748  CA  ALA A  94       6.204  31.444  -2.347  1.00 13.79           C  ',\n    'ATOM    749  C   ALA A  94       6.482  32.580  -3.329  1.00 12.28           C  ',\n    'ATOM    750  O   ALA A  94       6.156  32.435  -4.503  1.00 12.75           O  ',\n    'ATOM    751  CB  ALA A  94       4.926  31.568  -1.524  1.00 14.41           C  ',\n    'ATOM    752  N   THR A  95       6.742  33.746  -2.779  1.00 13.37           N  ',\n    'ATOM    753  CA  THR A  95       6.603  34.957  -3.543  1.00 11.86           C  ',\n    'ATOM    754  C   THR A  95       7.878  35.440  -4.237  1.00 19.66           C  ',\n    'ATOM    755  O   THR A  95       7.716  36.073  -5.291  1.00 21.67           O  ',\n    'ATOM    756  CB  THR A  95       5.908  36.043  -2.744  1.00 20.11           C  ',\n    'ATOM    757  OG1 THR A  95       6.813  36.712  -1.879  1.00 20.32           O  ',\n    'ATOM    758  CG2 THR A  95       4.729  35.495  -1.975  1.00 23.01           C  ',\n    'ATOM    759  N   LYS A  96       9.044  35.254  -3.556  1.00 12.32           N  ',\n    'ATOM    760  CA  LYS A  96      10.329  35.730  -4.041  1.00 15.73           C  ',\n    'ATOM    761  C   LYS A  96      11.017  34.632  -4.848  1.00 15.63           C  ',\n    'ATOM    762  O   LYS A  96      11.413  34.821  -6.005  1.00 17.38           O  ',\n    'ATOM    763  CB  LYS A  96      11.158  36.194  -2.831  1.00 24.49           C  ',\n    'ATOM    764  CG  LYS A  96      12.445  36.973  -3.160  1.00 27.59           C  ',\n    'ATOM    765  CD  LYS A  96      13.106  37.441  -1.835  1.00 43.49           C  ',\n    'ATOM    766  CE  LYS A  96      13.873  38.754  -2.032  1.00 47.19           C  ',\n    'ATOM    767  NZ  LYS A  96      14.511  39.164  -0.784  1.00 55.93           N  ',\n    'ATOM    768  N   HIS A  97      11.157  33.452  -4.215  1.00 12.50           N  ',\n    'ATOM    769  CA  HIS A  97      11.936  32.390  -4.839  1.00  7.07           C  ',\n    'ATOM    770  C   HIS A  97      11.149  31.509  -5.780  1.00  8.87           C  ',\n    'ATOM    771  O   HIS A  97      11.690  30.858  -6.663  1.00 12.83           O  ',\n    'ATOM    772  CB  HIS A  97      12.604  31.538  -3.746  1.00 12.10           C  ',\n    'ATOM    773  CG  HIS A  97      13.442  32.368  -2.763  1.00 11.34           C  ',\n    'ATOM    774  ND1 HIS A  97      14.288  33.360  -3.183  1.00 12.07           N  ',\n    'ATOM    775  CD2 HIS A  97      13.489  32.358  -1.391  1.00 11.83           C  ',\n    'ATOM    776  CE1 HIS A  97      14.808  33.934  -2.056  1.00 13.15           C  ',\n    'ATOM    777  NE2 HIS A  97      14.322  33.330  -0.973  1.00 13.01           N  ',\n    'ATOM    778  N   LYS A  98       9.862  31.486  -5.565  1.00 15.93           N  ',\n    'ATOM    779  CA  LYS A  98       8.918  30.627  -6.296  1.00 19.72           C  ',\n    'ATOM    780  C   LYS A  98       9.249  29.123  -6.262  1.00 16.90           C  ',\n    'ATOM    781  O   LYS A  98       9.460  28.479  -7.298  1.00 15.36           O  ',\n    'ATOM    782  CB  LYS A  98       8.809  30.987  -7.752  1.00 16.10           C  ',\n    'ATOM    783  CG  LYS A  98       8.634  32.450  -7.946  1.00 31.18           C  ',\n    'ATOM    784  CD  LYS A  98       7.415  32.906  -7.192  1.00 31.23           C  ',\n    'ATOM    785  CE  LYS A  98       7.178  34.350  -7.577  1.00 48.12           C  ',\n    'ATOM    786  NZ  LYS A  98       7.293  34.385  -9.027  1.00 50.15           N  ',\n    'ATOM    787  N   ILE A  99       9.233  28.593  -5.128  1.00 14.42           N  ',\n    'ATOM    788  CA  ILE A  99       9.542  27.177  -4.922  1.00 10.83           C  ',\n    'ATOM    789  C   ILE A  99       8.273  26.383  -4.762  1.00 14.37           C  ',\n    'ATOM    790  O   ILE A  99       7.614  26.498  -3.722  1.00 14.39           O  ',\n    'ATOM    791  CB  ILE A  99      10.420  27.041  -3.678  1.00 12.53           C  ',\n    'ATOM    792  CG1 ILE A  99      11.625  27.990  -3.731  1.00 14.58           C  ',\n    'ATOM    793  CG2 ILE A  99      10.904  25.639  -3.433  1.00 10.38           C  ',\n    'ATOM    794  CD1 ILE A  99      12.427  27.776  -5.043  1.00 14.13           C  ',\n    'ATOM    795  N   PRO A 100       8.037  25.462  -5.713  1.00 13.69           N  ',\n    'ATOM    796  CA  PRO A 100       6.852  24.624  -5.564  1.00 15.41           C  ',\n    'ATOM    797  C   PRO A 100       6.964  23.739  -4.337  1.00 15.40           C  ',\n    'ATOM    798  O   PRO A 100       8.004  23.200  -3.943  1.00 12.71           O  ',\n    'ATOM    799  CB  PRO A 100       6.663  23.831  -6.871  1.00 15.39           C  ',\n    'ATOM    800  CG  PRO A 100       7.729  24.331  -7.822  1.00 14.99           C  ',\n    'ATOM    801  CD  PRO A 100       8.629  25.348  -7.047  1.00 11.27           C  ',\n    'ATOM    802  N   ILE A 101       5.774  23.446  -3.783  1.00 14.89           N  ',\n    'ATOM    803  CA  ILE A 101       5.774  22.523  -2.653  1.00 14.05           C  ',\n    'ATOM    804  C   ILE A 101       6.418  21.147  -2.980  1.00 13.72           C  ',\n    'ATOM    805  O   ILE A 101       7.026  20.532  -2.141  1.00 12.62           O  ',\n    'ATOM    806  CB  ILE A 101       4.313  22.335  -2.183  1.00 15.59           C  ',\n    'ATOM    807  CG1 ILE A 101       3.648  23.555  -1.544  1.00 17.22           C  ',\n    'ATOM    808  CG2 ILE A 101       4.308  21.200  -1.186  1.00 21.21           C  ',\n    'ATOM    809  CD1 ILE A 101       4.345  23.758  -0.206  1.00 21.82           C  ',\n    'ATOM    810  N   LYS A 102       6.325  20.652  -4.197  1.00 12.51           N  ',\n    'ATOM    811  CA  LYS A 102       6.917  19.410  -4.619  1.00 11.70           C  ',\n    'ATOM    812  C   LYS A 102       8.444  19.436  -4.390  1.00  7.91           C  ',\n    'ATOM    813  O   LYS A 102       9.048  18.392  -4.086  1.00 11.04           O  ',\n    'ATOM    814  CB  LYS A 102       6.609  19.218  -6.165  1.00  7.54           C  ',\n    'ATOM    815  CG  LYS A 102       7.049  17.871  -6.639  1.00 12.44           C  ',\n    'ATOM    816  CD  LYS A 102       6.008  16.911  -6.078  1.00 21.29           C  ',\n    'ATOM    817  CE  LYS A 102       6.251  15.521  -6.634  1.00 19.45           C  ',\n    'ATOM    818  NZ  LYS A 102       5.557  14.484  -5.832  1.00 14.90           N  ',\n    'ATOM    819  N   TYR A 103       9.021  20.618  -4.619  1.00 11.28           N  ',\n    'ATOM    820  CA  TYR A 103      10.532  20.703  -4.460  1.00  9.34           C  ',\n    'ATOM    821  C   TYR A 103      10.833  20.592  -2.968  1.00  8.68           C  ',\n    'ATOM    822  O   TYR A 103      11.914  20.182  -2.576  1.00  8.48           O  ',\n    'ATOM    823  CB  TYR A 103      11.038  22.078  -4.928  1.00 10.68           C  ',\n    'ATOM    824  CG  TYR A 103      11.062  22.301  -6.475  1.00 10.50           C  ',\n    'ATOM    825  CD1 TYR A 103      11.765  23.318  -7.048  1.00 12.10           C  ',\n    'ATOM    826  CD2 TYR A 103      10.370  21.457  -7.311  1.00 18.42           C  ',\n    'ATOM    827  CE1 TYR A 103      11.760  23.515  -8.426  1.00 13.86           C  ',\n    'ATOM    828  CE2 TYR A 103      10.344  21.618  -8.689  1.00 19.69           C  ',\n    'ATOM    829  CZ  TYR A 103      11.058  22.685  -9.251  1.00 13.15           C  ',\n    'ATOM    830  OH  TYR A 103      11.040  22.850 -10.639  1.00 24.85           O  ',\n    'ATOM    831  N   LEU A 104       9.962  21.069  -2.105  1.00  4.79           N  ',\n    'ATOM    832  CA  LEU A 104      10.173  20.841  -0.683  1.00  8.50           C  ',\n    'ATOM    833  C   LEU A 104      10.085  19.341  -0.260  1.00  8.40           C  ',\n    'ATOM    834  O   LEU A 104      10.784  18.869   0.652  1.00 10.03           O  ',\n    'ATOM    835  CB  LEU A 104       9.236  21.684   0.200  1.00 10.97           C  ',\n    'ATOM    836  CG  LEU A 104       9.280  23.156  -0.048  1.00 13.64           C  ',\n    'ATOM    837  CD1 LEU A 104       8.192  23.847   0.751  1.00 19.37           C  ',\n    'ATOM    838  CD2 LEU A 104      10.606  23.774   0.400  1.00 22.27           C  ',\n    'ATOM    839  N   GLU A 105       9.317  18.572  -1.025  1.00  6.60           N  ',\n    'ATOM    840  CA  GLU A 105       9.200  17.159  -0.910  1.00  7.46           C  ',\n    'ATOM    841  C   GLU A 105      10.566  16.563  -1.307  1.00  5.81           C  ',\n    'ATOM    842  O   GLU A 105      11.083  15.710  -0.594  1.00  8.41           O  ',\n    'ATOM    843  CB  GLU A 105       8.019  16.572  -1.732  1.00 11.34           C  ',\n    'ATOM    844  CG  GLU A 105       7.911  15.092  -1.478  1.00 13.55           C  ',\n    'ATOM    845  CD  GLU A 105       6.826  14.456  -2.406  1.00 13.22           C  ',\n    'ATOM    846  OE1 GLU A 105       6.822  13.231  -2.454  1.00 19.25           O  ',\n    'ATOM    847  OE2 GLU A 105       6.144  15.169  -3.120  1.00 13.81           O  ',\n    'ATOM    848  N   PHE A 106      11.102  17.050  -2.415  1.00  5.81           N  ',\n    'ATOM    849  CA  PHE A 106      12.412  16.563  -2.895  1.00  4.00           C  ',\n    'ATOM    850  C   PHE A 106      13.589  16.787  -1.911  1.00  8.82           C  ',\n    'ATOM    851  O   PHE A 106      14.366  15.870  -1.661  1.00  9.81           O  ',\n    'ATOM    852  CB  PHE A 106      12.798  17.202  -4.210  1.00  9.44           C  ',\n    'ATOM    853  CG  PHE A 106      11.944  16.975  -5.459  1.00  8.36           C  ',\n    'ATOM    854  CD1 PHE A 106      11.940  17.887  -6.501  1.00 11.69           C  ',\n    'ATOM    855  CD2 PHE A 106      11.141  15.843  -5.513  1.00 16.69           C  ',\n    'ATOM    856  CE1 PHE A 106      11.102  17.667  -7.617  1.00 16.58           C  ',\n    'ATOM    857  CE2 PHE A 106      10.307  15.623  -6.636  1.00 14.74           C  ',\n    'ATOM    858  CZ  PHE A 106      10.307  16.533  -7.650  1.00 12.87           C  ',\n    'ATOM    859  N   ILE A 107      13.666  17.984  -1.337  1.00 10.44           N  ',\n    'ATOM    860  CA  ILE A 107      14.700  18.277  -0.318  1.00  7.16           C  ',\n    'ATOM    861  C   ILE A 107      14.502  17.438   0.947  1.00  6.26           C  ',\n    'ATOM    862  O   ILE A 107      15.510  16.985   1.550  1.00  7.15           O  ',\n    'ATOM    863  CB  ILE A 107      14.897  19.799  -0.075  1.00  6.55           C  ',\n    'ATOM    864  CG1 ILE A 107      16.266  20.033   0.544  1.00  7.23           C  ',\n    'ATOM    865  CG2 ILE A 107      13.865  20.283   0.888  1.00  8.92           C  ',\n    'ATOM    866  CD1 ILE A 107      16.675  21.496   0.654  1.00  9.78           C  ',\n    'ATOM    867  N   SER A 108      13.196  17.149   1.261  1.00  6.51           N  ',\n    'ATOM    868  CA  SER A 108      12.864  16.264   2.358  1.00  4.00           C  ',\n    'ATOM    869  C   SER A 108      13.458  14.874   2.181  1.00  5.10           C  ',\n    'ATOM    870  O   SER A 108      14.080  14.312   3.087  1.00  6.10           O  ',\n    'ATOM    871  CB  SER A 108      11.353  16.236   2.627  1.00 10.68           C  ',\n    'ATOM    872  OG  SER A 108      10.879  17.495   3.111  1.00  8.74           O  ',\n    'ATOM    873  N   GLU A 109      13.263  14.324   0.968  1.00  7.39           N  ',\n    'ATOM    874  CA  GLU A 109      13.860  13.030   0.622  1.00  9.56           C  ',\n    'ATOM    875  C   GLU A 109      15.414  13.101   0.764  1.00  8.01           C  ',\n    'ATOM    876  O   GLU A 109      15.975  12.095   1.188  1.00  5.91           O  ',\n    'ATOM    877  CB  GLU A 109      13.463  12.668  -0.803  1.00  9.92           C  ',\n    'ATOM    878  CG  GLU A 109      11.953  12.359  -0.956  1.00 26.31           C  ',\n    'ATOM    879  CD  GLU A 109      11.534  11.193  -0.054  1.00 53.25           C  ',\n    'ATOM    880  OE1 GLU A 109      12.267  10.184   0.006  1.00 42.82           O  ',\n    'ATOM    881  OE2 GLU A 109      10.602  11.392   0.736  1.00 33.57           O  ',\n    'ATOM    882  N   ALA A 110      16.037  14.162   0.282  1.00  9.30           N  ',\n    'ATOM    883  CA  ALA A 110      17.496  14.307   0.297  1.00 12.48           C  ',\n    'ATOM    884  C   ALA A 110      18.009  14.407   1.750  1.00 14.53           C  ',\n    'ATOM    885  O   ALA A 110      18.961  13.730   2.077  1.00 11.21           O  ',\n    'ATOM    886  CB  ALA A 110      17.902  15.574  -0.411  1.00 10.13           C  ',\n    'ATOM    887  N   ILE A 111      17.300  15.056   2.653  1.00 10.89           N  ',\n    'ATOM    888  CA  ILE A 111      17.658  15.097   4.071  1.00  7.13           C  ',\n    'ATOM    889  C   ILE A 111      17.649  13.698   4.672  1.00 12.06           C  ',\n    'ATOM    890  O   ILE A 111      18.608  13.289   5.362  1.00 10.73           O  ',\n    'ATOM    891  CB  ILE A 111      16.684  16.041   4.856  1.00  7.93           C  ',\n    'ATOM    892  CG1 ILE A 111      16.838  17.497   4.292  1.00  4.49           C  ',\n    'ATOM    893  CG2 ILE A 111      17.061  15.854   6.387  1.00 12.26           C  ',\n    'ATOM    894  CD1 ILE A 111      15.781  18.489   4.784  1.00  9.59           C  ',\n    'ATOM    895  N   ILE A 112      16.581  12.983   4.380  1.00  8.05           N  ',\n    'ATOM    896  CA  ILE A 112      16.421  11.614   4.913  1.00 15.72           C  ',\n    'ATOM    897  C   ILE A 112      17.526  10.683   4.395  1.00 12.47           C  ',\n    'ATOM    898  O   ILE A 112      18.111   9.943   5.213  1.00 12.41           O  ',\n    'ATOM    899  CB  ILE A 112      14.995  11.056   4.686  1.00 16.43           C  ',\n    'ATOM    900  CG1 ILE A 112      14.059  11.845   5.587  1.00 15.36           C  ',\n    'ATOM    901  CG2 ILE A 112      14.962   9.570   5.049  1.00 14.66           C  ',\n    'ATOM    902  CD1 ILE A 112      12.621  11.848   5.132  1.00 17.10           C  ',\n    'ATOM    903  N   HIS A 113      17.752  10.733   3.100  1.00  9.64           N  ',\n    'ATOM    904  CA  HIS A 113      18.834   9.959   2.491  1.00  8.15           C  ',\n    'ATOM    905  C   HIS A 113      20.213  10.191   3.219  1.00 15.53           C  ',\n    'ATOM    906  O   HIS A 113      20.987   9.271   3.553  1.00 16.07           O  ',\n    'ATOM    907  CB  HIS A 113      18.872  10.369   1.045  1.00 16.56           C  ',\n    'ATOM    908  CG  HIS A 113      19.925   9.561   0.295  1.00 27.20           C  ',\n    'ATOM    909  ND1 HIS A 113      19.557   8.466  -0.451  1.00 47.31           N  ',\n    'ATOM    910  CD2 HIS A 113      21.295   9.724   0.246  1.00 22.43           C  ',\n    'ATOM    911  CE1 HIS A 113      20.699   7.900  -0.995  1.00 41.76           C  ',\n    'ATOM    912  NE2 HIS A 113      21.767   8.687  -0.552  1.00 32.62           N  ',\n    'ATOM    913  N   VAL A 114      20.541  11.481   3.371  1.00 11.54           N  ',\n    'ATOM    914  CA  VAL A 114      21.862  11.825   3.952  1.00 11.26           C  ',\n    'ATOM    915  C   VAL A 114      21.983  11.403   5.420  1.00 14.26           C  ',\n    'ATOM    916  O   VAL A 114      23.064  10.951   5.898  1.00 11.91           O  ',\n    'ATOM    917  CB  VAL A 114      22.168  13.299   3.705  1.00 11.15           C  ',\n    'ATOM    918  CG1 VAL A 114      23.345  13.877   4.528  1.00 10.78           C  ',\n    'ATOM    919  CG2 VAL A 114      22.328  13.580   2.196  1.00 13.45           C  ',\n    'ATOM    920  N   LEU A 115      20.939  11.650   6.151  1.00 11.89           N  ',\n    'ATOM    921  CA  LEU A 115      20.869  11.272   7.562  1.00 15.08           C  ',\n    'ATOM    922  C   LEU A 115      21.028   9.761   7.648  1.00 12.34           C  ',\n    'ATOM    923  O   LEU A 115      21.716   9.312   8.562  1.00 11.44           O  ',\n    'ATOM    924  CB  LEU A 115      19.521  11.622   8.197  1.00 18.37           C  ',\n    'ATOM    925  CG  LEU A 115      19.353  13.072   8.542  1.00 24.57           C  ',\n    'ATOM    926  CD1 LEU A 115      18.205  13.383   9.524  1.00 22.44           C  ',\n    'ATOM    927  CD2 LEU A 115      20.604  13.730   8.989  1.00 23.04           C  ',\n    'ATOM    928  N   HIS A 116      20.564   9.005   6.694  1.00 12.91           N  ',\n    'ATOM    929  CA  HIS A 116      20.704   7.530   6.773  1.00 23.74           C  ',\n    'ATOM    930  C   HIS A 116      22.149   7.131   6.447  1.00 17.49           C  ',\n    'ATOM    931  O   HIS A 116      22.719   6.245   7.089  1.00 16.73           O  ',\n    'ATOM    932  CB  HIS A 116      19.714   6.863   5.806  1.00 17.50           C  ',\n    'ATOM    933  CG  HIS A 116      19.707   5.291   5.828  1.00 33.26           C  ',\n    'ATOM    934  ND1 HIS A 116      19.204   4.529   6.924  1.00 38.41           N  ',\n    'ATOM    935  CD2 HIS A 116      20.163   4.403   4.863  1.00 40.74           C  ',\n    'ATOM    936  CE1 HIS A 116      19.361   3.158   6.625  1.00 31.85           C  ',\n    'ATOM    937  NE2 HIS A 116      19.964   3.047   5.338  1.00 36.48           N  ',\n    'ATOM    938  N   SER A 117      22.741   7.850   5.515  1.00 11.92           N  ',\n    'ATOM    939  CA  SER A 117      24.102   7.628   5.127  1.00 15.46           C  ',\n    'ATOM    940  C   SER A 117      25.044   7.869   6.328  1.00 24.79           C  ',\n    'ATOM    941  O   SER A 117      25.969   7.068   6.538  1.00 20.67           O  ',\n    'ATOM    942  CB  SER A 117      24.497   8.491   3.894  1.00 25.03           C  ',\n    'ATOM    943  OG  SER A 117      23.798   8.147   2.664  1.00 30.49           O  ',\n    'ATOM    944  N   ARG A 118      24.884   9.001   7.024  1.00 14.70           N  ',\n    'ATOM    945  CA  ARG A 118      25.805   9.420   8.003  1.00 10.00           C  ',\n    'ATOM    946  C   ARG A 118      25.592   8.829   9.397  1.00 18.28           C  ',\n    'ATOM    947  O   ARG A 118      26.445   8.913  10.280  1.00 19.79           O  ',\n    'ATOM    948  CB  ARG A 118      25.881  10.967   7.981  1.00  9.55           C  ',\n    'ATOM    949  CG  ARG A 118      26.423  11.465   6.611  1.00 20.16           C  ',\n    'ATOM    950  CD  ARG A 118      26.572  12.991   6.417  1.00 20.33           C  ',\n    'ATOM    951  NE  ARG A 118      27.586  13.484   7.319  1.00 47.17           N  ',\n    'ATOM    952  CZ  ARG A 118      28.409  14.491   7.042  1.00 17.57           C  ',\n    'ATOM    953  NH1 ARG A 118      28.696  14.934   5.793  1.00 20.56           N  ',\n    'ATOM    954  NH2 ARG A 118      28.990  14.947   8.085  1.00 33.45           N  ',\n    'ATOM    955  N   HIS A 119      24.362   8.451   9.741  1.00 15.45           N  ',\n    'ATOM    956  CA  HIS A 119      24.044   8.133  11.141  1.00 12.65           C  ',\n    'ATOM    957  C   HIS A 119      23.233   6.861  11.286  1.00 20.49           C  ',\n    'ATOM    958  O   HIS A 119      22.249   6.923  12.004  1.00 15.78           O  ',\n    'ATOM    959  CB  HIS A 119      23.291   9.227  11.962  1.00 12.81           C  ',\n    'ATOM    960  CG  HIS A 119      23.964  10.581  11.748  1.00 15.12           C  ',\n    'ATOM    961  ND1 HIS A 119      25.067  10.930  12.484  1.00 22.82           N  ',\n    'ATOM    962  CD2 HIS A 119      23.680  11.569  10.840  1.00 20.66           C  ',\n    'ATOM    963  CE1 HIS A 119      25.494  12.169  12.039  1.00 14.21           C  ',\n    'ATOM    964  NE2 HIS A 119      24.607  12.542  11.023  1.00 20.45           N  ',\n    'ATOM    965  N   PRO A 120      23.491   5.839  10.523  1.00 16.16           N  ',\n    'ATOM    966  CA  PRO A 120      22.740   4.589  10.608  1.00 18.44           C  ',\n    'ATOM    967  C   PRO A 120      22.367   4.088  12.022  1.00 34.75           C  ',\n    'ATOM    968  O   PRO A 120      21.231   3.690  12.306  1.00 24.10           O  ',\n    'ATOM    969  CB  PRO A 120      23.609   3.600   9.860  1.00 23.85           C  ',\n    'ATOM    970  CG  PRO A 120      25.006   4.118  10.001  1.00 35.50           C  ',\n    'ATOM    971  CD  PRO A 120      24.722   5.581   9.786  1.00 28.24           C  ',\n    'ATOM    972  N   GLY A 121      23.270   4.136  12.956  1.00 22.32           N  ',\n    'ATOM    973  CA  GLY A 121      23.002   3.607  14.303  1.00 20.21           C  ',\n    'ATOM    974  C   GLY A 121      22.008   4.393  15.138  1.00 23.81           C  ',\n    'ATOM    975  O   GLY A 121      21.387   3.834  16.055  1.00 31.72           O  ',\n    'ATOM    976  N   ASP A 122      21.782   5.626  14.736  1.00 19.99           N  ',\n    'ATOM    977  CA  ASP A 122      20.745   6.428  15.375  1.00 22.50           C  ',\n    'ATOM    978  C   ASP A 122      19.668   6.769  14.362  1.00 18.68           C  ',\n    'ATOM    979  O   ASP A 122      18.921   7.715  14.634  1.00 26.79           O  ',\n    'ATOM    980  CB  ASP A 122      21.182   7.746  15.985  1.00 28.54           C  ',\n    'ATOM    981  CG  ASP A 122      22.189   7.478  17.099  1.00 45.96           C  ',\n    'ATOM    982  OD1 ASP A 122      23.401   7.621  16.869  1.00 43.34           O  ',\n    'ATOM    983  OD2 ASP A 122      21.729   7.160  18.199  1.00 39.46           O  ',\n    'ATOM    984  N   PHE A 123      19.709   6.109  13.226  1.00 22.50           N  ',\n    'ATOM    985  CA  PHE A 123      18.657   6.460  12.286  1.00 11.97           C  ',\n    'ATOM    986  C   PHE A 123      18.032   5.166  11.774  1.00 10.09           C  ',\n    'ATOM    987  O   PHE A 123      17.976   4.908  10.562  1.00 18.44           O  ',\n    'ATOM    988  CB  PHE A 123      19.171   7.406  11.201  1.00 10.89           C  ',\n    'ATOM    989  CG  PHE A 123      18.087   8.215  10.447  1.00 12.97           C  ',\n    'ATOM    990  CD1 PHE A 123      17.355   9.188  11.136  1.00 15.80           C  ',\n    'ATOM    991  CD2 PHE A 123      17.852   8.008   9.100  1.00 11.56           C  ',\n    'ATOM    992  CE1 PHE A 123      16.382   9.962  10.438  1.00 19.57           C  ',\n    'ATOM    993  CE2 PHE A 123      16.891   8.766   8.431  1.00 11.62           C  ',\n    'ATOM    994  CZ  PHE A 123      16.196   9.713   9.099  1.00  9.77           C  ',\n    'ATOM    995  N   GLY A 124      17.580   4.425  12.739  1.00 18.36           N  ',\n    'ATOM    996  CA  GLY A 124      16.844   3.156  12.408  1.00 18.03           C  ',\n    'ATOM    997  C   GLY A 124      15.444   3.566  11.888  1.00 15.55           C  ',\n    'ATOM    998  O   GLY A 124      15.103   4.763  11.862  1.00 10.95           O  ',\n    'ATOM    999  N   ALA A 125      14.616   2.555  11.651  1.00 13.50           N  ',\n    'ATOM   1000  CA  ALA A 125      13.288   2.736  11.025  1.00 13.29           C  ',\n    'ATOM   1001  C   ALA A 125      12.379   3.653  11.812  1.00 15.04           C  ',\n    'ATOM   1002  O   ALA A 125      11.604   4.441  11.251  1.00 15.51           O  ',\n    'ATOM   1003  CB  ALA A 125      12.637   1.349  10.962  1.00 12.28           C  ',\n    'ATOM   1004  N   ASP A 126      12.482   3.528  13.115  1.00 10.27           N  ',\n    'ATOM   1005  CA  ASP A 126      11.638   4.297  13.998  1.00 14.59           C  ',\n    'ATOM   1006  C   ASP A 126      11.995   5.795  13.911  1.00 12.34           C  ',\n    'ATOM   1007  O   ASP A 126      11.098   6.627  13.767  1.00 10.33           O  ',\n    'ATOM   1008  CB  ASP A 126      11.787   3.849  15.423  1.00 16.08           C  ',\n    'ATOM   1009  CG  ASP A 126      13.242   3.758  15.955  1.00 16.03           C  ',\n    'ATOM   1010  OD1 ASP A 126      13.304   3.751  17.176  1.00 31.31           O  ',\n    'ATOM   1011  OD2 ASP A 126      14.259   3.828  15.255  1.00 22.16           O  ',\n    'ATOM   1012  N   ALA A 127      13.301   6.129  13.940  1.00  8.95           N  ',\n    'ATOM   1013  CA  ALA A 127      13.776   7.486  13.746  1.00  9.53           C  ',\n    'ATOM   1014  C   ALA A 127      13.493   7.968  12.317  1.00 12.20           C  ',\n    'ATOM   1015  O   ALA A 127      13.094   9.123  12.118  1.00  9.56           O  ',\n    'ATOM   1016  CB  ALA A 127      15.300   7.515  13.902  1.00  7.30           C  ',\n    'ATOM   1017  N   GLN A 128      13.613   7.110  11.314  1.00 10.17           N  ',\n    'ATOM   1018  CA  GLN A 128      13.215   7.522   9.938  1.00  8.78           C  ',\n    'ATOM   1019  C   GLN A 128      11.734   7.878   9.838  1.00  5.92           C  ',\n    'ATOM   1020  O   GLN A 128      11.410   8.840   9.123  1.00  8.23           O  ',\n    'ATOM   1021  CB  GLN A 128      13.397   6.307   9.037  1.00 12.37           C  ',\n    'ATOM   1022  CG AGLN A 128      14.820   6.023   8.671  0.50 11.26           C  ',\n    'ATOM   1023  CG BGLN A 128      13.442   6.657   7.602  0.50 19.97           C  ',\n    'ATOM   1024  CD AGLN A 128      14.897   4.608   8.136  0.50 17.85           C  ',\n    'ATOM   1025  CD BGLN A 128      13.676   5.093   6.730  0.50 17.61           C  ',\n    'ATOM   1026  OE1AGLN A 128      14.300   4.367   7.077  0.50 14.01           O  ',\n    'ATOM   1027  OE1BGLN A 128      12.844   5.149   5.852  0.50 18.68           O  ',\n    'ATOM   1028  NE2AGLN A 128      15.913   3.855   8.679  0.50 12.72           N  ',\n    'ATOM   1029  NE2BGLN A 128      14.064   4.064   7.773  0.50 16.81           N  ',\n    'ATOM   1030  N   GLY A 129      10.923   7.056  10.475  1.00  8.02           N  ',\n    'ATOM   1031  CA  GLY A 129       9.457   7.374  10.440  1.00  8.98           C  ',\n    'ATOM   1032  C   GLY A 129       9.167   8.727  11.148  1.00  8.52           C  ',\n    'ATOM   1033  O   GLY A 129       8.385   9.552  10.672  1.00 10.77           O  ',\n    'ATOM   1034  N   ALA A 130       9.732   8.959  12.267  1.00 10.36           N  ',\n    'ATOM   1035  CA  ALA A 130       9.609  10.186  13.029  1.00  8.99           C  ',\n    'ATOM   1036  C   ALA A 130      10.035  11.435  12.256  1.00  9.52           C  ',\n    'ATOM   1037  O   ALA A 130       9.311  12.435  12.229  1.00  7.76           O  ',\n    'ATOM   1038  CB  ALA A 130      10.286  10.090  14.420  1.00  9.44           C  ',\n    'ATOM   1039  N   MET A 131      11.193  11.350  11.623  1.00  9.76           N  ',\n    'ATOM   1040  CA  MET A 131      11.754  12.432  10.791  1.00  9.83           C  ',\n    'ATOM   1041  C   MET A 131      10.868  12.720   9.567  1.00  9.07           C  ',\n    'ATOM   1042  O   MET A 131      10.554  13.888   9.293  1.00  9.41           O  ',\n    'ATOM   1043  CB  MET A 131      13.180  12.020  10.348  1.00 11.31           C  ',\n    'ATOM   1044  CG  MET A 131      13.754  13.202   9.592  1.00  9.82           C  ',\n    'ATOM   1045  SD  MET A 131      14.084  14.750  10.534  1.00 20.41           S  ',\n    'ATOM   1046  CE  MET A 131      15.469  14.093  11.364  1.00 15.56           C  ',\n    'ATOM   1047  N   ASN A 132      10.379  11.639   8.976  1.00  5.01           N  ',\n    'ATOM   1048  CA  ASN A 132       9.462  11.819   7.846  1.00  7.01           C  ',\n    'ATOM   1049  C   ASN A 132       8.157  12.487   8.271  1.00  4.00           C  ',\n    'ATOM   1050  O   ASN A 132       7.735  13.463   7.638  1.00  8.57           O  ',\n    'ATOM   1051  CB  ASN A 132       9.040  10.489   7.173  1.00 15.54           C  ',\n    'ATOM   1052  CG  ASN A 132       8.140  10.819   5.976  1.00 20.33           C  ',\n    'ATOM   1053  OD1 ASN A 132       8.541  11.468   5.002  1.00 18.70           O  ',\n    'ATOM   1054  ND2 ASN A 132       6.915  10.332   6.132  1.00 19.39           N  ',\n    'ATOM   1055  N   LYS A 133       7.685  12.221   9.497  1.00  7.72           N  ',\n    'ATOM   1056  CA  LYS A 133       6.531  12.927  10.044  1.00  6.99           C  ',\n    'ATOM   1057  C   LYS A 133       6.788  14.402  10.264  1.00  8.22           C  ',\n    'ATOM   1058  O   LYS A 133       5.926  15.277  10.136  1.00  9.54           O  ',\n    'ATOM   1059  CB  LYS A 133       5.957  12.325  11.324  1.00 11.96           C  ',\n    'ATOM   1060  CG  LYS A 133       5.288  10.985  11.225  1.00 17.15           C  ',\n    'ATOM   1061  CD  LYS A 133       4.489  11.059  12.536  1.00 22.52           C  ',\n    'ATOM   1062  CE  LYS A 133       3.452  10.009  12.887  1.00 46.12           C  ',\n    'ATOM   1063  NZ  LYS A 133       2.843  10.486  14.159  1.00 32.09           N  ',\n    'ATOM   1064  N   ALA A 134       7.944  14.624  10.836  1.00  7.24           N  ',\n    'ATOM   1065  CA  ALA A 134       8.273  16.037  11.128  1.00  6.58           C  ',\n    'ATOM   1066  C   ALA A 134       8.417  16.890   9.849  1.00  5.94           C  ',\n    'ATOM   1067  O   ALA A 134       7.982  18.052   9.820  1.00  7.68           O  ',\n    'ATOM   1068  CB  ALA A 134       9.594  16.087  11.961  1.00  7.49           C  ',\n    'ATOM   1069  N   LEU A 135       8.988  16.321   8.810  1.00  6.36           N  ',\n    'ATOM   1070  CA  LEU A 135       9.139  16.974   7.533  1.00  8.03           C  ',\n    'ATOM   1071  C   LEU A 135       7.736  17.117   6.903  1.00  7.66           C  ',\n    'ATOM   1072  O   LEU A 135       7.550  18.066   6.152  1.00  7.29           O  ',\n    'ATOM   1073  CB  LEU A 135      10.196  16.281   6.661  1.00  4.00           C  ',\n    'ATOM   1074  CG  LEU A 135      11.628  16.387   7.266  1.00 11.98           C  ',\n    'ATOM   1075  CD1 LEU A 135      12.592  15.529   6.454  1.00 10.04           C  ',\n    'ATOM   1076  CD2 LEU A 135      12.011  17.865   7.244  1.00 17.07           C  ',\n    'ATOM   1077  N   GLU A 136       6.920  16.172   7.035  1.00  4.00           N  ',\n    'ATOM   1078  CA  GLU A 136       5.527  16.299   6.477  1.00 10.41           C  ',\n    'ATOM   1079  C   GLU A 136       4.815  17.445   7.193  1.00  8.69           C  ',\n    'ATOM   1080  O   GLU A 136       4.025  18.120   6.515  1.00  9.01           O  ',\n    'ATOM   1081  CB  GLU A 136       4.734  14.998   6.670  1.00  9.60           C  ',\n    'ATOM   1082  CG  GLU A 136       5.209  13.987   5.657  1.00 10.27           C  ',\n    'ATOM   1083  CD  GLU A 136       4.563  12.604   5.791  1.00 39.58           C  ',\n    'ATOM   1084  OE1 GLU A 136       4.126  12.283   6.904  1.00 30.20           O  ',\n    'ATOM   1085  OE2 GLU A 136       4.245  12.050   4.726  1.00 23.95           O  ',\n    'ATOM   1086  N   LEU A 137       4.934  17.542   8.507  1.00  5.18           N  ',\n    'ATOM   1087  CA  LEU A 137       4.306  18.685   9.222  1.00  4.00           C  ',\n    'ATOM   1088  C   LEU A 137       4.809  20.059   8.706  1.00 10.84           C  ',\n    'ATOM   1089  O   LEU A 137       4.020  20.999   8.509  1.00 10.18           O  ',\n    'ATOM   1090  CB  LEU A 137       4.543  18.481  10.735  1.00  8.82           C  ',\n    'ATOM   1091  CG  LEU A 137       3.970  19.594  11.673  1.00 13.81           C  ',\n    'ATOM   1092  CD1 LEU A 137       2.431  19.633  11.633  1.00 23.66           C  ',\n    'ATOM   1093  CD2 LEU A 137       4.436  19.385  13.124  1.00 15.02           C  ',\n    'ATOM   1094  N   PHE A 138       6.147  20.177   8.507  1.00  7.85           N  ',\n    'ATOM   1095  CA  PHE A 138       6.731  21.348   7.910  1.00  8.19           C  ',\n    'ATOM   1096  C   PHE A 138       6.079  21.620   6.568  1.00  9.20           C  ',\n    'ATOM   1097  O   PHE A 138       5.610  22.744   6.380  1.00  8.28           O  ',\n    'ATOM   1098  CB  PHE A 138       8.265  20.946   7.783  1.00  6.41           C  ',\n    'ATOM   1099  CG  PHE A 138       9.055  21.916   6.874  1.00  9.51           C  ',\n    'ATOM   1100  CD1 PHE A 138       9.467  21.592   5.606  1.00 12.33           C  ',\n    'ATOM   1101  CD2 PHE A 138       9.340  23.160   7.413  1.00 16.23           C  ',\n    'ATOM   1102  CE1 PHE A 138      10.190  22.517   4.822  1.00 23.63           C  ',\n    'ATOM   1103  CE2 PHE A 138      10.062  24.086   6.650  1.00 18.14           C  ',\n    'ATOM   1104  CZ  PHE A 138      10.485  23.761   5.363  1.00 19.30           C  ',\n    'ATOM   1105  N   ARG A 139       5.934  20.590   5.693  1.00  7.72           N  ',\n    'ATOM   1106  CA  ARG A 139       5.353  20.790   4.376  1.00  6.08           C  ',\n    'ATOM   1107  C   ARG A 139       3.896  21.253   4.457  1.00  8.51           C  ',\n    'ATOM   1108  O   ARG A 139       3.496  22.089   3.628  1.00  9.27           O  ',\n    'ATOM   1109  CB  ARG A 139       5.513  19.506   3.531  1.00  9.29           C  ',\n    'ATOM   1110  CG  ARG A 139       6.882  19.352   2.919  1.00 20.97           C  ',\n    'ATOM   1111  CD  ARG A 139       6.841  18.467   1.680  1.00 17.04           C  ',\n    'ATOM   1112  NE  ARG A 139       6.242  17.122   1.897  1.00 12.70           N  ',\n    'ATOM   1113  CZ  ARG A 139       6.846  16.074   2.394  1.00 15.61           C  ',\n    'ATOM   1114  NH1 ARG A 139       8.005  16.246   3.052  1.00 16.31           N  ',\n    'ATOM   1115  NH2 ARG A 139       6.316  14.859   2.377  1.00 10.09           N  ',\n    'ATOM   1116  N   LYS A 140       3.170  20.549   5.330  1.00  7.71           N  ',\n    'ATOM   1117  CA  LYS A 140       1.712  20.774   5.398  1.00 10.21           C  ',\n    'ATOM   1118  C   LYS A 140       1.492  22.215   5.851  1.00 13.80           C  ',\n    'ATOM   1119  O   LYS A 140       0.570  22.920   5.375  1.00  9.50           O  ',\n    'ATOM   1120  CB  LYS A 140       1.145  19.772   6.388  1.00  9.57           C  ',\n    'ATOM   1121  CG  LYS A 140      -0.230  20.168   6.931  1.00 12.06           C  ',\n    'ATOM   1122  CD  LYS A 140      -0.603  19.209   8.075  1.00 19.01           C  ',\n    'ATOM   1123  CE  LYS A 140      -1.441  19.858   9.154  1.00 53.22           C  ',\n    'ATOM   1124  NZ  LYS A 140      -2.729  20.245   8.564  1.00 41.78           N  ',\n    'ATOM   1125  N   ASP A 141       2.242  22.665   6.846  1.00  8.53           N  ',\n    'ATOM   1126  CA  ASP A 141       2.000  24.051   7.341  1.00  9.20           C  ',\n    'ATOM   1127  C   ASP A 141       2.482  25.113   6.298  1.00 11.60           C  ',\n    'ATOM   1128  O   ASP A 141       1.966  26.231   6.117  1.00  9.33           O  ',\n    'ATOM   1129  CB  ASP A 141       2.732  24.285   8.681  1.00  6.26           C  ',\n    'ATOM   1130  CG  ASP A 141       1.990  23.617   9.848  1.00 15.49           C  ',\n    'ATOM   1131  OD1 ASP A 141       0.874  23.119   9.649  1.00 15.19           O  ',\n    'ATOM   1132  OD2 ASP A 141       2.504  23.629  10.968  1.00 14.73           O  ',\n    'ATOM   1133  N   ILE A 142       3.547  24.804   5.598  1.00  8.01           N  ',\n    'ATOM   1134  CA  ILE A 142       3.983  25.760   4.558  1.00 10.39           C  ',\n    'ATOM   1135  C   ILE A 142       2.928  25.784   3.435  1.00  6.75           C  ',\n    'ATOM   1136  O   ILE A 142       2.660  26.845   2.881  1.00  7.88           O  ',\n    'ATOM   1137  CB  ILE A 142       5.388  25.367   3.986  1.00 12.00           C  ',\n    'ATOM   1138  CG1 ILE A 142       6.713  25.559   4.856  1.00 25.06           C  ',\n    'ATOM   1139  CG2 ILE A 142       5.486  26.068   2.644  1.00 18.78           C  ',\n    'ATOM   1140  CD1 ILE A 142       7.024  27.048   4.903  1.00 37.64           C  ',\n    'ATOM   1141  N   ALA A 143       2.428  24.596   3.093  1.00  7.86           N  ',\n    'ATOM   1142  CA  ALA A 143       1.395  24.452   2.019  1.00 12.67           C  ',\n    'ATOM   1143  C   ALA A 143       0.152  25.324   2.323  1.00 10.74           C  ',\n    'ATOM   1144  O   ALA A 143      -0.343  26.033   1.447  1.00  9.20           O  ',\n    'ATOM   1145  CB  ALA A 143       1.026  22.963   1.817  1.00 15.26           C  ',\n    'ATOM   1146  N   ALA A 144      -0.155  25.458   3.569  1.00  9.64           N  ',\n    'ATOM   1147  CA  ALA A 144      -1.366  26.208   3.999  1.00 10.53           C  ',\n    'ATOM   1148  C   ALA A 144      -1.105  27.678   3.760  1.00  9.93           C  ',\n    'ATOM   1149  O   ALA A 144      -1.973  28.444   3.304  1.00 10.39           O  ',\n    'ATOM   1150  CB  ALA A 144      -1.708  25.900   5.473  1.00 11.80           C  ',\n    'ATOM   1151  N   LYS A 145       0.122  28.115   3.965  1.00  8.23           N  ',\n    'ATOM   1152  CA  LYS A 145       0.442  29.511   3.802  1.00  6.65           C  ',\n    'ATOM   1153  C   LYS A 145       0.497  29.874   2.312  1.00  9.12           C  ',\n    'ATOM   1154  O   LYS A 145       0.225  30.998   1.860  1.00 14.11           O  ',\n    'ATOM   1155  CB  LYS A 145       1.827  29.598   4.383  1.00 11.76           C  ',\n    'ATOM   1156  CG  LYS A 145       1.842  30.107   5.825  1.00 25.39           C  ',\n    'ATOM   1157  CD  LYS A 145       0.929  29.505   6.886  1.00 36.42           C  ',\n    'ATOM   1158  CE  LYS A 145       1.567  28.404   7.809  1.00 27.05           C  ',\n    'ATOM   1159  NZ  LYS A 145       0.600  27.330   8.186  1.00 22.50           N  ',\n    'ATOM   1160  N   TYR A 146       1.073  28.982   1.519  1.00 10.63           N  ',\n    'ATOM   1161  CA  TYR A 146       1.068  29.107   0.059  1.00 10.24           C  ',\n    'ATOM   1162  C   TYR A 146      -0.390  29.242  -0.431  1.00 13.78           C  ',\n    'ATOM   1163  O   TYR A 146      -0.643  30.121  -1.256  1.00 12.69           O  ',\n    'ATOM   1164  CB  TYR A 146       1.734  27.830  -0.458  1.00  8.70           C  ',\n    'ATOM   1165  CG  TYR A 146       3.230  27.710  -0.794  1.00  8.65           C  ',\n    'ATOM   1166  CD1 TYR A 146       3.753  27.092  -1.895  1.00 17.84           C  ',\n    'ATOM   1167  CD2 TYR A 146       4.080  28.252   0.135  1.00 12.75           C  ',\n    'ATOM   1168  CE1 TYR A 146       5.120  27.020  -2.092  1.00 23.71           C  ',\n    'ATOM   1169  CE2 TYR A 146       5.465  28.212  -0.016  1.00 12.79           C  ',\n    'ATOM   1170  CZ  TYR A 146       5.991  27.596  -1.139  1.00 11.95           C  ',\n    'ATOM   1171  OH  TYR A 146       7.334  27.546  -1.323  1.00 15.47           O  ',\n    'ATOM   1172  N   LYS A 147      -1.254  28.404   0.078  1.00 11.77           N  ',\n    'ATOM   1173  CA  LYS A 147      -2.663  28.487  -0.349  1.00  8.53           C  ',\n    'ATOM   1174  C   LYS A 147      -3.266  29.853  -0.133  1.00 22.23           C  ',\n    'ATOM   1175  O   LYS A 147      -3.838  30.379  -1.091  1.00 19.19           O  ',\n    'ATOM   1176  CB  LYS A 147      -3.490  27.276   0.151  1.00 12.93           C  ',\n    'ATOM   1177  CG  LYS A 147      -4.942  27.335  -0.342  1.00 13.82           C  ',\n    'ATOM   1178  CD  LYS A 147      -5.767  26.307   0.437  1.00 23.02           C  ',\n    'ATOM   1179  CE  LYS A 147      -7.256  26.307  -0.071  1.00 26.77           C  ',\n    'ATOM   1180  NZ  LYS A 147      -7.358  25.218  -1.042  1.00 48.34           N  ',\n    'ATOM   1181  N   GLU A 148      -3.049  30.342   1.064  1.00 13.24           N  ',\n    'ATOM   1182  CA  GLU A 148      -3.510  31.650   1.420  1.00  8.87           C  ',\n    'ATOM   1183  C   GLU A 148      -3.024  32.723   0.448  1.00 18.09           C  ',\n    'ATOM   1184  O   GLU A 148      -3.843  33.565   0.030  1.00 20.68           O  ',\n    'ATOM   1185  CB  GLU A 148      -3.030  31.972   2.814  1.00  7.68           C  ',\n    'ATOM   1186  CG  GLU A 148      -3.434  33.348   3.326  1.00 17.38           C  ',\n    'ATOM   1187  CD  GLU A 148      -2.759  33.740   4.657  1.00 22.77           C  ',\n    'ATOM   1188  OE1 GLU A 148      -2.737  34.930   4.935  1.00 25.46           O  ',\n    'ATOM   1189  OE2 GLU A 148      -2.130  32.902   5.359  1.00 26.35           O  ',\n    'ATOM   1190  N   LEU A 149      -1.723  32.728   0.135  1.00  8.06           N  ',\n    'ATOM   1191  CA  LEU A 149      -1.118  33.677  -0.764  1.00 13.02           C  ',\n    'ATOM   1192  C   LEU A 149      -1.497  33.413  -2.218  1.00 14.11           C  ',\n    'ATOM   1193  O   LEU A 149      -1.095  34.205  -3.054  1.00 20.28           O  ',\n    'ATOM   1194  CB  LEU A 149       0.396  33.617  -0.590  1.00 11.29           C  ',\n    'ATOM   1195  CG  LEU A 149       0.862  34.076   0.786  1.00 24.78           C  ',\n    'ATOM   1196  CD1 LEU A 149       2.372  33.805   0.911  1.00 24.80           C  ',\n    'ATOM   1197  CD2 LEU A 149       0.622  35.580   1.004  1.00 30.46           C  ',\n    'ATOM   1198  N   GLY A 150      -2.044  32.230  -2.602  1.00 10.51           N  ',\n    'ATOM   1199  CA  GLY A 150      -2.456  31.951  -3.982  1.00  8.79           C  ',\n    'ATOM   1200  C   GLY A 150      -1.328  31.385  -4.823  1.00  9.21           C  ',\n    'ATOM   1201  O   GLY A 150      -1.319  31.508  -6.049  1.00 14.10           O  ',\n    'ATOM   1202  N   TYR A 151      -0.360  30.604  -4.216  1.00 14.51           N  ',\n    'ATOM   1203  CA  TYR A 151       0.639  29.821  -4.975  1.00 11.71           C  ',\n    'ATOM   1204  C   TYR A 151       0.595  28.315  -4.728  1.00 22.38           C  ',\n    'ATOM   1205  O   TYR A 151       1.573  27.664  -5.093  1.00 36.94           O  ',\n    'ATOM   1206  CB  TYR A 151       2.051  30.236  -4.587  1.00 18.99           C  ',\n    'ATOM   1207  CG  TYR A 151       2.442  31.721  -4.731  1.00 24.81           C  ',\n    'ATOM   1208  CD1 TYR A 151       3.230  32.032  -5.814  1.00 38.63           C  ',\n    'ATOM   1209  CD2 TYR A 151       1.949  32.703  -3.910  1.00 20.58           C  ',\n    'ATOM   1210  CE1 TYR A 151       3.558  33.334  -6.087  1.00 12.42           C  ',\n    'ATOM   1211  CE2 TYR A 151       2.264  34.019  -4.166  1.00 27.46           C  ',\n    'ATOM   1212  CZ  TYR A 151       3.083  34.334  -5.274  1.00 27.64           C  ',\n    'ATOM   1213  OH  TYR A 151       3.376  35.664  -5.573  1.00 30.18           O  ',\n    'ATOM   1214  N   GLN A 152      -0.294  27.869  -3.883  1.00 26.74           N  ',\n    'ATOM   1215  CA  GLN A 152      -0.376  26.440  -3.406  1.00 43.50           C  ',\n    'ATOM   1216  C   GLN A 152       0.431  25.396  -4.187  1.00 47.21           C  ',\n    'ATOM   1217  O   GLN A 152       0.098  25.112  -5.335  1.00 38.27           O  ',\n    'ATOM   1218  CB  GLN A 152      -1.826  26.024  -3.288  1.00 40.99           C  ',\n    'ATOM   1219  CG  GLN A 152      -2.042  24.510  -3.087  1.00 47.79           C  ',\n    'ATOM   1220  CD  GLN A 152      -1.677  24.080  -1.662  1.00 41.92           C  ',\n    'ATOM   1221  OE1 GLN A 152      -0.631  24.476  -1.159  1.00 38.31           O  ',\n    'ATOM   1222  NE2 GLN A 152      -2.588  23.442  -0.954  1.00 45.12           N  ',\n    'ATOM   1223  N   GLY A 153       1.666  25.149  -3.723  1.00 44.15           N  ',\n    'ATOM   1224  CA  GLY A 153       2.701  24.384  -4.492  1.00 27.55           C  ',\n    'ATOM   1225  C   GLY A 153       3.162  25.073  -5.754  1.00 39.00           C  ',\n    'ATOM   1226  O   GLY A 153       3.743  26.153  -5.632  1.00 44.68           O  ',\n    'ATOM   1227  OXT GLY A 153       2.593  24.757  -6.803  1.00 39.63           O  ',\n    'TER    1228      GLY A 153                                                      ',\n    'HETATM 1229  S   SO4 A 154      32.746  29.784  -4.732  1.00 11.27           S  ',\n    'HETATM 1230  O1  SO4 A 154      32.278  30.276  -3.443  1.00 17.53           O  ',\n    'HETATM 1231  O2  SO4 A 154      33.302  30.811  -5.572  1.00 15.21           O  ',\n    'HETATM 1232  O3  SO4 A 154      31.632  29.075  -5.451  1.00 18.76           O  ',\n    'HETATM 1233  O4  SO4 A 154      33.786  28.806  -4.501  1.00 19.08           O  ',\n    'HETATM 1234  CHA HEM A 155      16.907  31.140   0.448  1.00  4.00           C  ',\n    'HETATM 1235  CHB HEM A 155      15.562  27.978   3.977  1.00  4.00           C  ',\n    'HETATM 1236  CHC HEM A 155      14.124  24.760   0.639  1.00  7.11           C  ',\n    'HETATM 1237  CHD HEM A 155      15.416  28.028  -2.786  1.00  7.65           C  ',\n    'HETATM 1238  C1A HEM A 155      16.738  30.484   1.707  1.00  5.70           C  ',\n    'HETATM 1239  C2A HEM A 155      16.913  31.113   2.978  1.00  7.72           C  ',\n    'HETATM 1240  C3A HEM A 155      16.503  30.222   3.952  1.00  7.60           C  ',\n    'HETATM 1241  C4A HEM A 155      16.065  28.982   3.300  1.00  5.68           C  ',\n    'HETATM 1242  CMA HEM A 155      16.433  30.532   5.419  1.00  4.00           C  ',\n    'HETATM 1243  CAA HEM A 155      17.352  32.552   3.099  1.00 11.88           C  ',\n    'HETATM 1244  CBA HEM A 155      16.247  33.568   3.477  1.00 15.81           C  ',\n    'HETATM 1245  CGA HEM A 155      15.088  33.560   2.456  1.00 12.29           C  ',\n    'HETATM 1246  O1A HEM A 155      15.076  34.288   1.458  1.00 18.06           O  ',\n    'HETATM 1247  O2A HEM A 155      14.068  33.164   2.996  1.00 20.83           O  ',\n    'HETATM 1248  C1B HEM A 155      15.049  26.869   3.360  1.00  4.00           C  ',\n    'HETATM 1249  C2B HEM A 155      14.628  25.679   4.100  1.00 12.28           C  ',\n    'HETATM 1250  C3B HEM A 155      14.313  24.713   3.125  1.00 11.46           C  ',\n    'HETATM 1251  C4B HEM A 155      14.458  25.372   1.840  1.00  7.52           C  ',\n    'HETATM 1252  CMB HEM A 155      14.626  25.517   5.644  1.00 10.42           C  ',\n    'HETATM 1253  CAB HEM A 155      13.930  23.261   3.286  1.00  7.22           C  ',\n    'HETATM 1254  CBB HEM A 155      14.390  22.488   4.391  1.00  4.00           C  ',\n    'HETATM 1255  C1C HEM A 155      14.390  25.372  -0.589  1.00  8.06           C  ',\n    'HETATM 1256  C2C HEM A 155      14.258  24.659  -1.824  1.00  5.60           C  ',\n    'HETATM 1257  C3C HEM A 155      14.733  25.529  -2.852  1.00  6.56           C  ',\n    'HETATM 1258  C4C HEM A 155      15.011  26.812  -2.147  1.00  5.62           C  ',\n    'HETATM 1259  CMC HEM A 155      13.705  23.224  -1.882  1.00 13.22           C  ',\n    'HETATM 1260  CAC HEM A 155      14.907  25.266  -4.358  1.00  8.09           C  ',\n    'HETATM 1261  CBC HEM A 155      14.549  24.034  -5.044  1.00 11.44           C  ',\n    'HETATM 1262  C1D HEM A 155      15.944  29.124  -2.151  1.00  8.97           C  ',\n    'HETATM 1263  C2D HEM A 155      16.520  30.208  -2.882  1.00  7.48           C  ',\n    'HETATM 1264  C3D HEM A 155      16.978  31.048  -1.982  1.00  5.46           C  ',\n    'HETATM 1265  C4D HEM A 155      16.631  30.479  -0.702  1.00  5.06           C  ',\n    'HETATM 1266  CMD HEM A 155      16.569  30.225  -4.370  1.00  9.61           C  ',\n    'HETATM 1267  CAD HEM A 155      17.748  32.334  -2.254  1.00  6.04           C  ',\n    'HETATM 1268  CBD HEM A 155      19.222  31.984  -2.362  1.00 15.18           C  ',\n    'HETATM 1269  CGD HEM A 155      20.069  33.207  -2.718  1.00 13.91           C  ',\n    'HETATM 1270  O1D HEM A 155      19.873  33.828  -3.760  1.00 15.87           O  ',\n    'HETATM 1271  O2D HEM A 155      20.632  33.726  -1.792  1.00 18.89           O  ',\n    'HETATM 1272  NA  HEM A 155      16.386  29.037   1.912  1.00  9.30           N  ',\n    'HETATM 1273  NB  HEM A 155      14.894  26.744   1.945  1.00  7.16           N  ',\n    'HETATM 1274  NC  HEM A 155      14.882  26.659  -0.756  1.00  9.58           N  ',\n    'HETATM 1275  ND  HEM A 155      16.050  29.196  -0.847  1.00 10.12           N  ',\n    'HETATM 1276 FE   HEM A 155      15.368  27.957   0.566  1.00  8.70          FE  ',\n    'HETATM 1277  O1  OXY A 555      17.056  27.269   0.685  1.00 20.66           O  ',\n    'HETATM 1278  O2  OXY A 555      17.416  26.597  -0.263  1.00 19.61           O  ',\n    'HETATM 1279  O   HOH A 156       6.516  12.238   3.455  1.00 20.52           O  ',\n    'HETATM 1280  O   HOH A 157      -3.622  32.198   9.396  1.00 25.37           O  ',\n    'HETATM 1281  O   HOH A 158      16.210  14.825  -3.513  1.00 21.29           O  ',\n    'HETATM 1282  O   HOH A 159      23.972   8.291  20.994  1.00 29.49           O  ',\n    'HETATM 1283  O   HOH A 160      25.623  31.504 -11.108  1.00 20.03           O  ',\n    'HETATM 1284  O   HOH A 161      14.305  31.673  -7.749  1.00 17.05           O  ',\n    'HETATM 1285  O   HOH A 162      17.700  32.560  -7.538  1.00 20.68           O  ',\n    'HETATM 1286  O   HOH A 163      19.994  32.116  -6.140  1.00 18.91           O  ',\n    'HETATM 1287  O   HOH A 164      14.174  27.191  17.839  1.00 27.05           O  ',\n    'HETATM 1288  O   HOH A 165      -2.215  28.493   8.130  1.00 37.95           O  ',\n    'HETATM 1289  O   HOH A 166      12.417  15.490 -10.474  1.00 19.18           O  ',\n    'HETATM 1290  O   HOH A 167      -1.609  32.413  11.018  1.00 37.41           O  ',\n    'HETATM 1291  O   HOH A 168      15.007   3.254  18.918  1.00 28.57           O  ',\n    'HETATM 1292  O   HOH A 169      15.170  34.064  -5.401  1.00 22.89           O  ',\n    'HETATM 1293  O   HOH A 170      -5.100  34.269  13.367  1.00 35.24           O  ',\n    'HETATM 1294  O   HOH A 171      -0.644  34.978   8.986  1.00 31.38           O  ',\n    'HETATM 1295  O   HOH A 172       8.524   6.174  14.387  1.00 15.66           O  ',\n    'HETATM 1296  O   HOH A 173      25.006   7.251   0.232  1.00 34.60           O  ',\n    'HETATM 1297  O   HOH A 174       7.930  24.553  21.610  1.00 31.21           O  ',\n    'HETATM 1298  O   HOH A 175       4.230  25.407  24.537  1.00 38.90           O  ',\n    'HETATM 1299  O   HOH A 176      -0.647  23.807  20.740  1.00 43.99           O  ',\n    'HETATM 1300  O   HOH A 177      -1.331  24.571   9.044  1.00 24.54           O  ',\n    'HETATM 1301  O   HOH A 178      -1.039  26.922  11.557  1.00 38.44           O  ',\n    'HETATM 1302  O   HOH A 179      15.888  11.080  -4.595  1.00 42.16           O  ',\n    'HETATM 1303  O   HOH A 180      -6.164  36.000  12.186  1.00 32.26           O  ',\n    'HETATM 1304  O   HOH A 181      26.288  15.664  18.599  1.00 20.55           O  ',\n    'HETATM 1305  O   HOH A 182      28.582  22.076  12.909  1.00 28.03           O  ',\n    'HETATM 1306  O   HOH A 183      29.735  23.378  10.252  1.00 23.58           O  ',\n    'HETATM 1307  O   HOH A 184      30.498  16.582   2.422  1.00 22.37           O  ',\n    'HETATM 1308  O   HOH A 185      19.214  10.070  -7.187  1.00 31.44           O  ',\n    'HETATM 1309  O   HOH A 186      20.963  11.031 -10.246  1.00 34.22           O  ',\n    'HETATM 1310  O   HOH A 187      22.165  14.635 -12.335  1.00 27.72           O  ',\n    'HETATM 1311  O   HOH A 188      22.377  18.491 -11.853  1.00 25.53           O  ',\n    'HETATM 1312  O   HOH A 189      14.504  15.672 -12.574  1.00 20.35           O  ',\n    'HETATM 1313  O   HOH A 190      10.391  14.405 -10.849  1.00 24.99           O  ',\n    'HETATM 1314  O   HOH A 191      16.825  31.078 -12.484  1.00 27.87           O  ',\n    'HETATM 1315  O   HOH A 192      32.156  15.374 -10.780  1.00 13.27           O  ',\n    'HETATM 1316  O   HOH A 193      34.488  15.832 -11.865  1.00 23.51           O  ',\n    'HETATM 1317  O   HOH A 194      35.481  24.861   3.357  1.00 19.66           O  ',\n    'HETATM 1318  O   HOH A 195      -1.485  21.559  18.236  1.00 39.78           O  ',\n    'HETATM 1319  O   HOH A 196       5.078  30.719  17.238  1.00 34.39           O  ',\n    'HETATM 1320  O   HOH A 197       2.120  26.632  12.165  1.00 22.43           O  ',\n    'HETATM 1321  O   HOH A 198       4.111  21.425  -6.030  1.00 17.82           O  ',\n    'HETATM 1322  O   HOH A 199      10.222  37.769  -7.053  1.00 40.54           O  ',\n    'HETATM 1323  O   HOH A 200       9.247   9.716   2.941  1.00 34.37           O  ',\n    'HETATM 1324  O   HOH A 201      28.512  13.301  10.133  1.00 26.73           O  ',\n    'HETATM 1325  O   HOH A 202      32.520  14.478   9.778  1.00 35.29           O  ',\n    'HETATM 1326  O   HOH A 203      36.056  15.015  11.133  1.00 26.89           O  ',\n    'HETATM 1327  O   HOH A 204      27.941  14.481  12.546  1.00 16.78           O  ',\n    'HETATM 1328  O   HOH A 205      20.124   1.376  13.730  1.00 32.57           O  ',\n    'HETATM 1329  O   HOH A 206      21.616  35.981  -8.297  1.00 27.48           O  ',\n    'HETATM 1330  O   HOH A 207      13.102  25.174  22.085  1.00 27.41           O  ',\n    'HETATM 1331  O   HOH A 208      30.704  10.124   0.554  1.00 40.28           O  ',\n    'HETATM 1332  O   HOH A 209      27.627   9.602   2.648  1.00 27.59           O  ',\n    'HETATM 1333  O   HOH A 210      18.646  12.992  22.780  1.00 25.03           O  ',\n    'HETATM 1334  O   HOH A 211      22.117  13.174  20.227  1.00 19.20           O  ',\n    'HETATM 1335  O   HOH A 212       8.554  22.001  14.301  1.00 16.51           O  ',\n    'HETATM 1336  O   HOH A 213      -3.160  18.686  19.231  1.00 34.69           O  ',\n    'HETATM 1337  O   HOH A 214      -4.362  17.548  16.014  1.00 32.69           O  ',\n    'HETATM 1338  O   HOH A 215       0.866  20.099  20.572  1.00 40.67           O  ',\n    'HETATM 1339  O   HOH A 216      27.245  36.403   4.198  1.00 30.28           O  ',\n    'HETATM 1340  O   HOH A 217      17.651  35.209   0.563  1.00 22.91           O  ',\n    'HETATM 1341  O   HOH A 218      16.554   0.901   8.694  1.00 21.05           O  ',\n    'HETATM 1342  O   HOH A 219      21.859  25.998 -17.072  1.00 32.86           O  ',\n    'HETATM 1343  O   HOH A 220       0.700  26.975  -7.600  1.00 36.00           O  ',\n    'HETATM 1344  O   HOH A 221      16.359  33.220 -12.488  1.00 36.94           O  ',\n    'HETATM 1345  O   HOH A 222      13.983  12.482  -4.241  1.00 26.22           O  ',\n    'HETATM 1346  O   HOH A 223      22.350  31.809   2.487  1.00 31.36           O  ',\n    'HETATM 1347  O   HOH A 224      13.562   5.963   5.488  1.00 23.89           O  ',\n    'HETATM 1348  O   HOH A 225      18.326  30.557  11.314  1.00 28.47           O  ',\n    'HETATM 1349  O   HOH A 226      15.662  -0.238  11.788  1.00 21.69           O  ',\n    'HETATM 1350  O   HOH A 227      32.945  31.986  -1.607  1.00 22.22           O  ',\n    'HETATM 1351  O   HOH A 228       1.614  16.651   8.551  1.00 18.08           O  ',\n    'HETATM 1352  O   HOH A 229      13.117  33.251   5.524  1.00 27.01           O  ',\n    'HETATM 1353  O   HOH A 230       7.510  19.686  -9.870  1.00 23.91           O  ',\n    'HETATM 1354  O   HOH A 231      26.373  34.541 -11.953  1.00 23.60           O  ',\n    'HETATM 1355  O   HOH A 232       7.366  35.844  12.182  1.00 23.56           O  ',\n    'HETATM 1356  O   HOH A 233      16.867   6.244   4.746  1.00 29.09           O  ',\n    'HETATM 1357  O   HOH A 234      14.264   5.414   1.477  1.00 26.18           O  ',\n    'HETATM 1358  O   HOH A 235      30.987  21.771  14.749  1.00 30.20           O  ',\n    'HETATM 1359  O   HOH A 236      19.771  22.304  20.971  1.00 21.55           O  ',\n    'HETATM 1360  O   HOH A 237      17.445   6.922  17.805  1.00 33.92           O  ',\n    'HETATM 1361  O   HOH A 238       2.225  22.521  13.961  1.00 25.01           O  ',\n    'HETATM 1362  O   HOH A 239      26.482  23.237   3.775  1.00 17.28           O  ',\n    'HETATM 1363  O   HOH A 240      12.263   7.865  21.649  1.00 34.75           O  ',\n    'HETATM 1364  O   HOH A 241      10.390   7.073  23.684  1.00 34.72           O  ',\n    'HETATM 1365  O   HOH A 242      28.824   8.558   5.697  1.00 35.45           O  ',\n    'HETATM 1366  O   HOH A 243       6.452   8.745   8.699  1.00 22.42           O  ',\n    'HETATM 1367  O   HOH A 244      -4.970  25.037   3.710  1.00 28.50           O  ',\n    'HETATM 1368  O   HOH A 245      14.875   9.703   0.945  1.00 23.39           O  ',\n    'HETATM 1369  O   HOH A 246       2.687  26.238  14.609  1.00 28.65           O  ',\n    'HETATM 1370  O   HOH A 247      19.422  25.857  14.351  1.00 20.83           O  ',\n    'HETATM 1371  O   HOH A 248      28.807  27.018 -16.352  1.00 31.70           O  ',\n    'HETATM 1372  O   HOH A 249      -4.692  27.578   3.820  1.00 19.47           O  ',\n    'HETATM 1373  O   HOH A 250      16.739  12.075  -3.004  1.00 29.47           O  ',\n    'HETATM 1374  O   HOH A 251       3.334  12.568  23.353  1.00 26.61           O  ',\n    'HETATM 1375  O   HOH A 252      29.547  12.597   2.949  1.00 31.41           O  ',\n    'HETATM 1376  O   HOH A 253       5.700  28.465  -6.168  1.00 30.98           O  ',\n    'HETATM 1377  O   HOH A 254       9.026  12.420  -4.297  1.00 25.04           O  ',\n    'HETATM 1378  O   HOH A 255      12.388  29.532   9.086  1.00 21.52           O  ',\n    'HETATM 1379  O   HOH A 256      25.300  14.319  -1.647  1.00 20.50           O  ',\n    'HETATM 1380  O   HOH A 257      16.368  13.841 -13.230  1.00 25.14           O  ',\n    'HETATM 1381  O   HOH A 258       2.872  14.716  -5.838  1.00 21.72           O  ',\n    'HETATM 1382  O   HOH A 259      19.335  30.353   8.500  1.00 15.59           O  ',\n    'HETATM 1383  O   HOH A 260       3.802  17.347  18.069  1.00 29.03           O  ',\n    'HETATM 1384  O   HOH A 261      30.780  32.899  -0.138  1.00 23.12           O  ',\n    'HETATM 1385  O   HOH A 262      19.581   2.433  10.065  1.00 28.89           O  ',\n    'HETATM 1386  O   HOH A 263       3.379  17.843  16.029  1.00 27.99           O  ',\n    'HETATM 1387  O   HOH A 264      18.583   2.419  15.848  1.00 24.85           O  ',\n    'HETATM 1388  O   HOH A 265      18.546  18.683  18.383  1.00 17.29           O  ',\n    'HETATM 1389  O   HOH A 266      34.626  19.012 -12.573  1.00 20.52           O  ',\n    'HETATM 1390  O   HOH A 267      35.958  34.956  -0.849  1.00 21.97           O  ',\n    'HETATM 1391  O   HOH A 268      26.033  35.356   5.690  1.00 24.03           O  ',\n    'HETATM 1392  O   HOH A 269      22.117  36.124  -1.752  1.00 27.52           O  ',\n    'HETATM 1393  O   HOH A 270      20.805  20.422  19.393  1.00 27.62           O  ',\n    'HETATM 1394  O   HOH A 271      16.992   4.591  15.647  1.00 30.19           O  ',\n    'HETATM 1395  O   HOH A 272      37.852  21.169  -8.402  1.00 35.22           O  ',\n    'HETATM 1396  O   HOH A 273      -1.839  22.062   4.230  1.00 21.55           O  ',\n    'HETATM 1397  O   HOH A 274       9.419  37.709   0.864  1.00 30.28           O  ',\n    'HETATM 1398  O   HOH A 275       8.022   6.777   6.951  1.00 20.29           O  ',\n    'HETATM 1399  O   HOH A 276      -3.020  23.525   2.093  1.00 24.37           O  ',\n    'HETATM 1400  O   HOH A 277      -5.168  24.552   6.430  1.00 24.91           O  ',\n    'HETATM 1401  O   HOH A 278      31.801  24.322 -15.485  1.00 35.40           O  ',\n    'HETATM 1402  O   HOH A 279      34.848  25.121  -0.506  1.00 16.39           O  ',\n    'HETATM 1403  O   HOH A 280      33.229  25.351  -7.756  1.00 25.03           O  ',\n    'HETATM 1404  O   HOH A 281       0.517  10.150  11.392  1.00 30.48           O  ',\n    'HETATM 1405  O   HOH A 282      14.985  10.741  13.562  1.00 21.68           O  ',\n    'HETATM 1406  O   HOH A 283      25.341  11.457   1.394  1.00 21.55           O  ',\n    'HETATM 1407  O   HOH A 284      15.689  11.692  -9.847  1.00 35.58           O  ',\n    'HETATM 1408  O   HOH A 285      26.924  11.534 -11.072  1.00 24.16           O  ',\n    'HETATM 1409  O   HOH A 286      30.194  12.446  -9.554  1.00 19.22           O  ',\n    'HETATM 1410  O   HOH A 287       9.419  13.195  -8.455  1.00 34.97           O  ',\n    'HETATM 1411  O   HOH A 288       9.031  13.807   4.200  1.00 22.02           O  ',\n    'HETATM 1412  O   HOH A 289      25.777  13.649 -14.724  1.00 29.87           O  ',\n    'HETATM 1413  O   HOH A 290       7.039  29.891  16.553  1.00 19.95           O  ',\n    'HETATM 1414  O   HOH A 291       3.005  15.114  22.114  1.00 44.13           O  ',\n    'HETATM 1415  O   HOH A 292      27.428  31.806  -5.408  1.00 31.39           O  ',\n    'HETATM 1416  O   HOH A 293      22.743  32.415   6.975  1.00 30.54           O  ',\n    'HETATM 1417  O   HOH A 294      13.867  28.959  11.071  1.00 22.84           O  ',\n    'HETATM 1418  O   HOH A 295      31.441  35.565  -0.123  1.00 23.17           O  ',\n    'HETATM 1419  O   HOH A 296       3.237  14.958  10.250  1.00 14.82           O  ',\n    'HETATM 1420  O   HOH A 297      13.694  30.561  17.054  1.00 22.95           O  ',\n    'HETATM 1421  O   HOH A 298      34.901  13.850  -0.033  1.00 24.03           O  ',\n    'HETATM 1422  O   HOH A 299      30.081  22.781  -1.445  1.00 23.78           O  ',\n    'HETATM 1423  O   HOH A 300       2.321  13.008   8.713  1.00 22.73           O  ',\n    'HETATM 1424  O   HOH A 301      31.262  27.969   3.999  1.00 25.18           O  ',\n    'HETATM 1425  O   HOH A 302      24.767  11.576  -1.770  1.00 37.85           O  ',\n    'HETATM 1426  O   HOH A 303       1.428  26.623  18.133  1.00 35.25           O  ',\n    'HETATM 1427  O   HOH A 304      18.642  26.010  16.532  1.00 27.92           O  ',\n    'HETATM 1428  O   HOH A 305      32.986  26.034 -10.926  1.00 24.61           O  ',\n    'HETATM 1429  O   HOH A 306      24.328   9.291  -3.090  1.00 32.87           O  ',\n    'HETATM 1430  O   HOH A 307      29.174   9.099   9.970  1.00 30.12           O  ',\n    'HETATM 1431  O   HOH A 308      11.373  24.389  21.922  1.00 25.67           O  ',\n    'HETATM 1432  O   HOH A 309       6.887   8.239  13.484  1.00 19.79           O  ',\n    'HETATM 1433  O   HOH A 310       5.731   7.605  11.259  1.00 30.57           O  ',\n    'HETATM 1434  O   HOH A 311      -3.404  22.782   6.684  1.00 28.14           O  ',\n    'HETATM 1435  O   HOH A 312       8.877   7.692   5.401  1.00 30.38           O  ',\n    'HETATM 1436  O   HOH A 313       2.032  22.119  17.500  1.00 32.91           O  ',\n    'HETATM 1437  O   HOH A 314      32.949  21.563  18.908  1.00 29.26           O  ',\n    'HETATM 1438  O   HOH A 315      -0.665  21.789  21.513  1.00 28.77           O  ',\n    'HETATM 1439  O   HOH A 316      24.007   5.970  -3.414  1.00 23.92           O  ',\n    'HETATM 1440  O   HOH A 317      24.484  20.539 -13.194  1.00 23.87           O  ',\n    'HETATM 1441  O   HOH A 318      36.699  20.351 -11.068  1.00 25.99           O  ',\n    'HETATM 1442  O   HOH A 319       3.563  19.803  -8.131  1.00 33.08           O  ',\n    'HETATM 1443  O   HOH A 320      36.661  19.921  -3.218  1.00 21.55           O  ',\n    'HETATM 1444  O   HOH A 321      -0.730  19.761  12.836  1.00 29.11           O  ',\n    'HETATM 1445  O   HOH A 322       1.555  19.805  15.200  1.00 20.87           O  ',\n    'HETATM 1446  O   HOH A 323      30.635  19.034   1.133  1.00 18.94           O  ',\n    'HETATM 1447  O   HOH A 324      23.918  18.992  16.384  1.00 28.16           O  ',\n    'HETATM 1448  O   HOH A 325      33.002  18.434   6.728  1.00 25.24           O  ',\n    'HETATM 1449  O   HOH A 326      29.625  17.414  -0.172  1.00 34.79           O  ',\n    'HETATM 1450  O   HOH A 327      26.400  16.614 -11.886  1.00 23.47           O  ',\n    'HETATM 1451  O   HOH A 328      25.866  32.035 -13.864  1.00 26.52           O  ',\n    'HETATM 1452  O   HOH A 329      -0.674  15.740   8.643  1.00 23.70           O  ',\n    'HETATM 1453  O   HOH A 330      -5.459  15.788  10.708  1.00 30.16           O  ',\n    'HETATM 1454  O   HOH A 331       5.130  16.177  21.758  1.00 29.01           O  ',\n    'HETATM 1455  O   HOH A 332      16.320   9.317  -1.676  1.00 29.21           O  ',\n    'HETATM 1456  O   HOH A 333      12.392   9.413   2.245  1.00 25.26           O  ',\n    'HETATM 1457  O   HOH A 334      17.207   8.990  16.865  1.00 20.43           O  ',\n    'HETATM 1458  O   HOH A 335      16.104   7.279   2.490  1.00 29.83           O  ',\n    'HETATM 1459  O   HOH A 336       9.924   5.561   4.141  1.00 16.20           O  ',\n    'HETATM 1460  O   HOH A 337      20.312  33.850   0.572  1.00 22.01           O  ',\n    'HETATM 1461  O   HOH A 338      22.774   1.315  17.040  1.00 29.02           O  ',\n    'HETATM 1462  O   HOH A 339      14.036  31.414   7.672  1.00 16.86           O  ',\n    'HETATM 1463  O   HOH A 340      14.720  31.536  14.893  1.00 27.99           O  ',\n    'HETATM 1464  O   HOH A 341      17.895  25.203  -0.294  1.00 17.81           O  ',\n    'HETATM 1465  O   HOH A 342      26.006   5.334  13.916  1.00 27.75           O  ',\n    'HETATM 1466  O   HOH A 343      23.172   5.523  17.177  1.00 43.22           O  ',\n    'HETATM 1467  O   HOH A 344       8.135   5.496  17.170  1.00 46.65           O  ',\n    'HETATM 1468  O   HOH A 345      24.712   7.696  14.732  1.00 32.25           O  ',\n    'HETATM 1469  O   HOH A 346       3.162   8.503   6.787  1.00 38.60           O  ',\n    'HETATM 1470  O   HOH A 347      26.431  11.649   2.981  1.00 44.53           O  ',\n    'HETATM 1471  O   HOH A 348      11.842  12.416  -3.786  1.00 35.32           O  ',\n    'HETATM 1472  O   HOH A 349      14.783  14.091  -3.162  1.00 48.42           O  ',\n    'HETATM 1473  O   HOH A 350      31.473  15.976   5.774  1.00 34.19           O  ',\n    'HETATM 1474  O   HOH A 351      -3.297  16.693   8.862  1.00 42.31           O  ',\n    'HETATM 1475  O   HOH A 352       2.866  18.362  27.059  1.00 51.45           O  ',\n    'HETATM 1476  O   HOH A 353       3.541  20.033  18.598  1.00 46.15           O  ',\n    'HETATM 1477  O   HOH A 354       7.971  20.610  11.509  1.00 38.54           O  ',\n    'HETATM 1478  O   HOH A 355      20.608  24.420  20.847  1.00 44.53           O  ',\n    'HETATM 1479  O   HOH A 356      30.037  27.750   9.958  1.00 42.82           O  ',\n    'HETATM 1480  O   HOH A 357      21.586  27.992  18.150  1.00 51.34           O  ',\n    'HETATM 1481  O   HOH A 358       2.180  27.910  10.550  1.00 33.52           O  ',\n    'HETATM 1482  O   HOH A 359       3.198  30.669  10.077  1.00 38.67           O  ',\n    'HETATM 1483  O   HOH A 360       4.360  26.953  -7.343  1.00 44.47           O  ',\n    'HETATM 1484  O   HOH A 361       4.770  27.320  -4.871  1.00 40.78           O  ',\n    'HETATM 1485  O   HOH A 362      13.851  31.210  24.373  1.00 76.17           O  ',\n    'HETATM 1486  O   HOH A 363      19.903  31.049  18.520  1.00 65.31           O  ',\n    'HETATM 1487  O   HOH A 364      22.608  30.996  18.475  1.00 68.28           O  ',\n    'HETATM 1488  O   HOH A 365      17.577  30.600  13.438  1.00 64.63           O  ',\n    'HETATM 1489  O   HOH A 366      23.867  30.367  10.873  1.00 60.76           O  ',\n    'HETATM 1490  O   HOH A 367      23.819  30.483   9.129  1.00 63.78           O  ',\n    'HETATM 1491  O   HOH A 368      34.095  30.308  20.125  1.00 63.77           O  ',\n    'HETATM 1492  O   HOH A 369       1.608  30.994  11.923  1.00 70.62           O  ',\n    'HETATM 1493  O   HOH A 370       3.633  29.985  20.125  1.00 65.27           O  ',\n    'HETATM 1494  O   HOH A 371      14.294  30.190  20.137  1.00 78.06           O  ',\n    'HETATM 1495  O   HOH A 372      17.369  29.693  20.517  1.00 62.68           O  ',\n    'HETATM 1496  O   HOH A 373      -3.739  29.474   9.493  1.00 72.38           O  ',\n    'HETATM 1497  O   HOH A 374      16.343  29.059  18.046  1.00 67.96           O  ',\n    'HETATM 1498  O   HOH A 375      14.272  28.648  22.070  1.00 67.01           O  ',\n    'HETATM 1499  O   HOH A 376      34.868  28.786  18.886  1.00 72.05           O  ',\n    'HETATM 1500  O   HOH A 377      37.811  28.121  21.444  1.00 63.55           O  ',\n    'HETATM 1501  O   HOH A 378       3.382  27.747  22.252  1.00 65.41           O  ',\n    'HETATM 1502  O   HOH A 379      -0.263  27.632  25.986  1.00 76.05           O  ',\n    'HETATM 1503  O   HOH A 380      29.698  27.406  15.332  1.00 74.84           O  ',\n    'HETATM 1504  O   HOH A 381       9.733  27.090  22.345  1.00 60.45           O  ',\n    'HETATM 1505  O   HOH A 382      19.058  27.098  14.440  1.00 66.33           O  ',\n    'HETATM 1506  O   HOH A 383      35.435  27.456  21.981  1.00 67.48           O  ',\n    'HETATM 1507  O   HOH A 384      30.420  27.266   5.749  1.00 71.29           O  ',\n    'HETATM 1508  O   HOH A 385      -1.878  26.450  18.544  1.00 55.83           O  ',\n    'HETATM 1509  O   HOH A 386      13.811  26.804  19.963  1.00 72.16           O  ',\n    'HETATM 1510  O   HOH A 387      -7.680  26.803   5.180  1.00 61.36           O  ',\n    'HETATM 1511  O   HOH A 388      21.752  26.661  15.907  1.00 76.75           O  ',\n    'HETATM 1512  O   HOH A 389      31.699  26.817  15.963  1.00 81.44           O  ',\n    'HETATM 1513  O   HOH A 390      25.548  26.172  18.675  1.00 64.36           O  ',\n    'HETATM 1514  O   HOH A 391      22.472  25.566  20.058  1.00 74.39           O  ',\n    'HETATM 1515  O   HOH A 392      26.428  25.811  12.741  1.00 63.58           O  ',\n    'HETATM 1516  O   HOH A 393      34.739  25.458  20.171  1.00 78.05           O  ',\n    'HETATM 1517  O   HOH A 394      -4.676  24.990  30.434  1.00 64.30           O  ',\n    'HETATM 1518  O   HOH A 395      -5.548  24.971  11.646  1.00 57.35           O  ',\n    'HETATM 1519  O   HOH A 396      12.916  24.789  23.788  1.00 61.21           O  ',\n    'HETATM 1520  O   HOH A 397      35.659  24.586  -9.132  1.00 71.00           O  ',\n    'HETATM 1521  O   HOH A 398      22.447  24.736  17.558  1.00 69.06           O  ',\n    'HETATM 1522  O   HOH A 399      -3.800  24.278   8.038  1.00 66.71           O  ',\n    'HETATM 1523  O   HOH A 400      34.320  24.473  16.172  1.00 66.04           O  ',\n    'HETATM 1524  O   HOH A 401       4.155  24.163  25.510  1.00 83.08           O  ',\n    'HETATM 1525  O   HOH A 402      -5.001  24.071   3.256  1.00 66.90           O  ',\n    'HETATM 1526  O   HOH A 403       0.753  23.246  26.111  1.00 63.76           O  ',\n    'HETATM 1527  O   HOH A 404      35.648  23.182 -13.306  1.00 83.17           O  ',\n    'HETATM 1528  O   HOH A 405      -7.209  23.282  32.125  1.00 61.09           O  ',\n    'HETATM 1529  O   HOH A 406      20.594  23.307  13.468  1.00 58.17           O  ',\n    'HETATM 1530  O   HOH A 407      35.623  23.211  21.848  1.00 85.36           O  ',\n    'HETATM 1531  O   HOH A 408      -7.524  22.930   9.548  1.00 61.93           O  ',\n    'HETATM 1532  O   HOH A 409      28.538  22.558  15.153  1.00 65.07           O  ',\n    'HETATM 1533  O   HOH A 410      -2.886  22.607  22.569  1.00 69.72           O  ',\n    'HETATM 1534  O   HOH A 411       9.862  22.938  22.197  1.00 77.80           O  ',\n    'HETATM 1535  O   HOH A 412      34.518  22.569  -0.442  1.00 56.12           O  ',\n    'HETATM 1536  O   HOH A 413      -1.629  23.023   8.574  1.00 76.35           O  ',\n    'HETATM 1537  O   HOH A 414      39.045  22.900  -6.415  1.00 67.19           O  ',\n    'HETATM 1538  O   HOH A 415      -7.640  22.292  16.007  1.00 64.86           O  ',\n    'HETATM 1539  O   HOH A 416       6.540  21.920  24.058  1.00 59.96           O  ',\n    'HETATM 1540  O   HOH A 417      34.179  21.848  15.159  1.00 70.23           O  ',\n    'HETATM 1541  O   HOH A 418      33.483  21.950   7.378  1.00 65.99           O  ',\n    'HETATM 1542  O   HOH A 419      -0.188  21.604  29.645  1.00 60.78           O  ',\n    'HETATM 1543  O   HOH A 420      24.482  21.611  18.644  1.00 57.59           O  ',\n    'HETATM 1544  O   HOH A 421      36.094  21.590  -8.856  1.00 75.32           O  ',\n    'HETATM 1545  O   HOH A 422       4.872  21.248  26.515  1.00 60.02           O  ',\n    'HETATM 1546  O   HOH A 423       2.471  21.627  23.645  1.00 60.53           O  ',\n    'HETATM 1547  O   HOH A 424      22.310  20.369  21.391  1.00 58.76           O  ',\n    'HETATM 1548  O   HOH A 425      35.570  20.274  15.314  1.00 78.60           O  ',\n    'HETATM 1549  O   HOH A 426      32.712  19.886   7.626  1.00 87.13           O  ',\n    'HETATM 1550  O   HOH A 427      -4.662  19.875  21.185  1.00 69.71           O  ',\n    'HETATM 1551  O   HOH A 428      -1.237  19.424  19.712  1.00 66.64           O  ',\n    'HETATM 1552  O   HOH A 429      32.079  19.672  12.375  1.00 63.99           O  ',\n    'HETATM 1553  O   HOH A 430      -8.990  18.630  16.782  1.00 58.39           O  ',\n    'HETATM 1554  O   HOH A 431      24.646  18.643  18.957  1.00 66.73           O  ',\n    'HETATM 1555  O   HOH A 432      32.140  18.608   3.798  1.00 73.49           O  ',\n    'HETATM 1556  O   HOH A 433      -0.913  18.258  30.356  1.00 85.14           O  ',\n    'HETATM 1557  O   HOH A 434      35.732  18.603  10.392  1.00 80.41           O  ',\n    'HETATM 1558  O   HOH A 435      -3.119  18.055  12.915  1.00 64.22           O  ',\n    'HETATM 1559  O   HOH A 436      -2.486  17.945  21.838  1.00 59.57           O  ',\n    'HETATM 1560  O   HOH A 437      36.350  16.739   4.476  1.00 66.76           O  ',\n    'HETATM 1561  O   HOH A 438      24.530  16.386  22.229  1.00 85.18           O  ',\n    'HETATM 1562  O   HOH A 439       2.889  16.243  20.795  1.00 60.48           O  ',\n    'HETATM 1563  O   HOH A 440      38.125  16.240   4.896  1.00 68.08           O  ',\n    'HETATM 1564  O   HOH A 441      28.987  16.430  -0.457  1.00 57.67           O  ',\n    'HETATM 1565  O   HOH A 442      37.609  16.011  -3.072  1.00 81.05           O  ',\n    'HETATM 1566  O   HOH A 443      16.028  10.275  -6.063  1.00 64.02           O  ',\n    'HETATM 1567  O   HOH A 444       9.997   8.792  -9.641  1.00 73.10           O  ',\n    'HETATM 1568  O   HOH A 445      11.509   8.042   5.626  1.00 57.95           O  ',\n    'HETATM 1569  O   HOH A 446       7.678   7.713   3.486  1.00 64.76           O  ',\n    'HETATM 1570  O   HOH A 447      17.517   7.393  -5.629  1.00 76.74           O  ',\n    'HETATM 1571  O   HOH A 448      13.959   6.302  22.939  1.00 69.39           O  ',\n    'HETATM 1572  O   HOH A 449      19.562   6.232  -8.959  1.00 64.16           O  ',\n    'HETATM 1573  O   HOH A 450      19.682   6.175  -5.235  1.00 75.14           O  ',\n    'HETATM 1574  O   HOH A 451      21.534   6.351   2.532  1.00 74.92           O  ',\n    'HETATM 1575  O   HOH A 452      20.262   4.958  22.071  1.00 73.85           O  ',\n    'HETATM 1576  O   HOH A 453      23.563   3.750   6.384  1.00 58.34           O  ',\n    'HETATM 1577  O   HOH A 454      23.013   3.420  23.637  1.00 84.40           O  ',\n    'HETATM 1578  O   HOH A 455      21.115   2.615   2.665  1.00 63.06           O  ',\n    'HETATM 1579  O   HOH A 456      14.478   2.501  28.191  1.00 82.19           O  ',\n    'HETATM 1580  O   HOH A 457      22.841   2.346  22.134  1.00 77.37           O  ',\n    'HETATM 1581  O   HOH A 458      14.000   1.727  21.712  1.00 73.65           O  ',\n    'HETATM 1582  O   HOH A 459      20.675   1.715  11.715  1.00 77.55           O  ',\n    'HETATM 1583  O   HOH A 460      21.415   0.463   1.931  1.00 74.44           O  ',\n    'HETATM 1584  O   HOH A 461      -0.411  21.205  10.816  1.00 33.42           O  ',\n    'HETATM 1585  O   HOH A 462      22.294   9.253  -2.431  1.00 45.48           O  ',\n    'HETATM 1586  O   HOH A 463      -1.483  25.707  -6.127  1.00 40.58           O  ',\n    'HETATM 1587  O   HOH A 464       5.340  20.354  21.467  1.00 39.11           O  ',\n    'HETATM 1588  O   HOH A 465       3.421  23.580  -4.909  1.00 38.95           O  ',\n    'HETATM 1589  O   HOH A 466      24.430   7.961  -3.294  1.00 69.20           O  ',\n    'HETATM 1590  O   HOH A 467       9.578   6.829  20.362  1.00 69.26           O  ',\n    'HETATM 1591  O   HOH A 468      31.639  21.820  13.010  1.00 39.52           O  ',\n    'HETATM 1592  O   HOH A 469      19.154  35.411  -2.746  1.00 69.30           O  ',\n    'HETATM 1593  O   HOH A 470      35.201  19.363  18.943  1.00 69.33           O  ',\n    'HETATM 1594  O   HOH A 471      28.353  18.879  18.359  1.00 38.69           O  ',\n    'HETATM 1595  O   HOH A 472      17.639  34.461  -5.424  1.00 69.53           O  ',\n    'HETATM 1596  O   HOH A 473      14.316  34.398  -7.249  1.00 69.77           O  ',\n    'HETATM 1597  O   HOH A 474       1.298  34.104  11.191  1.00 69.57           O  ',\n    'HETATM 1598  O   HOH A 475      -2.504  18.726  16.405  1.00 69.25           O  ',\n    'HETATM 1599  O   HOH A 476       5.521  17.718  22.124  1.00 69.39           O  ',\n    'HETATM 1600  O   HOH A 477      26.441   2.443  15.144  1.00 69.46           O  ',\n    'HETATM 1601  O   HOH A 478       0.900  33.178   4.587  1.00 69.42           O  ',\n    'HETATM 1602  O   HOH A 479       1.202  32.276   6.303  1.00 69.17           O  ',\n    'HETATM 1603  O   HOH A 480      23.934  31.939   2.644  1.00 37.69           O  ',\n    'HETATM 1604  O   HOH A 481      11.547  30.597 -10.947  1.00 68.95           O  ',\n    'HETATM 1605  O   HOH A 482       0.000  26.450  13.296  1.00 69.21           O  ',\n    'HETATM 1606  O   HOH A 483      37.858  25.719  -6.196  1.00 69.16           O  ',\n    'HETATM 1607  O   HOH A 484       3.819   9.692   7.913  1.00 69.17           O  ',\n    'HETATM 1608  O   HOH A 485       0.286  24.508  24.297  1.00 69.30           O  ',\n    'HETATM 1609  O   HOH A 486      13.667  22.792  22.433  1.00 69.41           O  ',\n    'HETATM 1610  O   HOH A 487       9.881  11.643  -1.459  1.00 69.64           O  ',\n    'HETATM 1611  O   HOH A 488      18.140  11.612 -11.562  1.00 69.50           O  ',\n    'HETATM 1612  O   HOH A 489      16.049   8.738  21.675  1.00 70.30           O  ',\n    'CONECT  746 1276                                                                ',\n    'CONECT 1229 1230 1231 1232 1233                                                 ',\n    'CONECT 1230 1229                                                                ',\n    'CONECT 1231 1229                                                                ',\n    'CONECT 1232 1229                                                                ',\n    'CONECT 1233 1229                                                                ',\n    'CONECT 1234 1238 1265                                                           ',\n    'CONECT 1235 1241 1248                                                           ',\n    'CONECT 1236 1251 1255                                                           ',\n    'CONECT 1237 1258 1262                                                           ',\n    'CONECT 1238 1234 1239 1272                                                      ',\n    'CONECT 1239 1238 1240 1243                                                      ',\n    'CONECT 1240 1239 1241 1242                                                      ',\n    'CONECT 1241 1235 1240 1272                                                      ',\n    'CONECT 1242 1240                                                                ',\n    'CONECT 1243 1239 1244                                                           ',\n    'CONECT 1244 1243 1245                                                           ',\n    'CONECT 1245 1244 1246 1247                                                      ',\n    'CONECT 1246 1245                                                                ',\n    'CONECT 1247 1245                                                                ',\n    'CONECT 1248 1235 1249 1273                                                      ',\n    'CONECT 1249 1248 1250 1252                                                      ',\n    'CONECT 1250 1249 1251 1253                                                      ',\n    'CONECT 1251 1236 1250 1273                                                      ',\n    'CONECT 1252 1249                                                                ',\n    'CONECT 1253 1250 1254                                                           ',\n    'CONECT 1254 1253                                                                ',\n    'CONECT 1255 1236 1256 1274                                                      ',\n    'CONECT 1256 1255 1257 1259                                                      ',\n    'CONECT 1257 1256 1258 1260                                                      ',\n    'CONECT 1258 1237 1257 1274                                                      ',\n    'CONECT 1259 1256                                                                ',\n    'CONECT 1260 1257 1261                                                           ',\n    'CONECT 1261 1260                                                                ',\n    'CONECT 1262 1237 1263 1275                                                      ',\n    'CONECT 1263 1262 1264 1266                                                      ',\n    'CONECT 1264 1263 1265 1267                                                      ',\n    'CONECT 1265 1234 1264 1275                                                      ',\n    'CONECT 1266 1263                                                                ',\n    'CONECT 1267 1264 1268                                                           ',\n    'CONECT 1268 1267 1269                                                           ',\n    'CONECT 1269 1268 1270 1271                                                      ',\n    'CONECT 1270 1269                                                                ',\n    'CONECT 1271 1269                                                                ',\n    'CONECT 1272 1238 1241 1276                                                      ',\n    'CONECT 1273 1248 1251 1276                                                      ',\n    'CONECT 1274 1255 1258 1276                                                      ',\n    'CONECT 1275 1262 1265 1276                                                      ',\n    'CONECT 1276  746 1272 1273 1274                                                 ',\n    'CONECT 1276 1275 1277                                                           ',\n    'CONECT 1277 1276 1278                                                           ',\n    'CONECT 1278 1277                                                                ',\n    'MASTER      295    0    3    8    0    0    9    6 1601    1   52   12          ',\n    'END                                                                             ',\n    ''\n  ]\n\n  return result\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app id=\"app\">\n    <router-view />\n  </v-app>\n</template>\n\n<script>\nexport default {\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=277b73e3&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"stretch\",\"height\":\"calc(100vh)\",\"flex-direction\":\"row\"}},[_c('div',{staticStyle:{\"width\":\"250px\",\"font-family\":\"Helvetica, Arial, sans-serif\",\"border-right\":\"1px solid #999\",\"overflow\":\"scroll\"}},[_c('div',{staticClass:\"jolecule-sub-header\"},[_vm._v(\" Download PDB \")]),_c('div',{staticStyle:{\"padding-left\":\"20px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pdbId),expression:\"pdbId\"}],staticClass:\"jolecule-view-text\",staticStyle:{\"width\":\"90px\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.pdbId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pdbId=$event.target.value}}}),_c('div',{staticClass:\"jolecule-small-button\",staticStyle:{\"display\":\"inline\",\"padding-left\":\"1em\",\"width\":\"2em\"},on:{\"click\":function($event){return _vm.loadFromPdbId()}}},[_vm._v(\" FETCH \")]),_c('br',{attrs:{\"clear\":\"all\"}}),_c('span',[_vm._v(_vm._s(_vm.error))])]),_c('div',{staticClass:\"jolecule-sub-header\"},[_vm._v(\" Local files \")]),_vm._l((_vm.drawer.directories),function(file,j){return _c('div',{key:j + 'f',staticClass:\"file-entry\",on:{\"click\":function($event){return _vm.openDir(_vm.drawer.dirname, file)}}},[_c('i',{staticClass:\"fa fa-folder\"}),_vm._v(\" \"+_vm._s(file)+\" \")])}),_vm._l((_vm.drawer.files),function(file,k){return _c('div',{key:k + 'e',staticClass:\"file-entry\",on:{\"click\":function($event){return _vm.openFileReplace(file)}}},[_vm._v(\" [\"),_c('span',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(_vm._s(file.name))]),_vm._v(\"] \"+_vm._s(file.title)+\" \")])})],2),_c('div',{attrs:{\"id\":\"jolecule-protein-container\"}}),_c('div',{attrs:{\"id\":\"jolecule-views-container\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n *\n * v3.js - is a simple function based wrapper library around the vector\n * portion of THREE.js. THREE.Vector3 are created and manipulated using\n * factory functions, which was the original approach used in a deprecated\n * vector library. This was replaced with the fully-featured vector library\n * in THREE.js\n *\n */\n\nimport * as THREE from 'three'\n\nconst SMALL = 1e-6\n\nfunction isNearZero (a) {\n  return Math.abs(a) < SMALL\n}\n\nfunction create (x, y, z) {\n  return new THREE.Vector3(x, y, z)\n}\n\nfunction clone (v) {\n  return v.clone()\n}\n\nfunction scaled (v, s) {\n  let w = create(v.x, v.y, v.z)\n  w.multiplyScalar(s)\n  return w\n}\n\nfunction normalized (v) {\n  return scaled(v, 1.0 / v.length())\n}\n\nfunction diff (b, a) {\n  return create(b.x - a.x, b.y - a.y, b.z - a.z)\n}\n\nfunction sum (a, b) {\n  return create(b.x + a.x, b.y + a.y, b.z + a.z)\n}\n\nfunction parallel (v, axis) {\n  let axisLen = axis.length()\n  let result\n  if (isNearZero(axisLen)) {\n    result = create(v.x, v.y, v.z)\n  } else {\n    let scale = dotProduct(v, axis) / axisLen / axisLen\n    result = scaled(axis, scale)\n  }\n  return result\n}\n\nfunction perpendicular (v, axis) {\n  return diff(v, parallel(v, axis))\n}\n\nfunction crossProduct (a, b) {\n  return new THREE.Vector3().crossVectors(a, b)\n}\n\nfunction dotProduct (a, b) {\n  return a.x * b.x + a.y * b.y + a.z * b.z\n}\n\nfunction distance (p1, p2) {\n  return diff(p1, p2).length()\n}\n\nfunction angle (a, b) {\n  let aLen = a.length()\n  let bLen = b.length()\n  if (isNearZero(aLen * bLen)) {\n    return 0.0\n  }\n  let c = dotProduct(a, b) / aLen / bLen\n  if (c >= 1.0) {\n    return 0.0\n  }\n  if (c < -1.0) {\n    return Math.PI\n  }\n  return Math.acos(c)\n}\n\nfunction dihedral (ref, axis, v) {\n  // + values: right-hand screw rotation of v\n  //           around axis relative to ref\n  let refPerp = perpendicular(ref, axis)\n  let vPerp = perpendicular(v, axis)\n  let a = angle(refPerp, vPerp)\n  let cross = crossProduct(refPerp, vPerp)\n  if (dotProduct(cross, axis) > 0) {\n    a = -a\n  }\n  return a\n}\n\nfunction midPoint (p, q) {\n  let s = sum(p, q)\n  return scaled(s, 0.5)\n}\n\nfunction random () {\n  return create(Math.random(), Math.random(), Math.random())\n}\n\nfunction isEqual (v, w) {\n  if (!isNearZero(v.x - w.x)) {\n    return false\n  } else if (!isNearZero(v.y - w.y)) {\n    return false\n  } else if (!isNearZero(v.y - w.y)) {\n    return false\n  }\n  return true\n}\n\nfunction isAligned (v, w) {\n  return isNearZero(angle(v, w))\n}\n\nlet Matrix4 = THREE.Matrix4\n\nfunction matrixProduct (lhs, rhs) {\n  let c = new Matrix4()\n  c.multiplyMatrices(lhs, rhs)\n  return c\n}\n\nfunction rotation (axis, theta) {\n  let a = axis.clone().normalize()\n  return new Matrix4().makeRotationAxis(a, theta)\n}\n\nfunction translation (p) {\n  let c = new Matrix4()\n  return c.makeTranslation(p.x, p.y, p.z)\n}\n\nfunction degToRad (deg) {\n  return (deg * Math.PI) / 180.0\n}\n\nexport default {\n  SMALL,\n  isNearZero,\n  create,\n  clone,\n  scaled,\n  normalized,\n  diff,\n  sum,\n  parallel,\n  perpendicular,\n  crossProduct,\n  dotProduct,\n  distance,\n  angle,\n  dihedral,\n  midPoint,\n  random,\n  isEqual,\n  isAligned,\n  Matrix4,\n  matrixProduct,\n  rotation,\n  translation,\n  degToRad\n}\n","/**\n *\n * Utility functions mainly to do with HTML elements\n * that can be deferred to functions\n *\n */\n\nimport $ from 'jquery'\nimport _ from 'lodash'\n\nfunction exists (x) {\n  return !_.isNil(x)\n}\n\nfunction linkButton (text, classTag, callback) {\n  return $('<span>')\n    .html(text)\n    .addClass(classTag)\n    .on('click touch', function (e) {\n      e.preventDefault()\n      callback()\n    })\n}\n\nfunction stickJqueryDivInTopLeft (parent, target, xOffset, yOffset) {\n  target.css({\n    position: 'absolute',\n    'z-index': '2'\n  })\n  let top = parent.position().top\n  let left = parent.position().left\n  parent.append(target)\n  // target.css({\n  //   top: top + yOffset,\n  //   left: left + xOffset\n  // })\n  target.css({\n    top: yOffset,\n    left: xOffset\n  })\n}\n\nfunction stickJqueryDivInCenter (parent, target, xOffset, yOffset) {\n  target.css({\n    position: 'absolute',\n    'z-index': '2'\n  })\n  let top = parent.position().top\n  let left = parent.position().left\n  top = 0\n  left = 0\n  let widthParent = parent.outerWidth()\n  let heightParent = parent.outerHeight()\n  parent.prepend(target)\n  let widthTarget = target.outerWidth()\n  let heightTarget = target.outerHeight()\n  target.css({\n    top: top + heightParent / 2 - heightTarget / 2 - yOffset,\n    left: left + widthParent / 2 - widthTarget / 2 - xOffset\n  })\n}\n\nfunction stickJqueryDivInBottomLeft (parent, target, xOffset, yOffset) {\n  target.css({\n    position: 'absolute',\n    'z-index': '9000'\n  })\n  let top = parent.position().top\n  let left = parent.position().left\n  let heightParent = parent.outerHeight()\n  parent.prepend(target)\n  let heightTarget = target.outerHeight()\n  target.css({\n    top: top + heightParent - heightTarget - yOffset,\n    left: left + xOffset\n  })\n}\n\nfunction inArray (v, aList) {\n  return aList.indexOf(v) >= 0\n}\n\nfunction randomString (nChar) {\n  let chars = '0123456789abcdefghiklmnopqrstuvwxyz'\n  let s = ''\n  for (let i = 0; i < nChar; i++) {\n    let j = Math.floor(Math.random() * chars.length)\n    s += chars.substring(j, j + 1)\n  }\n  return s\n}\n\nfunction randomId () {\n  return 'view:' + randomString(6)\n}\n\nfunction textEntryDialog (parentDiv, label, callback) {\n  if (!label) {\n    label = ''\n  }\n\n  window.keyboardLock = true\n\n  function cleanup () {\n    dialog.remove()\n    window.keyboardLock = false\n  }\n\n  function accept () {\n    callback(textarea.val())\n    cleanup()\n    window.keyboardLock = false\n  }\n\n  function discard () {\n    cleanup()\n    window.keyboardLock = false\n  }\n\n  let saveButton = linkButton('okay', 'jolecule-small-button', accept)\n\n  let discardButton = linkButton('discard', 'jolecule-small-button', discard)\n\n  let textarea = $('<textarea>')\n    .css('width', '100%')\n    .css('margin-bottom', '0.5em')\n    .addClass('jolecule-view-text')\n    .keydown(function (e) {\n      if (e.keyCode === 27) {\n        discard()\n        return true\n      }\n    })\n\n  let editbox = $('<div>')\n    .css('width', '100%')\n    .append(label)\n    .append(textarea)\n    .append(saveButton)\n    .append(' ')\n    .append(discardButton)\n\n  let dialog = $('<div>')\n    .addClass('jolecule-dialog')\n    .css('display', 'block')\n    .css('z-index', '2000')\n    .css('width', Math.min(400, parentDiv.width() - 100))\n    .append(editbox)\n\n  stickJqueryDivInCenter(parentDiv, dialog, 0, 20)\n\n  setTimeout(() => {\n    editbox.find('textarea').focus()\n  }, 100)\n}\n\nfunction delay (timeMs) {\n  return new Promise(resolve => {\n    setTimeout(resolve, timeMs)\n  })\n}\n\n/**\n * Copies to the clipboard https://stackoverflow.com/a/30810322\n */\nfunction copyTextToClipboard (text) {\n  let textArea = document.createElement('textarea')\n\n  //\n  // *** This styling is an extra step which is likely not required. ***\n  //\n  // Why is it here? To ensure:\n  // 1. the element is able to have focus and selection.\n  // 2. if element was to flash render it has minimal visual impact.\n  // 3. less flakyness with selection and copying which **might** occur if\n  //    the textarea element is not visible.\n  //\n  // The likelihood is the element won't even render, not even a flash,\n  // so some of these are just precautions. However in IE the element\n  // is visible whilst the popup box asking the user for permission for\n  // the web page to copy to the clipboard.\n  //\n\n  // Place in top-left corner of screen regardless of scroll position.\n  textArea.style.position = 'fixed'\n  textArea.style.top = 0\n  textArea.style.left = 0\n\n  // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n  textArea.style.width = '2em'\n  textArea.style.height = '2em'\n\n  // We don't need padding, reducing the size if it does flash render.\n  textArea.style.padding = 0\n\n  // Clean up any borders.\n  textArea.style.border = 'none'\n  textArea.style.outline = 'none'\n  textArea.style.boxShadow = 'none'\n\n  // Avoid flash of white box if rendered for any reason.\n  textArea.style.background = 'transparent'\n\n  textArea.value = text\n\n  document.body.appendChild(textArea)\n\n  textArea.select()\n\n  try {\n    let successful = document.execCommand('copy')\n    let msg = successful ? 'successful' : 'unsuccessful'\n    console.log('> copyTextToClipboard', msg)\n  } catch (err) {\n    console.log('> copyTextToClipboard failed')\n  }\n\n  document.body.removeChild(textArea)\n}\n\nexport {\n  exists,\n  linkButton,\n  stickJqueryDivInCenter,\n  stickJqueryDivInTopLeft,\n  stickJqueryDivInBottomLeft,\n  inArray,\n  randomId,\n  textEntryDialog,\n  delay,\n  copyTextToClipboard\n}\n","/**\n * Custom geometry and mesh generators based on the\n * THREE.js library.\n *\n * In particular, there is a Ribbon class which is an\n * extrusion where the normal and tangents are specified.\n *\n */\n\nimport * as THREE from 'three'\nimport v3 from './v3'\nimport _ from 'lodash'\n\nfunction CatmullRom (t, p0, p1, p2, p3) {\n  let v0 = (p2 - p0) * 0.5\n  let v1 = (p3 - p1) * 0.5\n  let t2 = t * t\n  let t3 = t * t2\n  return (\n    (2 * p1 - 2 * p2 + v0 + v1) * t3 +\n    (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 +\n    v0 * t +\n    p1\n  )\n}\n\n/**\n * Interpolation function for a Catmul-Rom spline\n * in 3D space, where the 4 guide-points are given\n * and an interpolation parameter is given.\n *\n * @param {Number} t - interpolation from [0, 1]\n * @param {THREE.Vector3} p1\n * @param {THREE.Vector3} p2\n * @param {THREE.Vector3} p3\n * @param {THREE.Vector3} p4\n * @returns {THREE.Vector3} the interpolated point\n */\nfunction catmulRomSpline (t, p1, p2, p3, p4) {\n  return v3.create(\n    CatmullRom(t, p1.x, p2.x, p3.x, p4.x),\n    CatmullRom(t, p1.y, p2.y, p3.y, p4.y),\n    CatmullRom(t, p1.z, p2.z, p3.z, p4.z)\n  )\n}\n\n/**\n * Create a path for extrusion where the direction of the\n * normal and binormal is defined, as well as the tangent.\n *\n * In particular, the path provides a slice() function\n * that produces a sub-portion of the path.\n */\nclass PathAndFrenetFrames {\n  constructor () {\n    this.points = []\n    this.normals = []\n    this.tangents = []\n    this.binormals = []\n\n    this.colors = []\n    this.indexColors = []\n    this.segmentTypes = []\n    this.refIndices = []\n  }\n\n  slice (i, j) {\n    let subPath = new PathAndFrenetFrames()\n    subPath.points = this.points.slice(i, j)\n    subPath.normals = this.normals.slice(i, j)\n    subPath.tangents = this.tangents.slice(i, j)\n    subPath.binormals = this.binormals.slice(i, j)\n    return subPath\n  }\n}\n\n/**\n * Creates a new path out of a slice of the oldPath, with\n * n number of segments between two points, using a Catmul-Rom\n * spline based on the two points, and the two surrounding\n * points. At the ends, the external points are projected\n * from the end using the tangent at the ends.\n *\n * @param {PathAndFrenetFrames} oldPath\n * @param {Number} n\n * @param {Number} iOldPoint\n * @param {Number} jOldPoint\n * @returns {PathAndFrenetFrames}\n */\nfunction expandPath (oldPath, n, iOldPoint, jOldPoint) {\n  let newPath = new PathAndFrenetFrames()\n\n  newPath.points.push(oldPath.points[iOldPoint])\n\n  for (let i = iOldPoint; i < jOldPoint - 1; i += 1) {\n    let jStart = 1\n    let jEnd = n + 1\n\n    for (let j = jStart; j < jEnd; j += 1) {\n      let t = j / n\n\n      let prevOldPoint, nextOldPoint\n\n      if (i > 0) {\n        prevOldPoint = oldPath.points[i - 1]\n      } else {\n        prevOldPoint = oldPath.points[i].clone().sub(oldPath.tangents[i])\n      }\n\n      if (i < oldPath.points.length - 2) {\n        nextOldPoint = oldPath.points[i + 2]\n      } else {\n        nextOldPoint = oldPath.points[i + 1].clone().add(oldPath.tangents[i])\n      }\n\n      newPath.points.push(\n        catmulRomSpline(\n          t,\n          prevOldPoint,\n          oldPath.points[i],\n          oldPath.points[i + 1],\n          nextOldPoint\n        )\n      )\n    }\n  }\n\n  newPath.normals.push(oldPath.normals[iOldPoint])\n  for (let i = iOldPoint; i < jOldPoint - 1; i += 1) {\n    for (let j = 1; j < n + 1; j += 1) {\n      let t = j / n\n\n      let prevOldNormal, nextOldNormal\n\n      if (i > 0) {\n        prevOldNormal = oldPath.normals[i - 1]\n      } else {\n        prevOldNormal = oldPath.normals[i]\n      }\n\n      if (i < oldPath.normals.length - 2) {\n        nextOldNormal = oldPath.normals[i + 2]\n      } else {\n        nextOldNormal = oldPath.normals[i + 1]\n      }\n\n      newPath.normals.push(\n        catmulRomSpline(\n          t,\n          prevOldNormal,\n          oldPath.normals[i],\n          oldPath.normals[i + 1],\n          nextOldNormal\n        ).normalize()\n      )\n    }\n  }\n\n  for (let i = 0; i < newPath.points.length; i += 1) {\n    if (i === 0) {\n      newPath.tangents.push(oldPath.tangents[0])\n    } else if (i === newPath.points.length - 1) {\n      newPath.tangents.push(oldPath.tangents[jOldPoint - 1])\n    } else {\n      newPath.tangents.push(\n        newPath.points[i + 1]\n          .clone()\n          .sub(newPath.points[i - 1])\n          .normalize()\n      )\n    }\n  }\n\n  for (let i = 0; i < newPath.points.length; i += 1) {\n    newPath.binormals.push(\n      v3.create().crossVectors(newPath.tangents[i], newPath.normals[i])\n    )\n  }\n\n  return newPath\n}\n\n/**\n * Trace is an object designed to be built up progressively\n * by adding to this.indices, this.points and this.normals.\n *\n * Once built, it can be expanded into a more detailed\n * trace, which is used to generate geometric pieces of\n * an extrusion where the normals and tangents are\n * controlled.\n */\nclass Trace extends PathAndFrenetFrames {\n  constructor () {\n    super()\n    this.indices = []\n    this.detail = 4\n  }\n\n  getReference (i) {\n    let iRef = this.indices[i]\n    return this.referenceObjects[iRef]\n  }\n\n  /**\n   * Calculates tangents as an average on neighbouring points\n   * so that we get a smooth path.\n   */\n  calcTangents () {\n    let iStart = 0\n    let iEnd = this.points.length\n    let iLast = iEnd - 1\n    if (iEnd - iStart > 2) {\n      // project out first tangent from main chain\n      this.tangents[iStart] = this.points[iStart + 1]\n        .clone()\n        .sub(this.points[iStart])\n        .normalize()\n\n      // calculate tangents as averages of neighbouring residues\n      for (let i = iStart + 1; i < iLast; i += 1) {\n        this.tangents[i] = this.points[i + 1]\n          .clone()\n          .sub(this.points[i - 1])\n          .normalize()\n      }\n\n      // project out last tangent from main chain\n      this.tangents[iLast] = this.points[iLast]\n        .clone()\n        .sub(this.points[iLast - 1])\n        .normalize()\n    } else {\n      // for short 2 point traces\n      let tangent = this.points[iLast]\n        .clone()\n        .sub(this.points[iStart])\n        .normalize()\n\n      this.tangents[iStart] = tangent\n      this.tangents[iLast] = tangent\n    }\n  }\n\n  /**\n   * If normal[i] is not null,\n   * it will use the normal, otherwise it will generate own\n   * normal from the path curvature\n   */\n  calcNormals () {\n    let iStart = 0\n    let iEnd = this.points.length\n    let iLast = iEnd - 1\n    if (iEnd - iStart > 2) {\n      for (let i = iStart + 1; i < iLast; i += 1) {\n        if (this.normals[i] !== null) {\n          // normal already provided, normalize properly against tangent\n          this.normals[i] = perpVector(this.tangents[i], this.normals[i])\n          this.normals[i].normalize()\n        } else {\n          // generate a normal from curvature\n          let diff = this.points[i].clone().sub(this.points[i - 1])\n          this.normals[i] = v3\n            .create()\n            .crossVectors(diff, this.tangents[i])\n            .normalize()\n\n          // smooth out auto-generated normal if flipped 180deg from prev\n          let prevNormal = this.normals[i - 1]\n          if (prevNormal !== null) {\n            if (this.normals[i].dot(prevNormal) < 0) {\n              this.normals[i].negate()\n            }\n          }\n        }\n      }\n\n      this.normals[iStart] = this.normals[iStart + 1]\n      this.normals[iLast] = this.normals[iLast - 1]\n    } else {\n      for (let i = iStart; i <= iLast; i += 1) {\n        if (this.normals[i] !== null) {\n          this.normals[i] = perpVector(this.tangents[i], this.normals[i])\n          this.normals[i].normalize()\n        } else {\n          let randomDir = this.points[i]\n          this.normals[i] = v3\n            .create()\n            .crossVectors(randomDir, this.tangents[i])\n            .normalize()\n        }\n      }\n    }\n  }\n\n  calcBinormals () {\n    let iStart = 0\n    let iEnd = this.points.length\n    for (let i = iStart; i < iEnd; i += 1) {\n      this.binormals[i] = v3\n        .create()\n        .crossVectors(this.tangents[i], this.normals[i])\n    }\n  }\n\n  expand () {\n    this.detailedPath = expandPath(this, 2 * this.detail, 0, this.points.length)\n  }\n\n  getGeometry (face, isRound, isFront, isBack, color) {\n    let path = this.detailedPath\n    let iResStart = 0\n    let iResEnd = this.points.length\n\n    // works out start on expanded path, including overhang\n    let iPathStart = iResStart * 2 * this.detail - this.detail\n    if (iPathStart < 0) {\n      iPathStart = 0\n    }\n\n    // works out end of expanded path, including overhang\n    let iPathEnd = iResEnd * 2 * this.detail - this.detail + 1\n    if (iPathEnd >= path.points.length) {\n      iPathEnd = path.points.length - 1\n    }\n\n    let segmentPath = path.slice(iPathStart, iPathEnd)\n\n    let geom = new BufferRibbonGeometry(\n      this,\n      segmentPath,\n      isRound,\n      isFront,\n      isBack,\n      color\n    )\n\n    return geom\n  }\n}\n\n/**\n * Extrusion along a path that aligns a 2D shape as cross-section, with\n * orientation along the normal for the cross-section.\n *\n * Accepts a cross-section shape, which is a collection of 2D points around\n * the origin, and a path, which contains points, normals and binormals\n * and builds a oriented extrusion out of it.\n *\n * If round is set, then the vertex normals are set to orient along the\n * normal/binormal axis from the origin, otherwise, face normals are defined\n * perpedicular to the face.\n *\n * For a segment between two path points and a repetition of the cross-section,\n * two triangles are defined.\n */\nclass BufferRibbonGeometry extends THREE.BufferGeometry {\n  /**\n   * @param {THREE.Shape} shape - collection of 2D points for cross section\n   * @param {PathAndFrenetFrames} path - collection of points, normals, and binormals\n   * @param {boolean} round - normals are draw from centre, otherwise perp to edge\n   */\n  constructor (traces, shape, isIndexColor = false) {\n    super()\n\n    this.type = 'BufferRibbonGeometry'\n\n    this.parameters = {\n      shape,\n      traces,\n      isIndexColor\n    }\n\n    this.shapePoints = shape.extractPoints(4).shape\n    this.nShape = this.shapePoints.length\n\n    this.nVertex = 0\n    this.nFace = 0\n\n    this.countVertexAndFacesOfPath()\n\n    this.setAttributes()\n\n    this.build()\n    this.setColors()\n  }\n\n  countVertexAndFacesOfPath () {\n    this.nVertex = 0\n    this.nFace = 0\n\n    this.paths = []\n    for (let trace of this.parameters.traces) {\n      let path = trace.detailedPath\n      this.paths.push(path)\n\n      let nPath = path.points.length\n      this.nVertex += (nPath + trace.points.length - 1) * this.nShape\n      this.nVertex += this.nShape\n      this.nVertex += this.nShape\n\n      let nTrace = trace.points.length\n      this.nFace += (nTrace - 1) * 2 * this.nShape * (2 * trace.detail + 1)\n      this.nFace += this.nShape - 2\n      this.nFace += this.nShape - 2\n\n      this.nVertex = this.nFace * 3\n    }\n  }\n\n  build () {\n    for (let iPath of _.range(this.paths.length)) {\n      let path = this.paths[iPath]\n      let trace = this.parameters.traces[iPath]\n\n      let iVertexOffsetOfPathPoint = []\n\n      let iTraceStart = 0\n      let iTraceEnd = trace.points.length\n\n      function getWidth (iTracePoint) {\n        return trace.segmentTypes[iTracePoint] === 'C' ? 0.7 : 8\n      }\n\n      let vertices = null\n      let lastVertices = null\n      let shapeNormals = null\n      let lastShapeNormals = null\n      let isFlat = true\n\n      for (\n        let iTracePoint = iTraceStart;\n        iTracePoint < iTraceEnd;\n        iTracePoint += 1\n      ) {\n        // iPathStart, iPathEnd on the expanded path for a given tracePoint\n        // assumes an overhang between neighbouring pieces to allow for disjoint\n        // coloring\n        let iPathStart = iTracePoint * 2 * trace.detail - trace.detail\n        if (iPathStart < 0) {\n          iPathStart = 0\n        }\n\n        // works out end of expanded path, including overhang\n        let iPathEnd = (iTracePoint + 1) * 2 * trace.detail - trace.detail + 1\n        if (iPathEnd >= path.points.length) {\n          iPathEnd = path.points.length\n        }\n\n        for (\n          let iPathPoint = iPathStart;\n          iPathPoint < iPathEnd;\n          iPathPoint += 1\n        ) {\n          let width = getWidth(iTracePoint)\n          let height = 0.7\n\n          if (iPathPoint === iPathStart && iPathPoint > 0) {\n            if (\n              trace.segmentTypes[iTracePoint - 1] === 'C' &&\n              trace.segmentTypes[iTracePoint] !== 'C'\n            ) {\n              width = getWidth(iTracePoint - 1)\n            }\n          }\n          if (\n            iPathPoint === iPathEnd - 1 &&\n            iTracePoint < trace.points.length - 1\n          ) {\n            let iNextTracePoint = iTracePoint + 1\n            if (\n              trace.segmentTypes[iNextTracePoint] === 'C' &&\n              trace.segmentTypes[iTracePoint] !== 'C'\n            ) {\n              width = getWidth(iNextTracePoint)\n            }\n          }\n\n          isFlat = trace.segmentTypes[iTracePoint] !== 'C'\n\n          let point = path.points[iPathPoint]\n          let normal = path.normals[iPathPoint]\n          let binormal = path.binormals[iPathPoint]\n\n          let shapePoints = _.cloneDeep(this.shapePoints)\n          for (let shapePoint of shapePoints) {\n            shapePoint.x = shapePoint.x * width\n            shapePoint.y = shapePoint.y * height\n          }\n\n          vertices = []\n          for (let shapePoint of shapePoints) {\n            let x = normal.clone().multiplyScalar(shapePoint.x)\n            let y = binormal.clone().multiplyScalar(shapePoint.y)\n            let vertex = point\n              .clone()\n              .add(x)\n              .add(y)\n            vertices.push(vertex)\n          }\n\n          // draw back cap of ribbon\n          let isFront = iPathPoint === 0 && iTracePoint === iTraceStart\n          if (isFront) {\n            let nVertex = shapePoints.length\n            let iLastVertex = nVertex - 1\n            let faceNormal = threePointNormal([\n              vertices[0],\n              vertices[1],\n              vertices[iLastVertex]\n            ])\n            for (let iVertex = 0; iVertex < nVertex - 2; iVertex += 1) {\n              this.pushVerticesNormalsOfFace(\n                vertices[iVertex],\n                vertices[iVertex + 1],\n                vertices[iLastVertex],\n                faceNormal,\n                faceNormal,\n                faceNormal\n              )\n            }\n          }\n\n          function getRoundedShapeNormals (iPathPoint) {\n            let nVertex = shapePoints.length\n            let shapeNormals = []\n            let x, y\n            let diffPrev = new THREE.Vector2()\n            let diffNext = new THREE.Vector2()\n            let shapeNormal = new THREE.Vector2()\n            for (let i = 0; i < nVertex; i += 1) {\n              let iPrev = i > 0 ? i - 1 : nVertex - 1\n              let iNext = i + 1 < nVertex ? i + 1 : 0\n              let v = shapePoints[i]\n              diffPrev.subVectors(v, shapePoints[iPrev]).normalize()\n              diffNext.subVectors(v, shapePoints[iNext]).normalize()\n              shapeNormal.addVectors(diffPrev, diffNext).normalize()\n              x = path.normals[iPathPoint].clone().multiplyScalar(shapeNormal.x)\n              y = path.binormals[iPathPoint]\n                .clone()\n                .multiplyScalar(shapeNormal.y)\n              shapeNormals.push(x.add(y))\n            }\n            return shapeNormals\n          }\n\n          function getFlatShapeNormals (iPathPoint) {\n            let nVertex = shapePoints.length\n            let shapeNormals = []\n            let x, y\n            let shapeNormal = new THREE.Vector2()\n            for (let i = 0; i < nVertex; i += 1) {\n              let iPrev = i > 0 ? i - 1 : nVertex - 1\n              let v = shapePoints[i]\n              shapeNormal.subVectors(v, shapePoints[iPrev]).normalize()\n              x = path.normals[iPathPoint].clone().multiplyScalar(shapeNormal.x)\n              y = path.binormals[iPathPoint]\n                .clone()\n                .multiplyScalar(shapeNormal.y)\n              shapeNormals.push(x.add(y))\n            }\n            return shapeNormals\n          }\n\n          if (isFlat) {\n            shapeNormals = getFlatShapeNormals(iPathPoint)\n          } else {\n            shapeNormals = getRoundedShapeNormals(iPathPoint)\n          }\n\n          if (iPathPoint === 0) {\n            lastShapeNormals = shapeNormals\n            lastVertices = vertices\n            continue\n          }\n\n          for (\n            let iShapePoint = 0;\n            iShapePoint < this.nShape;\n            iShapePoint += 1\n          ) {\n            let iLastShapePoint\n            if (iShapePoint === 0) {\n              iLastShapePoint = this.nShape - 1\n            } else {\n              iLastShapePoint = iShapePoint - 1\n            }\n\n            if (isFlat) {\n              // Flat normals to give a flat look\n              this.pushVerticesNormalsOfFace(\n                lastVertices[iLastShapePoint],\n                vertices[iLastShapePoint],\n                vertices[iShapePoint],\n                lastShapeNormals[iLastShapePoint],\n                shapeNormals[iLastShapePoint],\n                shapeNormals[iLastShapePoint]\n              )\n              this.pushVerticesNormalsOfFace(\n                lastVertices[iShapePoint],\n                lastVertices[iLastShapePoint],\n                vertices[iShapePoint],\n                lastShapeNormals[iLastShapePoint],\n                lastShapeNormals[iLastShapePoint],\n                shapeNormals[iLastShapePoint]\n              )\n            } else {\n              // Smoothed normals to give a rounded look\n              this.pushVerticesNormalsOfFace(\n                lastVertices[iLastShapePoint],\n                vertices[iLastShapePoint],\n                vertices[iShapePoint],\n                lastShapeNormals[iLastShapePoint],\n                shapeNormals[iLastShapePoint],\n                shapeNormals[iShapePoint]\n              )\n              this.pushVerticesNormalsOfFace(\n                lastVertices[iShapePoint],\n                lastVertices[iLastShapePoint],\n                vertices[iShapePoint],\n                lastShapeNormals[iShapePoint],\n                lastShapeNormals[iLastShapePoint],\n                shapeNormals[iShapePoint]\n              )\n            }\n          }\n\n          let isBack =\n            iPathPoint === iPathEnd - 1 && iTracePoint === iTraceEnd - 1\n          if (isBack) {\n            let nVertex = shapePoints.length\n            let iLastVertex = nVertex - 1\n            let faceNormal = threePointNormal([\n              vertices[2],\n              vertices[1],\n              vertices[0]\n            ])\n            for (let iVertex = 0; iVertex < nVertex - 2; iVertex += 1) {\n              this.pushVerticesNormalsOfFace(\n                vertices[iLastVertex],\n                vertices[iVertex + 1],\n                vertices[iVertex],\n                faceNormal,\n                faceNormal,\n                faceNormal\n              )\n            }\n          }\n\n          lastShapeNormals = shapeNormals\n          lastVertices = vertices\n        }\n      }\n    }\n    // this.computeVertexNormals()\n  }\n\n  setColors () {\n    let vertexCount = 0\n    for (let iPath of _.range(this.paths.length)) {\n      let path = this.paths[iPath]\n      let trace = this.parameters.traces[iPath]\n\n      let iTraceStart = 0\n      let iTraceEnd = trace.points.length\n\n      for (\n        let iTracePoint = iTraceStart;\n        iTracePoint < iTraceEnd;\n        iTracePoint += 1\n      ) {\n        // iPathStart, iPathEnd on the expanded path for a given tracePoint\n        // assumes an overhang between neighbouring pieces to allow for disjoint\n        // coloring\n        let iPathStart = iTracePoint * 2 * trace.detail - trace.detail\n        if (iPathStart < 0) {\n          iPathStart = 0\n        }\n\n        // works out end of expanded path, including overhang\n        let iPathEnd = (iTracePoint + 1) * 2 * trace.detail - trace.detail + 1\n        if (iPathEnd >= path.points.length) {\n          iPathEnd = path.points.length\n        }\n\n        for (\n          let iPathPoint = iPathStart;\n          iPathPoint < iPathEnd;\n          iPathPoint += 1\n        ) {\n          let nShapePoint = this.shapePoints.length\n\n          let color\n          if (this.parameters.isIndexColor) {\n            color = trace.indexColors[iTracePoint]\n          } else {\n            color = trace.colors[iTracePoint].clone()\n          }\n\n          // draw front-cap\n          let isFront = iPathPoint === 0 && iTracePoint === iTraceStart\n          if (isFront) {\n            for (let i = 0; i < 3 * (nShapePoint - 2); i += 1) {\n              this.setColor(vertexCount, color)\n              vertexCount += 1\n            }\n          }\n\n          if (iPathPoint > 0) {\n            for (let i = 0; i < 6 * nShapePoint; i += 1) {\n              this.setColor(vertexCount, color)\n              vertexCount += 1\n            }\n          }\n\n          let isBack =\n            iPathPoint === iPathEnd - 1 && iTracePoint === iTraceEnd - 1\n          if (isBack) {\n            for (let i = 0; i < 3 * (nShapePoint - 2); i += 1) {\n              this.setColor(vertexCount, color)\n              vertexCount += 1\n            }\n          }\n        }\n      }\n    }\n    this.attributes.color.needsUpdate = true\n  }\n\n  setAttributes () {\n    let positions = new Float32Array(this.nVertex * 3)\n    let normals = new Float32Array(this.nVertex * 3)\n    let indices = new Int32Array(this.nFace * 3)\n    let colors = new Float32Array(this.nVertex * 3)\n\n    this.addAttribute(\n      'position',\n      new THREE.Float32BufferAttribute(positions, 3)\n    )\n    this.addAttribute('normal', new THREE.Float32BufferAttribute(normals, 3))\n    this.addAttribute('color', new THREE.Float32BufferAttribute(colors, 3))\n    this.setIndex(new THREE.Uint32BufferAttribute(indices, 1))\n\n    this.positions = this.attributes.position.array\n    this.normals = this.attributes.normal.array\n    this.indices = this.index.array\n    this.colors = this.attributes.color.array\n\n    this.positionCount = 0\n    this.indexCount = 0\n    this.vertexCount = 0\n  }\n\n  setColor (iVertex, color) {\n    let iPosition = 3 * iVertex\n    this.colors[iPosition] = color.r\n    this.colors[iPosition + 1] = color.g\n    this.colors[iPosition + 2] = color.b\n  }\n\n  pushVertex (vertex) {\n    this.positions[this.positionCount] = vertex.x\n    this.positions[this.positionCount + 1] = vertex.y\n    this.positions[this.positionCount + 2] = vertex.z\n\n    this.positionCount += 3\n    this.vertexCount += 1\n  }\n\n  pushVerticesNormalsOfFace (v0, v1, v2, normalI, normalJ, normalK) {\n    this.pushVertex(v0)\n    this.pushVertex(v1)\n    this.pushVertex(v2)\n\n    let i = this.indexCount\n    this.indices[this.indexCount] = i\n    this.indices[this.indexCount + 1] = i + 1\n    this.indices[this.indexCount + 2] = i + 2\n\n    this.indexCount += 3\n\n    let j = i + 1\n    let k = i + 2\n\n    this.normals[i * 3] = normalI.x\n    this.normals[i * 3 + 1] = normalI.y\n    this.normals[i * 3 + 2] = normalI.z\n\n    this.normals[j * 3] = normalJ.x\n    this.normals[j * 3 + 1] = normalJ.y\n    this.normals[j * 3 + 2] = normalJ.z\n\n    this.normals[k * 3] = normalK.x\n    this.normals[k * 3 + 1] = normalK.y\n    this.normals[k * 3 + 2] = normalK.z\n  }\n\n  getVertex (iVertex) {\n    return v3.create(\n      this.positions[iVertex * 3],\n      this.positions[iVertex * 3 + 1],\n      this.positions[iVertex * 3 + 2]\n    )\n  }\n}\n\n/**\n * Takes a bunch of points and treats it as defining\n * a polygon, and raises it to a certain thickness.\n */\nclass BufferRaisedShapesGeometry extends THREE.BufferGeometry {\n  constructor (verticesList, colorList, thickness) {\n    super()\n\n    this.type = 'BufferRaisedShapesGeometry'\n\n    this.parameters = { verticesList, thickness, colorList }\n\n    this.nVertex = 0\n    this.nFace = 0\n\n    this.countVertexAndFacesOfPath()\n\n    this.setAttributes()\n\n    this.setPath()\n  }\n\n  countVertexAndFacesOfPath (front, back) {\n    this.nVertex = 0\n    this.nFace = 0\n\n    for (let vertices of this.parameters.verticesList) {\n      let nVertex = vertices.length\n      // top layer\n      this.nFace += nVertex - 2\n      // bottom layer\n      this.nFace += nVertex - 2\n      // side layers\n      this.nFace += 2 * nVertex\n    }\n\n    this.nVertex = 3 * this.nFace\n  }\n\n  setPath () {\n    for (let [i, vertices] of this.parameters.verticesList.entries()) {\n      let normal = threePointNormal(vertices.slice(0, 3))\n      let displacement = normal\n        .clone()\n        .multiplyScalar(this.parameters.thickness / 2)\n      let color = this.parameters.colorList[i]\n\n      let nVertex = vertices.length\n      let iLast = nVertex - 1\n\n      let topVertices = []\n      for (let i = 0; i < vertices.length; i += 1) {\n        topVertices.push(vertices[i].clone().add(displacement))\n      }\n\n      let bottomVertices = []\n      for (let i = 0; i < vertices.length; i += 1) {\n        bottomVertices.push(vertices[i].clone().sub(displacement))\n      }\n\n      for (let i = 0; i < nVertex - 2; i += 1) {\n        this.pushVerticesOfFace(\n          topVertices[i],\n          topVertices[i + 1],\n          topVertices[iLast],\n          color\n        )\n      }\n\n      for (let i = 0; i < nVertex - 2; i += 1) {\n        this.pushVerticesOfFace(\n          bottomVertices[i],\n          bottomVertices[iLast],\n          bottomVertices[i + 1],\n          color\n        )\n      }\n\n      for (let i = 0; i < nVertex; i += 1) {\n        let j = i === nVertex - 1 ? 0 : i + 1\n        this.pushVerticesOfFace(\n          topVertices[i],\n          bottomVertices[i],\n          bottomVertices[j],\n          color\n        )\n        this.pushVerticesOfFace(\n          topVertices[i],\n          bottomVertices[j],\n          topVertices[j],\n          color\n        )\n      }\n    }\n\n    this.computeVertexNormals()\n  }\n\n  setColor (iVertex, color) {\n    let iPosition = 3 * iVertex\n    this.colors[iPosition] = color.r\n    this.colors[iPosition + 1] = color.g\n    this.colors[iPosition + 2] = color.b\n  }\n\n  recolor (newColorList) {\n    this.parameters.colorList = newColorList\n    let iVertexTotal = 0\n    for (let [iVertexSet, vertices] of this.parameters.verticesList.entries()) {\n      let color = this.parameters.colorList[iVertexSet]\n      let nVertex = vertices.length\n      let nVertexOfNucleotide = 6 * (nVertex - 2) + 6 * nVertex\n      for (let iVertex = 0; iVertex < nVertexOfNucleotide; iVertex += 1) {\n        this.setColor(iVertexTotal, color)\n        iVertexTotal += 1\n      }\n    }\n    this.attributes.color.needsUpdate = true\n  }\n\n  setAttributes () {\n    let positions = new Float32Array(this.nVertex * 3)\n    let normals = new Float32Array(this.nVertex * 3)\n    let indices = new Int32Array(this.nFace * 3)\n    let colors = new Float32Array(this.nVertex * 3)\n\n    this.addAttribute(\n      'position',\n      new THREE.Float32BufferAttribute(positions, 3)\n    )\n    this.addAttribute('normal', new THREE.Float32BufferAttribute(normals, 3))\n    this.addAttribute('color', new THREE.Float32BufferAttribute(colors, 3))\n    this.setIndex(new THREE.Uint32BufferAttribute(indices, 1))\n\n    this.positions = this.attributes.position.array\n    this.normals = this.attributes.normal.array\n    this.indices = this.index.array\n    this.colors = this.attributes.color.array\n\n    this.positionCount = 0\n    this.indexCount = 0\n    this.vertexCount = 0\n  }\n\n  pushVertex (vertex, color) {\n    this.positions[this.positionCount] = vertex.x\n    this.positions[this.positionCount + 1] = vertex.y\n    this.positions[this.positionCount + 2] = vertex.z\n\n    this.colors[this.positionCount] = color.r\n    this.colors[this.positionCount + 1] = color.g\n    this.colors[this.positionCount + 2] = color.b\n\n    this.positionCount += 3\n    this.vertexCount += 1\n  }\n\n  pushVerticesOfFace (v0, v1, v2, color) {\n    this.pushVertex(v0, color)\n    this.pushVertex(v1, color)\n    this.pushVertex(v2, color)\n\n    let i = this.indexCount\n    this.indices[this.indexCount] = i\n    this.indices[this.indexCount + 1] = i + 1\n    this.indices[this.indexCount + 2] = i + 2\n\n    this.indexCount += 3\n  }\n\n  getVertex (iVertex) {\n    return v3.create(\n      this.positions[iVertex * 3],\n      this.positions[iVertex * 3 + 1],\n      this.positions[iVertex * 3 + 2]\n    )\n  }\n}\n\n/**\n * Creates a unit-based block arrow pointing in the -Z direction.\n * It can be reorientated using a lookAt() call\n */\nclass BlockArrowGeometry extends THREE.ExtrudeGeometry {\n  constructor () {\n    let shape = new THREE.Shape([\n      new THREE.Vector2(-0.25, -0.5),\n      new THREE.Vector2(0.0, +0.5),\n      new THREE.Vector2(+0.25, -0.5)\n    ])\n\n    let path = new THREE.CatmullRomCurve3([\n      v3.create(0, -0.2, 0),\n      v3.create(0, 0.2, 0)\n    ])\n\n    super(shape, {\n      steps: 2,\n      bevelEnabled: false,\n      extrudePath: path\n    })\n\n    this.type = 'BlockArrowGeometry'\n\n    this.applyMatrix(\n      new THREE.Matrix4().makeRotationFromEuler(\n        new THREE.Euler(0, Math.PI / 2, 0)\n      )\n    )\n  }\n}\n\n/**\n * Convenience function to set the visibility of a THREE\n * Object3D collection of meshes and other objects\n *\n * @param {THREE.Object3D} obj\n * @param {boolean} visibility\n */\nfunction setVisible (obj, visibility) {\n  if (_.isUndefined(obj)) {\n    return\n  }\n  obj.traverse(function (c) {\n    c.visible = visibility\n  })\n}\n\n/**\n * A generic cleaner for a THREE.Object3D collection,\n * where a custom 'dontDelete' field is used to\n * avoid deletion, and all other children are\n * disposed of correctly to reclaim memory\n *\n * @param {THREE.Object3D} obj\n */\nfunction clearObject3D (obj) {\n  let iLast = obj.children.length - 1\n  for (let i = iLast; i >= 0; i -= 1) {\n    let child = obj.children[i]\n    if (!_.isUndefined(child.dontDelete)) {\n      continue\n    }\n    if (!_.isUndefined(child.geometry)) {\n      child.geometry.dispose()\n    }\n    if (!_.isUndefined(child.material)) {\n      child.material.dispose()\n    }\n    obj.remove(child)\n  }\n}\n\nfunction perpVector (ref, vec) {\n  let vecAlongRef = ref.clone().multiplyScalar(vec.dot(ref))\n\n  return vec.clone().sub(vecAlongRef)\n}\n\nfunction threePointNormal (vertices) {\n  let cb = new THREE.Vector3()\n  let ab = new THREE.Vector3()\n\n  cb.subVectors(vertices[2], vertices[1])\n  ab.subVectors(vertices[0], vertices[1])\n  cb.cross(ab)\n\n  cb.normalize()\n\n  return cb\n}\n\nfunction getUnitVectorRotation (reference, target) {\n  return new THREE.Quaternion().setFromUnitVectors(reference, target)\n}\n\nfunction fraction (reference, target, f) {\n  return f * (target - reference) + reference\n}\n\nfunction getFractionRotation (rotation, t) {\n  let identity = new THREE.Quaternion()\n  return identity.slerp(rotation, t)\n}\n\n/**\n * Calculates the transform matrix for a SphereGeometry\n * to a given position and radius\n *\n * @param {THREE.Vector3} pos\n * @param {Number} radius\n * @returns {THREE.Matrix4}\n */\nfunction getSphereMatrix (pos, radius) {\n  let obj = new THREE.Object3D()\n  obj.matrix.identity()\n  obj.position.copy(pos)\n  obj.scale.set(radius, radius, radius)\n  obj.updateMatrix()\n  return obj.matrix\n}\n\nfunction makeBufferZCylinderGeometry (radius, radialSegments) {\n  if (_.isUndefined(radialSegments)) {\n    radialSegments = 4\n  }\n  let cylinderBufferGeometry = new THREE.CylinderBufferGeometry(\n    radius,\n    radius,\n    1,\n    radialSegments,\n    1,\n    false\n  )\n  cylinderBufferGeometry.applyMatrix(\n    new THREE.Matrix4().makeRotationFromEuler(\n      new THREE.Euler(Math.PI / 2, Math.PI, 0)\n    )\n  )\n  return cylinderBufferGeometry\n}\n\n/**\n * Calculates the transform matrix for a UnitCylinderGeometry\n * to orientate along the axis between the 'from' and 'to' vector\n *\n * @param {THREE.Vector3} from\n * @param {THREE.Vector3} to\n * @param {Number} radius\n * @returns {THREE.Matrix4}\n */\nfunction getCylinderMatrix (from, to, radius) {\n  let obj = new THREE.Object3D()\n  obj.scale.set(radius, radius, from.distanceTo(to))\n  obj.position\n    .copy(from)\n    .add(to)\n    .multiplyScalar(0.5)\n  obj.lookAt(to)\n  obj.updateMatrix()\n  return obj.matrix\n}\n\nfunction applyMatrix4toVector3array (matrix, vec3Array, iStart, iEnd) {\n  let elems = matrix.elements\n  for (let i = iStart; i < iEnd; i += 3) {\n    let x = vec3Array[i]\n    let y = vec3Array[i + 1]\n    let z = vec3Array[i + 2]\n    vec3Array[i] = elems[0] * x + elems[4] * y + elems[8] * z + elems[12]\n    vec3Array[i + 1] = elems[1] * x + elems[5] * y + elems[9] * z + elems[13]\n    vec3Array[i + 2] = elems[2] * x + elems[6] * y + elems[10] * z + elems[14]\n  }\n}\n\nfunction applyRotationOfMatrix4toVector3array (\n  matrix,\n  vec3Array,\n  iStart,\n  iEnd\n) {\n  let elems = matrix.elements\n  for (let i = iStart; i < iEnd; i += 3) {\n    let x = vec3Array[i]\n    let y = vec3Array[i + 1]\n    let z = vec3Array[i + 2]\n    vec3Array[i] = elems[0] * x + elems[4] * y + elems[8] * z\n    vec3Array[i + 1] = elems[1] * x + elems[5] * y + elems[9] * z\n    vec3Array[i + 2] = elems[2] * x + elems[6] * y + elems[10] * z\n  }\n}\n\nfunction expandFloatArray (refArray, nCopy) {\n  let nElem = refArray.length\n  let targetArray = new Float32Array(nElem * nCopy)\n  for (let iCopy = 0; iCopy < nCopy; iCopy += 1) {\n    let iStart = iCopy * nElem\n    for (let i = 0; i < nElem; i += 1) {\n      targetArray[iStart + i] = refArray[i]\n    }\n  }\n  return targetArray\n}\n\nfunction applyColorToVector3array (color, vec3Array, iStart, iEnd) {\n  for (let i = iStart; i < iEnd; i += 3) {\n    vec3Array[i] = color.r\n    vec3Array[i + 1] = color.g\n    vec3Array[i + 2] = color.b\n  }\n}\n\nfunction expandIndices (refArray, nCopy, nIndexInCopy) {\n  let nElem = refArray.length\n  let targetArray = new Uint32Array(nElem * nCopy)\n  for (let iCopy = 0; iCopy < nCopy; iCopy += 1) {\n    let iStart = iCopy * nElem\n    let indexOffset = iCopy * nIndexInCopy\n    for (let i = 0; i < nElem; i += 1) {\n      targetArray[iStart + i] = refArray[i] + indexOffset\n    }\n  }\n  return targetArray\n}\n\n/**\n * CopyBufferGeometry is designed to replicate multiple copies of\n * an existing BufferGeometry in one single assignment - thus\n * efficiently creating a large dataset\n */\nclass CopyBufferGeometry extends THREE.BufferGeometry {\n  constructor (copyBufferGeometry, nCopy) {\n    super()\n\n    this.type = 'CopyBufferGeometry'\n    this.parameters = {\n      nCopy: nCopy\n    }\n\n    this.refBufferGeometry = copyBufferGeometry\n\n    let positions = expandFloatArray(\n      copyBufferGeometry.attributes.position.array,\n      nCopy\n    )\n    this.addAttribute(\n      'position',\n      new THREE.Float32BufferAttribute(positions, 3)\n    )\n\n    let normals = expandFloatArray(\n      copyBufferGeometry.attributes.normal.array,\n      nCopy\n    )\n    this.addAttribute('normal', new THREE.Float32BufferAttribute(normals, 3))\n\n    let uvs = expandFloatArray(copyBufferGeometry.attributes.uv.array, nCopy)\n    this.addAttribute('uv', new THREE.Float32BufferAttribute(uvs, 2))\n\n    let nVertexInCopy = copyBufferGeometry.attributes.position.count\n\n    if ('index' in copyBufferGeometry) {\n      if (copyBufferGeometry.index) {\n        let indices = expandIndices(\n          copyBufferGeometry.index.array,\n          nCopy,\n          nVertexInCopy\n        )\n        this.setIndex(new THREE.Uint32BufferAttribute(indices, 1))\n      }\n    }\n\n    let colors = new Float32Array(nVertexInCopy * 3 * nCopy)\n    this.addAttribute('color', new THREE.Float32BufferAttribute(colors, 3))\n  }\n\n  applyMatrixToCopy (matrix, iCopy) {\n    let nElemRef = this.refBufferGeometry.attributes.position.array.length\n    let positions = this.attributes.position.array\n    let normals = this.attributes.normal.array\n    let iElemStart = iCopy * nElemRef\n    let iElemEnd = iElemStart + nElemRef\n    applyMatrix4toVector3array(matrix, positions, iElemStart, iElemEnd)\n    applyRotationOfMatrix4toVector3array(matrix, normals, iElemStart, iElemEnd)\n  }\n\n  applyColorToCopy (color, iCopy) {\n    let nElemRef = this.refBufferGeometry.attributes.position.array.length\n    let colors = this.attributes.color.array\n    let iElemStart = iCopy * nElemRef\n    let iElemEnd = iElemStart + nElemRef\n    applyColorToVector3array(color, colors, iElemStart, iElemEnd)\n  }\n}\n\nexport {\n  BlockArrowGeometry,\n  setVisible,\n  BufferRibbonGeometry,\n  BufferRaisedShapesGeometry,\n  getUnitVectorRotation,\n  getFractionRotation,\n  fraction,\n  makeBufferZCylinderGeometry,\n  clearObject3D,\n  Trace,\n  getSphereMatrix,\n  getCylinderMatrix,\n  CopyBufferGeometry,\n  applyMatrix4toVector3array,\n  applyRotationOfMatrix4toVector3array,\n  applyColorToVector3array\n}\n","import _ from 'lodash'\nimport v3 from './v3'\nimport { randomId, exists } from './util.js'\nimport * as glgeom from './glgeom'\nimport * as THREE from 'three'\n\n/**\n * View\n * ----\n * A view includes all pertinent viewing options\n * needed to render the soup in the way\n * for the user.\n *\n * cameraParams stores the direction and zoom that a soup\n * should be viewed:\n * cameraParams {\n *   focus: position that cameraParams is looking at\n *   position: position of cameraParams - distance away gives zoom\n *   up: vector direction denoting the up direction of cameraParams\n *   zFront: clipping plane in front of the cameraParams focus\n *   zBack: clipping plane behind the cameraParams focus\n * }\n *\n * OpenGL notes:\n *   - box is -1 to 1 that gets projected on screen + perspective\n *   - x right -> left\n *   - y bottom -> top (inverse of classic 2D coordinate)\n *   - z far -> near\n *   - that is positive Z direction is out of the screen\n *   - box -1 to +1\n */\nclass View {\n  constructor () {\n    this.id = 'view:000000'\n    this.iAtom = -1\n    this.order = 1\n    this.cameraParams = {\n      focus: v3.create(0, 0, 0),\n      position: v3.create(0, 0, -1),\n      up: v3.create(0, 1, 0),\n      zFront: 0,\n      zBack: 0,\n      zoom: 1\n    }\n    this.selected = []\n    this.labels = []\n    this.distances = []\n    this.selectedTraces = []\n    this.text = 'Default view of PDB file'\n    this.userId = ''\n    this.pdbId = ''\n    this.show = {\n      sidechain: true,\n      peptide: true,\n      hydrogen: false,\n      water: false,\n      ligands: true,\n      trace: true,\n      backbone: false,\n      ribbon: true,\n      sphere: false,\n      transparent: false\n    }\n    this.grid = {\n      isElem: {},\n      bCutoff: null,\n      isChanged: false\n    }\n    this.lock = false\n    this.creator = 'public'\n  }\n\n  setCamera (cameraParams) {\n    this.cameraParams = cameraParams\n  }\n\n  getViewTranslatedTo (pos) {\n    let view = this.clone()\n    let disp = pos.clone().sub(view.cameraParams.focus)\n    view.cameraParams.focus.copy(pos)\n    view.cameraParams.position.add(disp)\n    return view\n  }\n\n  clone () {\n    let v = new View()\n    v.id = this.id\n    v.pdbId = this.pdbId\n    v.iAtom = this.iAtom\n    v.selected = this.selected\n    v.selectedTraces = _.cloneDeep(this.selectedTraces)\n    v.labels = _.cloneDeep(this.labels)\n    v.distances = _.cloneDeep(this.distances)\n    v.order = this.order\n    v.text = this.text\n    v.time = this.time\n    v.cameraParams = _.cloneDeep(this.cameraParams)\n    v.show = _.cloneDeep(this.show)\n    v.grid = _.cloneDeep(this.grid)\n    v.lock = this.lock\n    v.creator = this.creator\n    return v\n  }\n\n  getDict () {\n    // version 2.0 camera dict structure {\n    //    pos: soupView center, cameraParams focus\n    //    up: gives the direction of the y vector from pos\n    //    in: gives the positive z-axis direction\n    //    zFront: clipping plane in front of the cameraParams focus\n    //    zBack: clipping plane behind the cameraParams focus\n    // }\n    let cameraDir = this.cameraParams.focus\n      .clone()\n      .sub(this.cameraParams.position)\n    let zoom = cameraDir.length()\n    cameraDir.normalize()\n    let pos = this.cameraParams.focus\n    let inV = pos.clone().add(cameraDir)\n    let upV = pos.clone().sub(this.cameraParams.up)\n\n    let show = _.clone(this.show)\n    show.all_atom = show.backbone\n    delete show.backbone\n\n    return {\n      version: 2,\n      view_id: this.id,\n      user_id: this.userId,\n      pdb_id: this.pdbId,\n      order: this.order,\n      show: show,\n      grid: _.cloneDeep(this.grid),\n      text: this.text,\n      i_atom: this.iAtom,\n      labels: this.labels,\n      selected: this.selected,\n      selected_traces: this.selectedTraces,\n      distances: this.distances,\n      camera: {\n        slab: {\n          z_front: this.cameraParams.zFront,\n          z_back: this.cameraParams.zBack,\n          zoom: zoom\n        },\n        pos: [pos.x, pos.y, pos.z],\n        up: [upV.x, upV.y, upV.z],\n        in: [inV.x, inV.y, inV.z]\n      },\n      lock: this.lock,\n      creator: this.creator\n    }\n  }\n\n  setFromDict (flatDict) {\n    this.id = flatDict.view_id\n    this.pdbId = flatDict.pdb_id\n    this.lock = flatDict.lock\n    this.creator = flatDict.creator\n    this.text = flatDict.text\n    this.userId = flatDict.user_id\n    this.order = flatDict.order\n    this.resId = flatDict.resId\n    this.iAtom = flatDict.i_atom\n\n    this.labels = flatDict.labels\n    this.selected = flatDict.selected\n    this.distances = flatDict.distances\n\n    for (let key of _.keys(flatDict.show)) {\n      if (key in this.show) {\n        this.show[key] = !!flatDict.show[key]\n      }\n      if (key === 'all_atom') {\n        this.show.backbone = !!flatDict.show.all_atom\n      }\n    }\n\n    if (!(this.show.backbone || this.show.trace || this.show.ribbon)) {\n      this.show.ribbon = true\n    }\n\n    if (!(this.show.all_atom || this.show.trace || this.show.ribbon)) {\n      this.show.backbone = true\n    }\n\n    if ('grid' in flatDict) {\n      this.grid = flatDict.grid\n    }\n\n    if ('selected_traces' in flatDict) {\n      this.selectedTraces = _.cloneDeep(flatDict['selected_traces'])\n    }\n\n    let pos = v3.create(\n      flatDict.camera.pos[0],\n      flatDict.camera.pos[1],\n      flatDict.camera.pos[2]\n    )\n\n    let upV = v3.create(\n      flatDict.camera.up[0],\n      flatDict.camera.up[1],\n      flatDict.camera.up[2]\n    )\n\n    let inV = v3.create(\n      flatDict.camera.in[0],\n      flatDict.camera.in[1],\n      flatDict.camera.in[2]\n    )\n\n    let zoom = flatDict.camera.slab.zoom\n\n    let focus = v3.clone(pos)\n\n    let cameraDirection = v3\n      .clone(inV)\n      .sub(focus)\n      .multiplyScalar(zoom)\n      .negate()\n\n    let position = v3.clone(focus).add(cameraDirection)\n\n    let up = v3\n      .clone(upV)\n      .sub(focus)\n      .negate()\n\n    this.cameraParams = {\n      focus: focus,\n      position: position,\n      up: up,\n      zFront: flatDict.camera.slab.z_front,\n      zBack: flatDict.camera.slab.z_back,\n      zoom: zoom\n    }\n  }\n}\n\nfunction interpolateCameras (oldCamera, futureCamera, fraction) {\n  let oldCameraDirection = oldCamera.position.clone().sub(oldCamera.focus)\n  let oldZoom = oldCameraDirection.length()\n  oldCameraDirection.normalize()\n\n  let futureCameraDirection = futureCamera.position\n    .clone()\n    .sub(futureCamera.focus)\n\n  let futureZoom = futureCameraDirection.length()\n  futureCameraDirection.normalize()\n\n  let cameraDirRotation = glgeom.getUnitVectorRotation(\n    oldCameraDirection,\n    futureCameraDirection\n  )\n\n  let partialRotatedCameraUp = oldCamera.up\n    .clone()\n    .applyQuaternion(cameraDirRotation)\n\n  let fullCameraUpRotation = glgeom\n    .getUnitVectorRotation(partialRotatedCameraUp, futureCamera.up)\n    .multiply(cameraDirRotation)\n  let cameraUpRotation = glgeom.getFractionRotation(\n    fullCameraUpRotation,\n    fraction\n  )\n\n  let focusDisp = futureCamera.focus\n    .clone()\n    .sub(oldCamera.focus)\n    .multiplyScalar(fraction)\n\n  let focus = oldCamera.focus.clone().add(focusDisp)\n\n  let zoom = glgeom.fraction(oldZoom, futureZoom, fraction)\n\n  let focusToPosition = oldCameraDirection\n    .clone()\n    .applyQuaternion(cameraUpRotation)\n    .multiplyScalar(zoom)\n\n  return {\n    focus: focus,\n    position: focus.clone().add(focusToPosition),\n    up: oldCamera.up.clone().applyQuaternion(cameraUpRotation),\n    zFront: glgeom.fraction(oldCamera.zFront, futureCamera.zFront, fraction),\n    zBack: glgeom.fraction(oldCamera.zBack, futureCamera.zBack, fraction),\n    zoom: zoom\n  }\n}\n\n/**\n * The SoupView contains a soup and a list of\n * views of the soup, including the current\n * view, and a target view for animation\n */\nclass SoupView {\n  constructor (soup) {\n    // the soup data for the soupView\n    this.soup = soup\n\n    this.isChanged = true\n\n    // indicates when sidechains need to be rebuilt\n    this.isUpdateSidechain = false\n\n    // indicates when colors need to be updated\n    this.isUpdateColors = false\n\n    // delayed flag to change rendering after\n    // rotations have been done\n    this.isStartTargetAfterRender = false\n\n    // indicates when decorators/widgets need to be redrawn\n    this.isUpdateObservers = true\n\n    // stores the current cameraParams, display\n    // options, distances, labels, selected\n    // residues\n    this.currentView = new View()\n\n    // stores other views that can be reloaded\n    this.savedViewsByViewId = {}\n    this.savedViews = []\n    this.iLastViewSelected = 0\n\n    // Animation variables store here so\n    // that Controller can get access to them\n\n    // the current animation state -\n    // 'none', 'loop', 'rock', 'rotate'\n    this.animateState = 'none'\n\n    // stores a target view for animation\n    this.targetView = null\n\n    // timing counter that is continually decremented\n    // until it becomes negative\n    this.nUpdateStep = -1\n\n    // this is to set the time between transitions of views\n    this.maxUpdateStep = 70\n    this.msPerStep = 17\n\n    this.mode = 'normal' // or 'chain'\n  }\n\n  build () {\n    if (this.savedViews.length === 0 && !this.soup.isEmpty()) {\n      this.setCurrentViewToDefaultAndSave()\n    }\n    this.saveGridToCurrentView()\n  }\n\n  getMode () {\n    return this.mode\n  }\n\n  setMode (mode) {\n    this.mode = mode\n  }\n\n  saveGridToCurrentView () {\n    for (let elem in this.soup.grid.isElem) {\n      if (elem in this.soup.grid.isElem) {\n        this.currentView.grid.isElem[elem] = this.soup.grid.isElem[elem]\n      }\n    }\n    if (exists(this.soup.grid.bCutoff)) {\n      this.currentView.grid.bCutoff = this.soup.grid.bCutoff\n    }\n  }\n\n  setCurrentViewToDefaultAndSave () {\n    this.currentView.show.sidechain = false\n    this.currentView.order = 0\n    this.currentView.text = this.soup.title\n    this.currentView.pdbId = this.soup.structureIds[0]\n    this.currentView = this.getZoomedOutViewOfCurrentView()\n    this.saveView(this.currentView)\n    this.isChanged = true\n  }\n\n  setTargetView (view) {\n    this.isStartTargetAfterRender = true\n    this.saveTargetView = view.clone()\n    this.saveTargetView.iAtom = this.soup.getIAtomAtPosition(\n      view.cameraParams.focus\n    )\n  }\n\n  startTargetView () {\n    this.targetView = this.saveTargetView\n    this.saveTargetView = null\n    this.isUpdateObservers = true\n    this.isStartTargetAfterRender = false\n    this.isChanged = true\n  }\n\n  getICenteredAtom () {\n    return this.currentView.iAtom\n  }\n\n  getIViewFromViewId (viewId) {\n    for (let iView = 0; iView < this.savedViews.length; iView += 1) {\n      if (this.savedViews[iView].id === viewId) {\n        return iView\n      }\n    }\n    return -1\n  }\n\n  insertView (iView, newViewId, newView) {\n    this.savedViewsByViewId[newViewId] = newView\n    if (iView >= this.savedViews.length) {\n      this.savedViews.push(newView)\n    } else {\n      this.savedViews.splice(iView, 0, newView)\n    }\n    this.iLastViewSelected = iView\n    for (let i = 0; i < this.savedViews.length; i++) {\n      this.savedViews[i].order = i\n    }\n  }\n\n  removeView (viewId) {\n    let iView = this.getIViewFromViewId(viewId)\n    if (iView < 0) {\n      return\n    }\n    this.savedViews.splice(iView, 1)\n    delete this.savedViewsByViewId[viewId]\n    for (let j = 0; j < this.savedViews.length; j++) {\n      this.savedViews[j].order = j\n    }\n    if (this.iLastViewSelected >= this.savedViews.length) {\n      this.iLastViewSelected = this.savedViews.length - 1\n    }\n    this.isChanged = true\n  }\n\n  saveView (view) {\n    this.savedViewsByViewId[view.id] = view\n    this.savedViews.push(view)\n  }\n\n  getZoomedOutViewOf (atomIndices) {\n    let maxLength = this.soup.calcMaxLength()\n\n    let newView = this.currentView.clone()\n\n    if (maxLength === 0) {\n      return newView\n    }\n\n    let cameraParams = newView.cameraParams\n\n    cameraParams.zFront = -maxLength / 2\n    cameraParams.zBack = maxLength / 2\n    cameraParams.zoom = Math.abs(maxLength) * 1.75\n\n    let center = this.soup.getCenter(atomIndices)\n\n    let look = cameraParams.position\n      .clone()\n      .sub(cameraParams.focus)\n      .normalize()\n    cameraParams.focus.copy(center)\n    cameraParams.position = cameraParams.focus\n      .clone()\n      .add(look.multiplyScalar(cameraParams.zoom))\n\n    newView.iAtom = this.soup.getIAtomAtPosition(center)\n\n    newView.selectedTraces.length = 0\n\n    return newView\n  }\n\n  getZoomedOutViewOfCurrentView () {\n    let atomIndices = _.range(this.soup.getAtomCount())\n    return this.getZoomedOutViewOf(atomIndices)\n  }\n\n  setTargetViewByViewId (viewId) {\n    let view = this.savedViewsByViewId[viewId]\n    this.iLastViewSelected = this.savedViewsByViewId[viewId].order\n    this.setTargetView(view)\n  }\n\n  getTracesOfChainContainingResidue (iRes) {\n    let result = []\n    let residue = this.soup.getResidueProxy(iRes)\n    let chain = residue.chain\n    let iStructure = residue.iStructure\n    for (let [iTrace, trace] of this.soup.traces.entries()) {\n      residue.load(trace.indices[0])\n      if (residue.chain === chain && residue.iStructure === iStructure) {\n        result.push(iTrace)\n      }\n    }\n    return result\n  }\n\n  setTargetViewByIAtom (iAtom) {\n    let atom = this.soup.getAtomProxy(iAtom)\n    let view = this.currentView.getViewTranslatedTo(atom.pos)\n    view.iAtom = this.soup.getIAtomAtPosition(view.cameraParams.focus)\n    view.selectedTraces = this.getTracesOfChainContainingResidue(atom.iRes)\n    this.setTargetView(view)\n  }\n\n  getZoomedOutViewOfSelection () {\n    let newView = this.currentView.clone()\n\n    let atomIndices = []\n    let residue = this.soup.getResidueProxy()\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      residue.load(iRes)\n      if (residue.selected) {\n        atomIndices.push(residue.iAtom)\n      }\n    }\n    let center = this.soup.getCenter(atomIndices)\n    let maxLength = this.soup.calcMaxLength(atomIndices)\n\n    if (maxLength === 0) {\n      return newView\n    }\n\n    let cameraParams = newView.cameraParams\n\n    cameraParams.zFront = -maxLength / 2\n    cameraParams.zBack = maxLength / 2\n    cameraParams.zoom = Math.abs(maxLength) * 1.2\n\n    let look = cameraParams.position\n      .clone()\n      .sub(cameraParams.focus)\n      .normalize()\n    cameraParams.focus.copy(center)\n    cameraParams.position = cameraParams.focus\n      .clone()\n      .add(look.multiplyScalar(cameraParams.zoom))\n\n    newView.iAtom = this.soup.getIAtomAtPosition(center)\n    return newView\n  }\n\n  saveCurrentView () {\n    let newView = this.currentView.clone()\n    newView.id = randomId()\n    newView.text = 'Click edit to change this text.'\n    newView.pdbId = this.soup.structureIds[0]\n    newView.selected = this.soup.makeSelectedResidueList()\n    newView.selectedTraces = _.cloneDeep(this.soup.selectedTraces)\n\n    let iNewView = this.iLastViewSelected + 1\n    this.insertView(iNewView, newView.id, newView)\n    this.setTargetViewByViewId(newView.id)\n    this.isChanged = true\n    this.isUpdateColors = true\n    console.log('Soupview.saveCurrentView', newView)\n\n    return newView.id\n  }\n\n  setCurrentView (view) {\n    let oldViewSelected = this.currentView.selected\n    this.currentView = view.clone()\n    this.soup.selectedTraces = _.cloneDeep(view.selectedTraces)\n    if (!_.isEqual(oldViewSelected.sort(), view.selected.sort())) {\n      this.soup.clearSidechainResidues()\n      this.soup.setSidechainOfResidues(view.selected, true)\n      this.isUpdateSidechain = true\n    }\n\n    // use view.grid parameters to reset soup.grid\n    for (let elem in view.grid.isElem) {\n      if (elem in this.soup.grid.isElem) {\n        if (view.grid.isElem[elem] !== this.soup.grid.isElem[elem]) {\n          this.soup.grid.isElem[elem] = view.grid.isElem[elem]\n          this.isUpdateObservers = true\n          this.soup.grid.isChanged = true\n        }\n      }\n    }\n    if (!_.isNil(view.grid.bCutoff)) {\n      if (this.soup.grid.bCutoff !== view.grid.bCutoff) {\n        this.soup.grid.bCutoff = view.grid.bCutoff\n        this.isUpdateObservers = true\n        this.soup.grid.isChanged = true\n      }\n    }\n\n    this.isChanged = true\n  }\n\n  setTargetToPrevView () {\n    if (this.savedViews.length === 0) {\n      return ''\n    }\n    this.iLastViewSelected -= 1\n    if (this.iLastViewSelected < 0) {\n      this.iLastViewSelected = this.savedViews.length - 1\n    }\n    let id = this.savedViews[this.iLastViewSelected].id\n    this.setTargetViewByViewId(id)\n    return id\n  }\n\n  setTargetToNextView () {\n    if (this.savedViews.length === 0) {\n      return ''\n    }\n    this.iLastViewSelected += 1\n    if (this.iLastViewSelected >= this.savedViews.length) {\n      this.iLastViewSelected = 0\n    }\n    let id = this.savedViews[this.iLastViewSelected].id\n    this.setTargetViewByViewId(id)\n    return id\n  }\n\n  setTargetToPrevResidue () {\n    let iAtom = _.get(this.targetView, 'iAtom')\n    if (exists(iAtom)) {\n      iAtom = this.targetView.iAtom\n    } else {\n      iAtom = this.currentView.iAtom\n    }\n    if (iAtom < 0) {\n      iAtom = 0\n    }\n    let iRes = this.soup.getAtomProxy(iAtom).iRes\n    if (iRes <= 0) {\n      iRes = this.soup.getResidueCount() - 1\n    } else {\n      iRes -= 1\n    }\n    iAtom = this.soup.getResidueProxy(iRes).iAtom\n    this.setTargetViewByIAtom(iAtom)\n  }\n\n  setTargetToNextResidue () {\n    let iAtom = _.get(this.targetView, 'iAtom')\n    if (exists(iAtom)) {\n      iAtom = this.targetView.iAtom\n    } else {\n      iAtom = this.currentView.iAtom\n    }\n    if (iAtom < 0) {\n      iAtom = 0\n    }\n    let iRes = this.soup.getAtomProxy(iAtom).iRes\n    if (iRes >= this.soup.getResidueCount() - 1) {\n      iRes = 0\n    } else {\n      iRes += 1\n    }\n    iAtom = this.soup.getResidueProxy(iRes).iAtom\n    this.setTargetViewByIAtom(iAtom)\n  }\n\n  adjustCamera (xRotationAngle, yRotationAngle, zRotationAngle, zoomRatio) {\n    let cameraParams = this.currentView.cameraParams\n\n    let y = cameraParams.up\n    let z = cameraParams.position\n      .clone()\n      .sub(cameraParams.focus)\n      .normalize()\n    let x = v3\n      .create()\n      .crossVectors(y, z)\n      .normalize()\n\n    let rotZ = new THREE.Quaternion().setFromAxisAngle(z, zRotationAngle)\n\n    let rotY = new THREE.Quaternion().setFromAxisAngle(y, -yRotationAngle)\n\n    let rotX = new THREE.Quaternion().setFromAxisAngle(x, -xRotationAngle)\n\n    let rotation = new THREE.Quaternion()\n      .multiply(rotZ)\n      .multiply(rotY)\n      .multiply(rotX)\n\n    let newZoom = zoomRatio * cameraParams.zoom\n    if (newZoom < 2) {\n      newZoom = 2\n    }\n    if (newZoom > 1000) {\n      newZoom = 1000\n    }\n\n    let position = cameraParams.position\n      .clone()\n      .sub(cameraParams.focus)\n      .applyQuaternion(rotation)\n      .normalize()\n      .multiplyScalar(newZoom)\n      .add(cameraParams.focus)\n\n    let view = this.currentView.clone()\n    view.cameraParams.focus = cameraParams.focus.clone()\n    view.cameraParams.position = position\n    view.cameraParams.up = cameraParams.up.clone().applyQuaternion(rotation)\n    view.cameraParams.zoom = newZoom\n\n    this.setCurrentView(view)\n  }\n\n  setCurrentViewToTargetView () {\n    this.setCurrentView(this.targetView)\n    if (this.getMode() === 'chain') {\n      this.currentView.show.transparent = true\n    }\n    this.targetView = null\n    this.isUpdateColors = true\n    this.isUpdateObservers = true\n    this.isChanged = true\n    this.targetView = null\n  }\n\n  /**\n   * Function that goes from lowY to highY and back down to lowY in\n   * a sinusoidal form between 0 and maxTime\n   *\n   * @param time\n   * @param maxTime\n   * @param highY\n   * @param lowY\n   * @returns {*}\n   */\n  scalingFunction (time, maxTime, highY, lowY) {\n    return (\n      ((highY - lowY) / 2) *\n        (Math.sin(((2 * Math.PI) / maxTime) * time - (1 / 2) * Math.PI) + 1) +\n      lowY\n    )\n  }\n\n  animate (elapsedTime) {\n    this.nUpdateStep -= elapsedTime / this.msPerStep\n    if (this.nUpdateStep < 0) {\n      if (this.targetView !== null) {\n        this.setCurrentViewToTargetView()\n        this.nUpdateStep = this.maxUpdateStep\n      } else {\n        if (this.isStartTargetAfterRender) {\n          this.isChanged = true\n        } else if (this.animateState === 'loop') {\n          if (this.nUpdateStep < -this.maxWaitStep) {\n            this.setTargetToNextView()\n          }\n        } else if (this.animateState === 'rotate') {\n          this.adjustCamera(0.0, 0.002, 0, 1)\n        } else if (this.animateState === 'rock') {\n          let nStepRock = 18\n          let scale = this.scalingFunction(\n            -this.nUpdateStep - nStepRock,\n            2 * nStepRock,\n            4,\n            1\n          )\n          let dAng = 0.001\n          let ang = dAng * scale\n          if (this.nUpdateStep > -nStepRock) {\n            this.adjustCamera(0.0, ang, 0, 1)\n          } else if (this.nUpdateStep > -3 * nStepRock) {\n            this.adjustCamera(0.0, -ang, 0, 1)\n          } else if (this.nUpdateStep > -4 * nStepRock) {\n            this.adjustCamera(0.0, +ang, 0, 1)\n          } else {\n            this.nUpdateStep = 0\n          }\n        }\n      }\n    } else if (this.nUpdateStep > 0) {\n      if (this.targetView != null) {\n        let view = this.currentView.clone()\n        let nStepToGo = this.nUpdateStep\n        let scale = this.scalingFunction(nStepToGo, this.maxUpdateStep, 4, 1)\n        let fraction = (1.0 / nStepToGo) * scale\n        if (fraction > 1) {\n          fraction = 1\n        }\n        view.setCamera(\n          interpolateCameras(\n            this.currentView.cameraParams,\n            this.targetView.cameraParams,\n            fraction\n          )\n        )\n        this.setCurrentView(view)\n      }\n    }\n  }\n}\n\n/**\n * The Controller for SoupView. All mutations\n * to a Soup and its Views go through here.\n */\nclass SoupViewController {\n  constructor (soupView) {\n    this.soup = soupView.soup\n    this.soupView = soupView\n    this.iResLastSelected = null\n  }\n\n  deleteDistance (iDistance) {\n    this.soupView.currentView.distances.splice(iDistance, 1)\n    this.soupView.isChanged = true\n  }\n\n  makeDistance (iAtom1, iAtom2) {\n    this.soupView.currentView.distances.push({\n      i_atom1: iAtom1,\n      i_atom2: iAtom2\n    })\n    this.soupView.isChanged = true\n  }\n\n  makeAtomLabel (iAtom, text) {\n    this.soupView.currentView.labels.push({ i_atom: iAtom, text })\n    this.soupView.isChanged = true\n  }\n\n  deleteAtomLabel (iLabel) {\n    this.soupView.currentView.labels.splice(iLabel, 1)\n    this.soupView.isChanged = true\n  }\n\n  setTargetView (view) {\n    this.soupView.setTargetView(view)\n  }\n\n  setTargetViewByViewId (viewId) {\n    this.soupView.setTargetViewByViewId(viewId)\n  }\n\n  setTargetViewByIAtom (iAtom) {\n    this.soupView.setTargetViewByIAtom(iAtom)\n  }\n\n  setTargetToPrevResidue () {\n    let iResFirst = null\n    let residue = this.soup.getResidueProxy()\n    for (let iRes = 0; iRes < this.soup.getResidueCount(); iRes += 1) {\n      if (residue.load(iRes).selected) {\n        iResFirst = iRes\n        break\n      }\n    }\n    if (iResFirst !== null) {\n      if (iResFirst > 0) {\n        iResFirst -= 1\n      } else {\n        iResFirst = this.soup.getResidueCount - 1\n      }\n      residue.load(iResFirst)\n      this.clearSelectedResidues()\n      this.setTargetViewByIAtom(residue.iAtom)\n    } else {\n      this.soupView.setTargetToPrevResidue()\n    }\n  }\n\n  setTargetToNextResidue () {\n    let iResLast = null\n    let residue = this.soup.getResidueProxy()\n    let nRes = this.soup.getResidueCount()\n    for (let iRes = nRes - 1; iRes > 0; iRes -= 1) {\n      if (residue.load(iRes).selected) {\n        iResLast = iRes\n        break\n      }\n    }\n    if (iResLast !== null) {\n      if (iResLast < nRes - 1) {\n        iResLast += 1\n      } else {\n        iResLast = 0\n      }\n      residue.load(iResLast)\n      this.clearSelectedResidues()\n      this.setTargetViewByIAtom(residue.iAtom)\n    } else {\n      this.soupView.setTargetToNextResidue()\n    }\n  }\n\n  selectPrevResidue (isClear = true) {\n    let iResFirst = null\n    let residue = this.soup.getResidueProxy()\n    for (let iRes = 0; iRes < this.soup.getResidueCount(); iRes += 1) {\n      if (residue.load(iRes).selected) {\n        iResFirst = iRes\n        break\n      }\n    }\n    if (iResFirst !== null) {\n      if (iResFirst > 0) {\n        iResFirst -= 1\n      } else {\n        iResFirst = this.soup.getResidueCount - 1\n      }\n      if (isClear) {\n        this.clearSelectedResidues()\n      }\n      this.selectResidue(iResFirst, true)\n    } else {\n      if (isClear) {\n        this.clearSelectedResidues()\n      }\n      let iResSelect = null\n      for (let iRes = this.soup.getResidueCount() - 1; iRes >= 0; iRes -= 1) {\n        if (residue.load(iRes).isPolymer) {\n          iResSelect = iRes\n          break\n        }\n      }\n      this.selectResidue(iResSelect, true)\n    }\n    this.soupView.isUpdateSidechain = true\n    this.soupView.isChanged = true\n  }\n\n  selectNextResidue (isClear = true) {\n    let iResLast = null\n    let residue = this.soup.getResidueProxy()\n    let nRes = this.soup.getResidueCount()\n    for (let iRes = nRes - 1; iRes >= 0; iRes -= 1) {\n      if (residue.load(iRes).selected) {\n        iResLast = iRes\n        break\n      }\n    }\n    console.log('Contreoller.selectNextResidue', iResLast, isClear)\n    if (iResLast !== null) {\n      if (iResLast < nRes - 1) {\n        iResLast += 1\n      } else {\n        iResLast = 0\n      }\n      if (isClear) {\n        this.clearSelectedResidues()\n      }\n      this.selectResidue(iResLast, true)\n    } else {\n      this.clearSelectedResidues()\n      let iResSelect = null\n      for (let iRes = 0; iRes < nRes - 1; iRes += 1) {\n        if (residue.load(iRes).isPolymer) {\n          iResSelect = iRes\n          break\n        }\n      }\n      this.selectResidue(iResSelect, true)\n    }\n    this.soupView.isUpdateSidechain = true\n    this.soupView.isChanged = true\n  }\n\n  setTargetToPrevView () {\n    return this.soupView.setTargetToPrevView()\n  }\n\n  setTargetToNextView () {\n    return this.soupView.setTargetToNextView()\n  }\n\n  swapViews (i, j) {\n    this.soupView.savedViews[j].order = i\n    this.soupView.savedViews[i].order = j\n    let dummy = this.soupView.savedViews[j]\n    this.soupView.savedViews[j] = this.soupView.savedViews[i]\n    this.soupView.savedViews[i] = dummy\n  }\n\n  getViewDicts () {\n    let viewDicts = []\n    for (let i = 1; i < this.soupView.savedViews.length; i += 1) {\n      viewDicts.push(this.soupView.savedViews[i].getDict())\n    }\n    return viewDicts\n  }\n\n  clearSidechainResidues () {\n    this.soup.clearSidechainResidues()\n    this.soupView.currentView.selected = this.soup.makeSelectedResidueList()\n    this.soupView.isUpdateSidechain = true\n    this.soupView.isChanged = true\n  }\n\n  clearSelectedResidues () {\n    this.soup.clearSelectedResidues()\n    this.soupView.currentView.selected = this.soup.makeSelectedResidueList()\n    this.soupView.isUpdateColors = true\n    this.soupView.isChanged = true\n  }\n\n  setResidueSelect (iRes, val) {\n    let res = this.soup.getResidueProxy(iRes)\n    res.selected = val\n    this.soupView.isUpdateColors = true\n    this.soupView.isChanged = true\n  }\n\n  showAllSidechains () {\n    let res = this.soup.getResidueProxy()\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      res.load(iRes).sidechain = true\n    }\n    this.soupView.isUpdateSidechain = true\n    this.soupView.isChanged = true\n  }\n\n  selectResidue (iRes, val) {\n    let res = this.soup.getResidueProxy(iRes)\n    if (_.isUndefined(val)) {\n      val = !res.selected\n    }\n    // this.clearSelectedResidues()\n    this.setResidueSelect(iRes, val)\n    this.iResLastSelected = val ? iRes : null\n    this.soupView.isUpdateColors = true\n    this.soupView.isChanged = true\n  }\n\n  selectAllSidechains (val) {\n    for (let iRes = 0; iRes < this.soup.getResidueCount(); iRes += 1) {\n      this.setResidueSelect(iRes, val)\n    }\n    this.iResLastSelected = null\n    this.soupView.isUpdateColors = true\n    this.soupView.isChanged = true\n  }\n\n  selectAdditionalResidue (iRes) {\n    let res = this.soup.getResidueProxy(iRes)\n    let val = !res.selected\n    this.setResidueSelect(iRes, val)\n    this.iResLastSelected = val ? iRes : null\n    this.soupView.isUpdateColors = true\n    this.soupView.isChanged = true\n  }\n\n  selectAdditionalRangeToResidue (iRes) {\n    let res = this.soup.getResidueProxy(iRes)\n    let val = !res.selected\n    if (this.iResLastSelected !== null) {\n      let lastRes = this.soup.getResidueProxy(this.iResLastSelected)\n      if (res.iStructure === lastRes.iStructure) {\n        let iFirstRes = Math.min(this.iResLastSelected, iRes)\n        let iLastRes = Math.max(this.iResLastSelected, iRes)\n        for (let i = iFirstRes; i < iLastRes + 1; i += 1) {\n          this.setResidueSelect(i, true)\n        }\n      }\n    }\n    this.iResLastSelected = val ? iRes : null\n    this.soupView.isUpdateColors = true\n    this.soupView.isChanged = true\n  }\n\n  getResListOfSs (iCenterRes) {\n    let res = this.soup.getResidueProxy(iCenterRes)\n    let ss = res.ss\n    let nRes = this.soup.getResidueCount()\n    let result = []\n    for (let iRes = iCenterRes; iRes >= 0; iRes -= 1) {\n      res.load(iRes)\n      if (res.ss !== ss) {\n        break\n      }\n      result.push(iRes)\n    }\n    for (let iRes = iCenterRes + 1; iRes < nRes; iRes += 1) {\n      res.load(iRes)\n      if (res.ss !== ss) {\n        break\n      }\n      result.push(iRes)\n    }\n    return result\n  }\n\n  selectSecondaryStructure (iCenterRes, isSelect = true) {\n    this.clearSelectedResidues()\n    let resList = this.getResListOfSs(iCenterRes)\n    let res = this.soup.getResidueProxy(iCenterRes)\n    for (let iRes of resList) {\n      res.load(iRes).selected = isSelect\n    }\n    this.soupView.isUpdateColors = true\n    this.soupView.isChanged = true\n  }\n\n  toggleSecondaryStructure (iCenterRes) {\n    let resList = this.getResListOfSs(iCenterRes)\n    let res = this.soup.getResidueProxy(iCenterRes)\n    let isNoneSelected = _.every(\n      _.map(resList, iRes => !res.load(iRes).selected)\n    )\n    if (isNoneSelected) {\n      this.selectSecondaryStructure(iCenterRes, true)\n    } else {\n      this.selectSecondaryStructure(iCenterRes, false)\n    }\n  }\n\n  toggleSelectedSidechains () {\n    let residue = this.soup.getResidueProxy()\n    let indices = []\n    let nSelectedSidechain = 0\n    let nShowInSelectedSidechain = 0\n    let nShowSidechain = 0\n    for (let iRes = 0; iRes < this.soup.getResidueCount(); iRes += 1) {\n      residue.load(iRes)\n      if (residue.selected) {\n        nSelectedSidechain += 1\n        indices.push(iRes)\n        if (residue.sidechain) {\n          nShowInSelectedSidechain += 1\n        }\n      }\n      if (residue.sidechain) {\n        nShowSidechain += 1\n      }\n    }\n\n    if (nSelectedSidechain === 0) {\n      let sidechainState = true\n      if (nShowSidechain > 0) {\n        sidechainState = false\n      }\n      for (let iRes = 0; iRes < this.soup.getResidueCount(); iRes += 1) {\n        residue.load(iRes)\n        residue.sidechain = sidechainState\n      }\n    } else {\n      let sideChainState = true\n      if (nShowInSelectedSidechain > 0) {\n        sideChainState = false\n      }\n      for (let iRes of indices) {\n        residue.load(iRes)\n        residue.sidechain = sideChainState\n      }\n    }\n\n    this.soupView.isUpdateSidechain = true\n    this.soupView.isChanged = true\n  }\n\n  toggleResidueNeighbors () {\n    let indices = []\n\n    let nSelected = 0\n    let residue = this.soup.getResidueProxy()\n    for (let iRes = 0; iRes < this.soup.getResidueCount(); iRes += 1) {\n      residue.load(iRes)\n      if (residue.selected) {\n        indices = _.concat(indices, this.soup.getNeighbours(iRes))\n        nSelected += 1\n      }\n    }\n\n    if (nSelected === 0) {\n      console.log('Controller.toggleResidueNeighbors none selected')\n      let pos = this.soupView.currentView.cameraParams.focus\n      indices = this.soup.getNeighboursOfPoint(pos)\n    }\n\n    if (indices.length === 0) {\n      let iAtom = this.soupView.currentView.iAtom\n      let iRes = this.soup.getAtomProxy(iAtom).iRes\n      indices = _.concat(indices, this.soup.getNeighbours(iRes))\n    }\n    let nSidechain = 0\n    for (let iRes of indices) {\n      if (residue.load(iRes).sidechain) {\n        nSidechain += 1\n      }\n    }\n    let isSidechain = nSidechain < indices.length\n\n    this.soup.setSidechainOfResidues(indices, isSidechain)\n    this.soupView.currentView.selected = this.soup.makeSelectedResidueList()\n    this.soupView.isChanged = true\n    this.soupView.isUpdateSidechain = true\n  }\n\n  saveCurrentView () {\n    return this.soupView.saveCurrentView()\n  }\n\n  deleteView (viewId) {\n    this.soupView.removeView(viewId)\n  }\n\n  sortViewsByOrder () {\n    function orderSort (a, b) {\n      return a.order - b.order\n    }\n\n    this.soupView.savedViews.sort(orderSort)\n    for (let i = 0; i < this.soupView.savedViews.length; i += 1) {\n      this.soupView.savedViews[i].order = i\n    }\n  }\n\n  loadViewsFromViewDicts (viewDicts) {\n    for (let i = 0; i < viewDicts.length; i += 1) {\n      let view = new View()\n      view.setFromDict(viewDicts[i])\n      if (view.id === 'view:000000') {\n        continue\n      }\n      this.soupView.saveView(view)\n    }\n    this.sortViewsByOrder()\n  }\n\n  async asyncLoadProteinData (proteinData, asyncSetMessageFn) {\n    await this.soup.asyncLoadProteinData(proteinData, asyncSetMessageFn)\n    // pre-calculations needed before building meshes\n    this.soupView.build()\n    this.soupView.isChanged = true\n    this.soupView.isUpdateObservers = true\n  }\n\n  selectChain (iStructure, chain) {\n    this.soup.selectedTraces.length = 0\n    this.clearSelectedResidues()\n    let iAtom = null\n    for (let [iTrace, trace] of this.soup.traces.entries()) {\n      let iRes = trace.indices[0]\n      let residue = this.soup.getResidueProxy(iRes)\n      if (residue.iStructure === iStructure && residue.chain === chain) {\n        this.soup.selectedTraces.push(iTrace)\n        iAtom = residue.iAtom\n      }\n    }\n    if (!_.isNil(iAtom)) {\n      this.zoomToChainContainingAtom(iAtom)\n    }\n  }\n\n  setShowOption (option, bool) {\n    console.log('Controller.setShowOption', option, bool)\n    this.soupView.currentView.show[option] = bool\n    this.soupView.isUpdateObservers = true\n    this.soupView.isChanged = true\n  }\n\n  getShowOption (option) {\n    return this.soupView.currentView.show[option]\n  }\n\n  toggleShowOption (option) {\n    let val = this.getShowOption(option)\n    this.setShowOption(option, !val)\n  }\n\n  setChangeFlag () {\n    this.soupView.isChanged = true\n  }\n\n  setZoom (zBack, zFront) {\n    let cameraParams = this.soupView.currentView.cameraParams\n    cameraParams.zBack = zBack\n    cameraParams.zFront = zFront\n    this.soupView.isUpdateObservers = true\n    this.soupView.isChanged = true\n  }\n\n  toggleGridElem (elem) {\n    let b = this.soup.grid.isElem[elem]\n    this.soup.grid.isElem[elem] = !b\n    this.soup.grid.isChanged = true\n\n    this.soupView.currentView.grid.isElem = _.cloneDeep(this.soup.grid.isElem)\n    this.soupView.isChanged = true\n\n    this.soupView.isUpdateObservers = true\n    this.soupView.isUpdateColors = true\n  }\n\n  setGridCutoff (bCutoff) {\n    this.soup.grid.bCutoff = bCutoff\n    this.soup.grid.isChanged = true\n    this.soupView.currentView.grid.bCutoff = bCutoff\n    if (exists(this.soupView.targetView)) {\n      this.soupView.targetView.grid.bCutoff = bCutoff\n    }\n    if (exists(this.soupView.saveTargetView)) {\n      this.soupView.saveTargetView.grid.bCutoff = bCutoff\n    }\n    this.soupView.isUpdateObservers = true\n    this.soupView.isChanged = true\n  }\n\n  clear () {\n    let distances = this.soupView.currentView.distances\n    for (let i of _.reverse(_.range(distances.length))) {\n      this.deleteDistance(i)\n    }\n    let labels = this.soupView.currentView.labels\n    for (let i of _.reverse(_.range(labels.length))) {\n      this.deleteAtomLabel(i)\n    }\n    this.clearSidechainResidues()\n    this.clearSelectedResidues()\n  }\n\n  getAnimateState () {\n    return this.soupView.animateState\n  }\n\n  setAnimateState (v) {\n    this.soupView.animateState = v\n    this.soupView.isUpdateObservers = true\n    this.soupView.isChanged = true\n  }\n\n  /**\n   * Currently objects involving deleted atoms but does not\n   * yet renumber annotations for changed indices\n   *\n   * @param iStructure\n   */\n  deleteStructure (iStructure) {\n    let atom = this.soup.getAtomProxy()\n    let res = this.soup.getResidueProxy()\n\n    let iAtomStart = null\n    let iAtomEnd = null\n    let iResStart = null\n    let iResEnd = null\n    let iTraceStart = null\n    let iTraceEnd = null\n\n    for (let iAtom = 0; iAtom < this.soup.getAtomCount(); iAtom += 1) {\n      atom.iAtom = iAtom\n      res.iRes = atom.iRes\n      if (res.iStructure === iStructure) {\n        if (iAtomStart === null) {\n          iAtomStart = iAtom\n        }\n        iAtomEnd = iAtom + 1\n        if (iResStart === null) {\n          iResStart = atom.iRes\n        }\n        iResEnd = atom.iRes + 1\n      }\n    }\n\n    for (let iTrace of _.range(this.soup.traces.length)) {\n      let trace = this.soup.traces[iTrace]\n      for (let iRes of trace.indices) {\n        if (isInInterval(iRes, iResStart, iResEnd)) {\n          if (_.isNil(iTraceStart)) {\n            iTraceStart = iTrace\n            iTraceEnd = iTrace + 1\n          } else {\n            iTraceEnd = iTrace + 1\n          }\n        }\n      }\n    }\n\n    function isInInterval (i, iStart, iEnd) {\n      return i >= iStart && i < iEnd\n    }\n\n    function patchInterval (i, iStart, iEnd) {\n      return i >= iEnd ? i - (iEnd - iStart) : i\n    }\n\n    function resolveView (view) {\n      _.remove(\n        view.selectedTraces,\n        _.partial(isInInterval, iTraceStart, iTraceEnd)\n      )\n      view.selectedTraces = _.map(\n        view.selectedTraces,\n        _.partial(patchInterval, iTraceStart, iTraceEnd)\n      )\n\n      _.remove(\n        view.distances,\n        d =>\n          isInInterval(d.i_atom1, iAtomStart, iAtomEnd) ||\n          isInInterval(d.i_atom2, iAtomStart, iAtomEnd)\n      )\n      for (let d of view.distances) {\n        d.i_atom1 = patchInterval(d.i_atom1, iAtomStart, iAtomEnd)\n        d.i_atom2 = patchInterval(d.i_atom2, iAtomStart, iAtomEnd)\n      }\n\n      _.remove(view.selected, iRes => isInInterval(iRes, iResStart, iResEnd))\n      view.selected = _.map(view.selected, iRes =>\n        patchInterval(iRes, iResStart, iResEnd)\n      )\n\n      _.remove(view.labels, l => isInInterval(l.iAtom, iAtomStart, iAtomEnd))\n      for (let l of view.labels) {\n        l.iAtom = patchInterval(l.iAtom, iAtomStart, iAtomEnd)\n      }\n    }\n\n    _.remove(\n      this.soup.selectedTraces,\n      _.partial(isInInterval, iTraceStart, iTraceEnd)\n    )\n    this.soup.selectedTraces = _.map(\n      this.soup.selectedTraces,\n      _.partial(patchInterval, iTraceStart, iTraceEnd)\n    )\n\n    resolveView(this.soupView.currentView)\n    for (let view of this.soupView.savedViews) {\n      resolveView(view)\n    }\n\n    let nAtomOffset = iAtomEnd - iAtomStart\n    let nAtom = this.soup.getAtomCount()\n    let nAtomNew = nAtom - nAtomOffset\n    let nAtomCopy = nAtom - iAtomEnd\n\n    let nResOffset = iResEnd - iResStart\n    let nRes = this.soup.getResidueCount()\n    let nResNew = nRes - nResOffset\n    let nResCopy = nRes - iResEnd\n\n    this.soup.atomStore.copyWithin(iAtomStart, iAtomEnd, nAtomCopy)\n    this.soup.atomStore.count -= nAtomOffset\n\n    for (let iAtom = 0; iAtom < nAtomNew; iAtom += 1) {\n      atom.iAtom = iAtom\n      if (atom.iRes >= iResStart) {\n        atom.iRes -= nResOffset\n      }\n    }\n\n    for (let iRes = 0; iRes < nResNew; iRes += 1) {\n      if (iRes >= iResStart) {\n        let iResOld = iRes + nResOffset\n        if (iResOld in this.soup.residueNormal) {\n          this.soup.residueNormal[iRes] = this.soup.residueNormal[\n            iResOld\n          ].clone()\n        }\n      }\n    }\n\n    for (let iRes = nResNew; iRes < nRes; iRes += 1) {\n      delete this.soup.residueNormal[iRes]\n    }\n\n    this.soup.residueStore.copyWithin(iResStart, iResEnd, nResCopy)\n    this.soup.residueStore.count -= nResOffset\n    this.soup.resIds.splice(iResStart, nResOffset)\n\n    for (let iRes = 0; iRes < nResNew; iRes += 1) {\n      res.iRes = iRes\n      if (res.iAtom >= iAtomStart) {\n        res.iAtom -= nAtomOffset\n        atom.iAtom = res.iAtom\n      }\n      if (this.soup.residueStore.atomOffset[iRes] >= iAtomStart) {\n        this.soup.residueStore.atomOffset[iRes] -= nAtomOffset\n      }\n      if (res.iStructure >= iStructure) {\n        res.iStructure -= 1\n      }\n    }\n\n    this.soup.structureIds.splice(iStructure, 1)\n    this.soup.iStructure -= 1\n\n    this.soup.calcBondsStrategic()\n\n    this.soup.calculateTracesForRibbons()\n\n    if (this.soup.isEmpty()) {\n      this.soupView.savedViews.length = 0\n      for (let id of _.keys(this.soupView.savedViewsByViewId)) {\n        delete this.soupView.savedViewsByViewId[id]\n      }\n      this.soupView.currentView = new View()\n      this.soupView.targetView = null\n      this.soupView.isStartTargetAfterRender = false\n      this.soupView.nUpdateStep = -1\n    } else {\n      this.soupView.isUpdateSidechain = true\n      this.soupView.isUpdateColors = true\n    }\n    this.soupView.isUpdateObservers = true\n    this.soupView.isChanged = true\n  }\n\n  zoomOut () {\n    if (!this.soup.isEmpty()) {\n      this.setTargetView(this.soupView.getZoomedOutViewOfCurrentView())\n      this.soupView.isChanged = true\n    }\n  }\n\n  zoomToChainContainingAtom (iAtom) {\n    let atom = this.soup.getAtomProxy(iAtom)\n    let atomIndices = this.soup.getAtomsOfChainContainingResidue(atom.iRes)\n    let view = this.soupView.getZoomedOutViewOf(atomIndices)\n    view.selectedTraces = this.soupView.getTracesOfChainContainingResidue(\n      atom.iRes\n    )\n    this.setTargetView(view)\n  }\n\n  zoomToSelection () {\n    if (!this.soup.isEmpty()) {\n      this.setTargetView(this.soupView.getZoomedOutViewOfSelection())\n      this.soupView.isChanged = true\n    }\n  }\n\n  adjustCamera (xRotationAngle, yRotationAngle, zRotationAngle, zoomRatio) {\n    this.soupView.adjustCamera(\n      xRotationAngle,\n      yRotationAngle,\n      zRotationAngle,\n      zoomRatio\n    )\n  }\n\n  triggerAtom (iAtomHover) {\n    if (_.isNil(iAtomHover)) {\n      this.clearSelectedResidues()\n      this.zoomOut()\n    } else {\n      let atom = this.soup.getAtomProxy(iAtomHover)\n      let residue = this.soup.getResidueProxy(atom.iRes)\n      let chain = residue.chain\n      let iStructure = residue.iStructure\n      let isSameChainSelected = false\n      if (this.soupView.getMode() === 'chain') {\n        if (this.soup.selectedTraces.length > 0) {\n          let iTrace = this.soup.selectedTraces[0]\n          let iRes = this.soup.traces[iTrace].indices[0]\n          let residue = this.soup.getResidueProxy(iRes)\n          if (residue.iStructure === iStructure && residue.chain === chain) {\n            isSameChainSelected = true\n          }\n        }\n        if (!isSameChainSelected) {\n          this.clearSelectedResidues()\n          this.zoomToChainContainingAtom(atom.iAtom)\n          return\n        }\n      }\n      this.clearSelectedResidues()\n      this.selectResidue(atom.iRes, true)\n      this.setTargetViewByIAtom(iAtomHover)\n    }\n    this.soupView.isUpdateColors = true\n    this.soupView.isUpdateObservers = true\n  }\n}\n\nexport { SoupView, SoupViewController }\n","/**\n * Finds pairs of vertices that have been coarsely grouped together\n * using spatial hashes of boxes of div^3. All vertices in neighboring\n * boxes are considered close pairs.\n *\n * Vertex - [x, y, z] in real coordinates\n *\n * Space - [i, j, k] integer indices in grid space\n *\n * Spacehash - hash integer hash of a space\n *\n * SpaceHashes are spaces converted to a single integer\n *\n * @param {Array<THREE.Vector3>} vertices - list of positions\n * @returns {Array} - array of pairs of positions\n */\nclass SpaceHash {\n  constructor (vertices) {\n    this.vertices = vertices\n    this.padding = 0.05\n    this.div = 5.0\n    this.invDiv = 1.0 / this.div\n    this.maxima = [0.0, 0.0, 0.0]\n    this.minima = [0.0, 0.0, 0.0]\n    this.spans = [0.0, 0.0, 0.0]\n    this.sizes = [0, 0, 0]\n\n    for (let iDim = 0; iDim < 3; iDim++) {\n      for (let iVertex = 0; iVertex < this.vertices.length; iVertex += 1) {\n        if (this.minima[iDim] > this.vertices[iVertex][iDim]) {\n          this.minima[iDim] = this.vertices[iVertex][iDim]\n        }\n        if (this.maxima[iDim] < this.vertices[iVertex][iDim]) {\n          this.maxima[iDim] = this.vertices[iVertex][iDim]\n        }\n      }\n      this.minima[iDim] -= this.padding\n      this.maxima[iDim] += this.padding\n      this.spans[iDim] = this.maxima[iDim] - this.minima[iDim]\n      this.sizes[iDim] = Math.ceil(this.spans[iDim] * this.invDiv)\n    }\n\n    this.cells = {}\n    this.spaces = []\n    for (let iVertex = 0; iVertex < this.vertices.length; iVertex++) {\n      let vertex = this.vertices[iVertex]\n      let space = this.getSpaceFromVertex(vertex)\n      this.spaces.push(space)\n      let hash = this.getHashFromSpace(space)\n      if (!(hash in this.cells)) {\n        this.cells[hash] = []\n      }\n      this.cells[hash].push(iVertex)\n    }\n  }\n\n  getSpaceFromVertex (vertex) {\n    let result = []\n    for (let iDim = 0; iDim < 3; iDim++) {\n      result.push(Math.round((vertex[iDim] - this.minima[iDim]) * this.invDiv))\n    }\n    return result\n  }\n\n  getHashFromSpace (s) {\n    return s[0] * this.sizes[1] * this.sizes[2] + s[1] * this.sizes[2] + s[2]\n  }\n\n  pushCellOfSpace (pairs, vertex, iVertex) {\n    let spaceCenter = this.getSpaceFromVertex(vertex)\n\n    let space0start = Math.max(0, spaceCenter[0] - 1)\n    let space0end = Math.min(this.sizes[0], spaceCenter[0] + 2)\n    let space1start = Math.max(0, spaceCenter[1] - 1)\n    let space1end = Math.min(this.sizes[1], spaceCenter[1] + 2)\n    let space2start = Math.max(0, spaceCenter[2] - 1)\n    let space2end = Math.min(this.sizes[2], spaceCenter[2] + 2)\n\n    for (let space0 = space0start; space0 < space0end; space0++) {\n      for (let space1 = space1start; space1 < space1end; space1++) {\n        for (let space2 = space2start; space2 < space2end; space2++) {\n          let hash = this.getHashFromSpace([space0, space1, space2])\n          if (hash in this.cells) {\n            let cell = this.cells[hash]\n            for (\n              let jVertexInCell = 0;\n              jVertexInCell < cell.length;\n              jVertexInCell++\n            ) {\n              let jVertex = cell[jVertexInCell]\n              pairs.push([iVertex, jVertex])\n            }\n          }\n        }\n      }\n    }\n  }\n\n  getClosePairs () {\n    let pairs = []\n    for (let iVertex = 0; iVertex < this.vertices.length; iVertex++) {\n      this.pushCellOfSpace(pairs, this.vertices[iVertex], iVertex)\n    }\n    return pairs\n  }\n\n  getVerticesNearPoint (vertex, iVertex) {\n    let pairs = []\n    this.pushCellOfSpace(pairs, vertex, iVertex)\n    return pairs\n  }\n}\n\nexport { SpaceHash }\n","/**\n * @file Store - an array-based space-efficient typed datastore, to be used\n * as a Flyweight, with an associated Proxy\n *\n * adapted from NGL @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n\nfunction getTypedArray (arrayType, arraySize) {\n  switch (arrayType) {\n    case 'int8':\n      return new Int8Array(arraySize)\n    case 'int16':\n      return new Int16Array(arraySize)\n    case 'int32':\n      return new Int32Array(arraySize)\n    case 'uint8':\n      return new Uint8Array(arraySize)\n    case 'uint16':\n      return new Uint16Array(arraySize)\n    case 'uint32':\n      return new Uint32Array(arraySize)\n    case 'float32':\n      return new Float32Array(arraySize)\n    default:\n      throw new Error('arrayType unknown: ' + arrayType)\n  }\n}\n\n/**\n * Store - an array-based space-efficient typed datastore, to be used\n * as a Flyweight, with an associated Proxy\n */\nclass Store {\n  /**\n   * @param fields - list of typed fields in the store\n   * @param {Integer} size - initial size of the datastore\n   */\n  constructor (fields, size) {\n    // actual size allocated\n    this.length = 0\n\n    // size to use, updated by this.growIfFull\n    this.count = 0\n\n    this._fields = fields\n\n    if (Number.isInteger(size)) {\n      this._init(size)\n    } else {\n      this._init(0)\n    }\n  }\n\n  /**\n   * Initialize the store\n   * @param {Integer} size - size to initialize\n   */\n  _init (size) {\n    this.length = size\n    this.count = 0\n\n    for (let field of this._fields) {\n      this._initField(...field)\n    }\n  }\n\n  /**\n   * Initialize a field\n   * @param  {String} name - field name\n   * @param  {Integer} size - element size\n   * @param  {String} type - data type, one of int8, int16, int32,\n   *                         uint8, uint16, uint32, float32\n   */\n  _initField (name, size, type) {\n    this[name] = getTypedArray(type, this.length * size)\n  }\n\n  /**\n   * Add a field\n   * @param  {String} name - field name\n   * @param  {Integer} size - element size\n   * @param  {String} type - data type, one of int8, int16, int32,\n   *                         uint8, uint16, uint32, float32\n   */\n  addField (name, size, type) {\n    this._fields.push([name, size, type])\n    this._initField(name, size, type)\n  }\n\n  /**\n   * Resize the store to the new size\n   * @param  {Integer} size - new size\n   */\n  resize (size) {\n    // Log.time( \"Store.resize\" );\n\n    this.length = Math.round(size || 0)\n    this.count = Math.min(this.count, this.length)\n\n    for (let i = 0, il = this._fields.length; i < il; ++i) {\n      const name = this._fields[i][0]\n      const itemSize = this._fields[i][1]\n      const arraySize = this.length * itemSize\n      const tmpArray = new this[name].constructor(arraySize)\n\n      if (this[name].length > arraySize) {\n        tmpArray.set(this[name].subarray(0, arraySize))\n      } else {\n        tmpArray.set(this[name])\n      }\n      this[name] = tmpArray\n    }\n\n    // Log.timeEnd( \"Store.resize\" );\n  }\n\n  /**\n   * Resize the store to 1.5 times its current size if full, or to 256 if empty\n   */\n  growIfFull () {\n    if (this.count >= this.length) {\n      const size = Math.round(this.length * 1.5)\n      this.resize(Math.max(256, size))\n    }\n  }\n\n  /**\n   * Increase the store by 1, and resize if necessary\n   */\n  increment () {\n    this.count += 1\n    this.growIfFull()\n  }\n\n  /**\n   * Copy data from one store to another\n   * @param  {Store} other - store to copy from\n   * @param  {Integer} thisOffset - offset to start copying to\n   * @param  {Integer} otherOffset - offset to start copying from\n   * @param  {Integer} length - number of entries to copy\n   */\n  copyFrom (other, thisOffset, otherOffset, length) {\n    for (let i = 0, il = this._fields.length; i < il; ++i) {\n      const name = this._fields[i][0]\n      const itemSize = this._fields[i][1]\n      const thisField = this[name]\n      const otherField = other[name]\n\n      for (let j = 0; j < length; ++j) {\n        const thisIndex = itemSize * (thisOffset + j)\n        const otherIndex = itemSize * (otherOffset + j)\n        for (let k = 0; k < itemSize; ++k) {\n          thisField[thisIndex + k] = otherField[otherIndex + k]\n        }\n      }\n    }\n  }\n\n  /**\n   * Copy data within this store\n   * @param  {Integer} offsetTarget - offset to start copying to\n   * @param  {Integer} offsetSource - offset to start copying from\n   * @param  {Integer} length - number of entries to copy\n   */\n  copyWithin (offsetTarget, offsetSource, length) {\n    for (let i = 0, il = this._fields.length; i < il; ++i) {\n      const name = this._fields[i][0]\n      const itemSize = this._fields[i][1]\n      const thisField = this[name]\n\n      for (let j = 0; j < length; ++j) {\n        const targetIndex = itemSize * (offsetTarget + j)\n        const sourceIndex = itemSize * (offsetSource + j)\n        for (let k = 0; k < itemSize; ++k) {\n          thisField[targetIndex + k] = thisField[sourceIndex + k]\n        }\n      }\n    }\n  }\n\n  /**\n   * Sort entries in the store given the compare function\n   * @param  {Function} compareFunction - function to sort by (i, j) -> Integer\n   *            the return value is - if item[i] is smaller than item[j]\n   */\n  sort (compareFunction) {\n    const thisStore = this\n    const tmpStore = new this.constructor(this._fields, 1)\n\n    function swap (index1, index2) {\n      if (index1 === index2) return\n      tmpStore.copyFrom(thisStore, 0, index1, 1)\n      thisStore.copyWithin(index1, index2, 1)\n      thisStore.copyFrom(tmpStore, index2, 0, 1)\n    }\n\n    function quicksort (left, right) {\n      if (left < right) {\n        let pivot = Math.floor((left + right) / 2)\n        let leftNew = left\n        let rightNew = right\n        do {\n          while (compareFunction(leftNew, pivot) < 0) {\n            leftNew += 1\n          }\n          while (compareFunction(rightNew, pivot) > 0) {\n            rightNew -= 1\n          }\n          if (leftNew <= rightNew) {\n            if (leftNew === pivot) {\n              pivot = rightNew\n            } else if (rightNew === pivot) {\n              pivot = leftNew\n            }\n            swap(leftNew, rightNew)\n            leftNew += 1\n            rightNew -= 1\n          }\n        } while (leftNew <= rightNew)\n        quicksort(left, rightNew)\n        quicksort(leftNew, right)\n      }\n    }\n\n    quicksort(0, this.count - 1)\n  }\n\n  /**\n   * Empty the store, but keep the allocated memory\n   */\n  clear () {\n    this.count = 0\n  }\n\n  /**\n   * Dispose of the store entries and fields\n   */\n  dispose () {\n    delete this.length\n    delete this.count\n\n    for (let i = 0, il = this._fields.length; i < il; ++i) {\n      const name = this._fields[i][0]\n      delete this[name]\n    }\n  }\n}\n\nexport default Store\n","/**\n * Central place to store constants and color\n * accesors\n */\n\nimport _ from 'lodash'\nimport * as THREE from 'three'\n\nconst proteinResTypes = [\n  'ALA',\n  'CYS',\n  'ASP',\n  'GLU',\n  'PHE',\n  'GLY',\n  'HIS',\n  'ILE',\n  'LYS',\n  'LEU',\n  'MET',\n  'ASN',\n  'PRO',\n  'GLN',\n  'ARG',\n  'SER',\n  'THR',\n  'TRP',\n  'VAL',\n  'TYR'\n]\nconst dnaResTypes = ['DA', 'DT', 'DG', 'DC', 'A', 'T', 'G', 'C']\nconst rnaResTypes = ['RA', 'RU', 'RC', 'RG', 'A', 'G', 'C', 'U']\n\n// Color constants\n\nconst green = new THREE.Color(0x6f9e52)\nconst blue = new THREE.Color(0x6491b6)\nconst yellow = new THREE.Color(0xf6c619)\nconst purple = new THREE.Color(0x9578aa)\nconst grey = new THREE.Color(0xbbbbbb)\nconst red = new THREE.Color(0x993333)\nconst darkGrey = new THREE.Color(0x999999)\n\nlet ElementColors = {\n  H: 0xcccccc,\n  C: 0xaaaaaa,\n  O: 0xcc0000,\n  N: 0x0000cc,\n  S: 0xaaaa00,\n  P: 0x6622cc,\n  F: 0x00cc00,\n  CL: 0x00cc00,\n  BR: 0x882200,\n  I: 0x6600aa,\n  FE: 0xcc6600,\n  CA: 0x8888aa,\n  He: 0x7b86c2,\n  Ne: 0x9ed2e4,\n  Ar: 0x5dc4be,\n  Kr: 0xacd376,\n  Xe: 0xf79f7c,\n  Rn: 0xe29ec5\n}\n\nfor (let [k, v] of _.toPairs(ElementColors)) {\n  ElementColors[k] = new THREE.Color(v)\n}\n\nfunction getSsColor (ss) {\n  if (ss === 'E') {\n    return yellow\n  } else if (ss === 'H') {\n    return blue\n  } else if (ss === 'D') {\n    return purple\n  } else if (ss === 'C') {\n    return green\n  } else if (ss === 'W') {\n    return red\n  }\n  return grey\n}\n\nconst resToAa = {\n  ALA: 'A',\n  CYS: 'C',\n  ASP: 'D',\n  GLU: 'E',\n  PHE: 'F',\n  GLY: 'G',\n  HIS: 'H',\n  ILE: 'I',\n  LYS: 'K',\n  LEU: 'L',\n  MET: 'M',\n  ASN: 'N',\n  PRO: 'P',\n  GLN: 'Q',\n  ARG: 'R',\n  SER: 'S',\n  THR: 'T',\n  VAL: 'V',\n  TRP: 'W',\n  TYR: 'Y',\n  DA: 'A',\n  DT: 'T',\n  DG: 'G',\n  DC: 'C',\n  A: 'A',\n  T: 'T',\n  G: 'G',\n  C: 'C',\n  RA: 'A',\n  RU: 'U',\n  RC: 'C',\n  RG: 'G',\n  U: 'U'\n}\n\n// Backbone atom names\n\nconst backboneAtomTypes = [\n  'N',\n  'C',\n  'O',\n  'H',\n  'HA',\n  'CA',\n  'OXT',\n  \"C3'\",\n  'P',\n  'OP1',\n  \"O5'\",\n  'OP2',\n  \"C5'\",\n  \"O5'\",\n  \"O3'\",\n  \"C4'\",\n  \"O4'\",\n  \"C1'\",\n  \"C2'\",\n  \"O2'\",\n  \"H2'\",\n  \"H2''\",\n  \"H3'\",\n  \"H4'\",\n  \"H5'\",\n  \"H5''\",\n  \"HO3'\"\n]\n\n// Cartoon cross-sections\nconst coilFace = new THREE.Shape([\n  new THREE.Vector2(-0.2, -0.2),\n  new THREE.Vector2(-0.2, +0.2),\n  new THREE.Vector2(+0.2, +0.2),\n  new THREE.Vector2(+0.2, -0.2)\n])\n\nfunction getNucleotideBaseAtomTypes (resType) {\n  let atomTypes = []\n  if (resType === 'DA' || resType === 'A') {\n    atomTypes = ['N9', 'C8', 'N7', 'C5', 'C6', 'N1', 'C2', 'N3', 'C4']\n  } else if (resType === 'DG' || resType === 'G') {\n    atomTypes = ['N9', 'C8', 'N7', 'C5', 'C6', 'N1', 'C2', 'N3', 'C4']\n  } else if (resType === 'DT' || resType === 'U') {\n    atomTypes = ['C6', 'N1', 'C2', 'N3', 'C4', 'C5']\n  } else if (resType === 'DC' || resType === 'C') {\n    atomTypes = ['C6', 'N1', 'C2', 'N3', 'C4', 'C5']\n  }\n  return atomTypes\n}\n\nfunction getNucleotideConnectorBondAtomTypes (resType) {\n  let bondTypes = []\n  if (resType === 'DA' || resType === 'A') {\n    bondTypes = [[\"C3'\", \"C2'\"], [\"C2'\", \"C1'\"], [\"C1'\", 'N9']]\n  } else if (resType === 'DG' || resType === 'G') {\n    bondTypes = [[\"C3'\", \"C2'\"], [\"C2'\", \"C1'\"], [\"C1'\", 'N9']]\n  } else if (resType === 'DT' || resType === 'U') {\n    bondTypes = [[\"C3'\", \"C2'\"], [\"C2'\", \"C1'\"], [\"C1'\", 'N1']]\n  } else if (resType === 'DC' || resType === 'C') {\n    bondTypes = [[\"C3'\", \"C2'\"], [\"C2'\", \"C1'\"], [\"C1'\", 'N1']]\n  }\n  return bondTypes\n}\n\nexport {\n  getSsColor,\n  resToAa,\n  backboneAtomTypes,\n  coilFace,\n  green,\n  blue,\n  yellow,\n  purple,\n  grey,\n  red,\n  darkGrey,\n  ElementColors,\n  proteinResTypes,\n  dnaResTypes,\n  rnaResTypes,\n  getNucleotideBaseAtomTypes,\n  getNucleotideConnectorBondAtomTypes\n}\n","import _ from 'lodash'\nimport v3 from './v3'\nimport { inArray } from './util.js'\nimport * as glgeom from './glgeom'\nimport { SpaceHash } from './pairs.js'\nimport Store from './store.js'\nimport * as data from './data'\nimport * as THREE from 'three'\n\nfunction deleteNumbers (text) {\n  return text.replace(/\\d+/, '')\n}\n\nfunction pushToListInDict (dict, key, value) {\n  if (!(key in dict)) {\n    dict[key] = []\n  }\n  dict[key].push(value)\n}\n\nfunction getValueTableIndex (valueList, value, isEqualFn = null) {\n  if (_.isNil(isEqualFn)) {\n    if (!_.includes(valueList, value)) {\n      valueList.push(value)\n    }\n    return valueList.indexOf(value)\n  } else {\n    let i = _.findIndex(valueList, thisVal => isEqualFn(value, thisVal))\n    if (i >= 0) {\n      return i\n    } else {\n      valueList.push(value)\n      return valueList.length - 1\n    }\n  }\n}\n\nfunction intToBool (i) {\n  return i === 1\n}\n\nfunction boolToInt (b) {\n  return b ? 1 : 0\n}\n\nfunction intToChar (i) {\n  return i ? String.fromCharCode(i) : ''\n}\n\nfunction charToInt (c) {\n  return c.charCodeAt(0)\n}\n\nfunction parsetTitleFromPdbText (text) {\n  let result = ''\n  let lines = text.split(/\\r?\\n/)\n  for (let line of lines) {\n    if (line.substring(0, 5) === 'TITLE') {\n      result += line.substring(10)\n    }\n  }\n  return result\n}\n\nfunction getIndexColor (i) {\n  return new THREE.Color().setHex(i + 1)\n}\n\nconst atomStoreFields = [\n  ['x', 1, 'float32'],\n  ['y', 1, 'float32'],\n  ['z', 1, 'float32'],\n  ['bfactor', 1, 'float32'],\n  ['alt', 1, 'uint8'],\n  ['iAtomType', 1, 'uint16'],\n  ['iElem', 1, 'uint16'],\n  ['iRes', 1, 'uint32'],\n  ['iChain', 1, 'int32'],\n  ['bondOffset', 1, 'uint32'],\n  ['bondCount', 1, 'uint16']\n]\n\nclass AtomProxy {\n  constructor (soup, iAtom) {\n    this.soup = soup\n    if (Number.isInteger(iAtom)) {\n      this.load(iAtom)\n    }\n    this._pos = v3.create()\n  }\n\n  load (iAtom) {\n    this.iAtom = iAtom\n    return this\n  }\n\n  get pos () {\n    this._pos.x = this.soup.atomStore.x[this.iAtom]\n    this._pos.y = this.soup.atomStore.y[this.iAtom]\n    this._pos.z = this.soup.atomStore.z[this.iAtom]\n    return this._pos\n  }\n\n  get resId () {\n    return this.soup.resIds[this.iRes]\n  }\n\n  get elem () {\n    let iElem = this.soup.atomStore.iElem[this.iAtom]\n    return this.soup.elemTable[iElem]\n  }\n\n  get bfactor () {\n    return this.soup.atomStore.bfactor[this.iAtom]\n  }\n\n  get atomType () {\n    let iAtomType = this.soup.atomStore.iAtomType[this.iAtom]\n    return this.soup.atomTypeTable[iAtomType]\n  }\n\n  get alt () {\n    return intToChar(this.soup.atomStore.alt[this.iAtom])\n  }\n\n  set alt (c) {\n    this.soup.atomStore.alt[this.iAtom] = charToInt(c)\n  }\n\n  get iRes () {\n    return this.soup.atomStore.iRes[this.iAtom]\n  }\n\n  set iRes (iRes) {\n    this.soup.atomStore.iRes[this.iAtom] = iRes\n  }\n\n  get resType () {\n    let iResType = this.soup.residueStore.iResType[this.iRes]\n    return this.soup.resTypeTable[iResType]\n  }\n\n  get label () {\n    let iResType = this.soup.residueStore.iResType[this.iRes]\n    let resType = this.soup.resTypeTable[iResType]\n    let label =\n      this.soup.resIds[this.iRes] + ':' + resType + ':' + this.atomType\n    if (this.alt) {\n      label += ':' + this.alt\n    }\n    return label\n  }\n\n  getBondIndices () {\n    let iStart = this.soup.atomStore.bondOffset[this.iAtom]\n    let n = this.soup.atomStore.bondCount[this.iAtom]\n    let iEnd = iStart + n\n    return _.range(iStart, iEnd)\n  }\n\n  get color () {\n    let residue = this.soup.getResidueProxy(this.iRes)\n    if (residue.isPolymer) {\n      let resColor = residue.activeColor\n      if (this.elem === 'C' || this.elem === 'H') {\n        return resColor\n      } else if (this.elem in data.ElementColors) {\n        let elemColor = data.ElementColors[this.elem]\n          .clone()\n          .offsetHSL(0, -0.3, -0.3)\n        return new THREE.Color().addColors(resColor, elemColor)\n      }\n    }\n    if (this.elem in data.ElementColors) {\n      return data.ElementColors[this.elem]\n    }\n    return data.darkGrey\n  }\n}\n\nconst residueStoreFields = [\n  ['atomOffset', 1, 'uint32'],\n  ['atomCount', 1, 'uint16'],\n  ['iCentralAtom', 1, 'uint32'],\n  ['iResType', 1, 'uint16'],\n  ['iChain', 1, 'uint8'],\n  ['iStructure', 1, 'uint8'],\n  ['resNum', 1, 'int32'],\n  ['insCode', 1, 'uint8'],\n  ['sstruc', 1, 'uint8'],\n  ['iColor', 1, 'uint16'],\n  ['iCustomColor', 1, 'uint16'],\n  ['isPolymer', 1, 'uint8'],\n  ['selected', 1, 'uint8'],\n  ['sidechain', 1, 'uint8'],\n  ['iChain', 1, 'uint8']\n]\n\nfunction cmpColors (c1, c2) {\n  return c1.r === c2.r && c1.g === c2.g && c1.b === c2.b\n}\n\nclass ResidueProxy {\n  constructor (soup, iRes) {\n    this.soup = soup\n    if (Number.isInteger(iRes)) {\n      this.load(iRes)\n    }\n  }\n\n  load (iRes) {\n    this.iRes = iRes\n    return this\n  }\n\n  get iAtom () {\n    return this.soup.residueStore.iCentralAtom[this.iRes]\n  }\n\n  set iAtom (iAtom) {\n    this.soup.residueStore.iCentralAtom[this.iRes] = iAtom\n  }\n\n  get iChain () {\n    return this.soup.residueStore.iChain[this.iRes]\n  }\n\n  get chain () {\n    return this.soup.chains[this.iChain]\n  }\n\n  get iStructure () {\n    return this.soup.residueStore.iStructure[this.iRes]\n  }\n\n  set iStructure (iStructure) {\n    this.soup.residueStore.iStructure[this.iRes] = iStructure\n  }\n\n  get resId () {\n    return this.soup.resIds[this.iRes]\n  }\n\n  get resNum () {\n    return this.soup.residueStore.resNum[this.iRes]\n  }\n\n  get insCode () {\n    return intToChar(this.soup.residueStore.insCode[this.iRes])\n  }\n\n  set insCode (c) {\n    this.soup.residueStore.insCode[this.iRes] = charToInt(c)\n  }\n\n  get isPolymer () {\n    return intToBool(this.soup.residueStore.isPolymer[this.iRes])\n  }\n\n  set isPolymer (v) {\n    this.soup.residueStore.isPolymer[this.iRes] = boolToInt(v)\n  }\n\n  get sidechain () {\n    return intToBool(this.soup.residueStore.sidechain[this.iRes])\n  }\n\n  set sidechain (v) {\n    this.soup.residueStore.sidechain[this.iRes] = boolToInt(v)\n  }\n\n  get selected () {\n    return intToBool(this.soup.residueStore.selected[this.iRes])\n  }\n\n  set selected (v) {\n    this.soup.residueStore.selected[this.iRes] = boolToInt(v)\n  }\n\n  get color () {\n    let iColor = this.soup.residueStore.iColor[this.iRes]\n    return this.soup.colorTable[iColor]\n  }\n\n  set color (color) {\n    let iColor = getValueTableIndex(\n      this.soup.colorTable,\n      new THREE.Color(color),\n      cmpColors\n    )\n    this.soup.residueStore.iColor[this.iRes] = iColor\n  }\n\n  get customColor () {\n    let iColor = this.soup.residueStore.iCustomColor[this.iRes]\n    return this.soup.colorTable[iColor]\n  }\n\n  set customColor (color) {\n    let iColor = getValueTableIndex(\n      this.soup.colorTable,\n      new THREE.Color(color),\n      cmpColors\n    )\n    this.soup.residueStore.iCustomColor[this.iRes] = iColor\n  }\n\n  get activeColor () {\n    let iColor = this.soup.residueStore.iColor[this.iRes]\n    let color = this.soup.colorTable[iColor]\n    if (this.selected) {\n      color = color.clone().offsetHSL(0, 0, +0.3)\n    }\n    return color\n  }\n\n  get resType () {\n    let iResType = this.soup.residueStore.iResType[this.iRes]\n    return this.soup.resTypeTable[iResType]\n  }\n\n  get normal () {\n    let hasNormal = this.iRes in this.soup.residueNormal\n    return hasNormal ? this.soup.residueNormal[this.iRes].clone() : null\n  }\n\n  get ss () {\n    return intToChar(this.soup.residueStore.sstruc[this.iRes])\n  }\n\n  set ss (c) {\n    this.soup.residueStore.sstruc[this.iRes] = charToInt(c)\n  }\n\n  get label () {\n    let iResType = this.soup.residueStore.iResType[this.iRes]\n    let resType = this.soup.resTypeTable[iResType]\n    let label = this.soup.resIds[this.iRes] + ':' + resType\n    return label\n  }\n\n  getAtomIndices () {\n    let iStart = this.soup.residueStore.atomOffset[this.iRes]\n    let n = this.soup.residueStore.atomCount[this.iRes]\n    let iEnd = iStart + n\n    return _.range(iStart, iEnd)\n  }\n\n  getAtomProxy (atomType) {\n    let atom = this.soup.getAtomProxy()\n    for (let iAtom of this.getAtomIndices()) {\n      atom.iAtom = iAtom\n      if (atom.atomType === atomType) {\n        return atom\n      }\n    }\n    return null\n  }\n\n  getIAtom (atomType) {\n    for (let iAtom of this.getAtomIndices()) {\n      let iAtomType = this.soup.atomStore.iAtomType[iAtom]\n      let testAatomType = this.soup.atomTypeTable[iAtomType]\n      if (testAatomType === atomType) {\n        return iAtom\n      }\n    }\n    return null\n  }\n\n  checkAtomTypes (atomTypes) {\n    for (let atomType of atomTypes) {\n      if (this.getIAtom(atomType) === null) {\n        return false\n      }\n    }\n    return true\n  }\n\n  isProteinConnectedToPrev () {\n    if (this.iRes === 0) {\n      return false\n    }\n\n    let thisRes = this\n    let prevRes = new ResidueProxy(this.soup, this.iRes - 1)\n\n    const proteinAtomTypes = ['CA']\n    if (\n      prevRes.checkAtomTypes(proteinAtomTypes) &&\n      thisRes.checkAtomTypes(proteinAtomTypes)\n    ) {\n      let ca0 = prevRes.getAtomProxy('CA').pos\n      let ca1 = thisRes.getAtomProxy('CA').pos\n      if (v3.distance(ca0, ca1) < 5) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  isNucleotideConnectedToPrev () {\n    if (this.iRes === 0) {\n      return false\n    }\n\n    let thisRes = this\n    let prevRes = new ResidueProxy(this.soup, this.iRes - 1)\n\n    const nucleicAtomTypes = [\"C3'\", \"O3'\"]\n\n    if (\n      prevRes.checkAtomTypes(nucleicAtomTypes) &&\n      thisRes.checkAtomTypes(nucleicAtomTypes) &&\n      thisRes.checkAtomTypes(['P'])\n    ) {\n      let o3 = prevRes.getAtomProxy(\"O3'\").pos\n      let p = thisRes.getAtomProxy('P').pos\n      if (v3.distance(o3, p) < 2.5) {\n        return true\n      }\n    }\n    return false\n  }\n\n  isConnectedToPrev () {\n    return this.isProteinConnectedToPrev() || this.isNucleotideConnectedToPrev()\n  }\n\n  getNucleotideNormal () {\n    let c3 = this.getAtomProxy(\"C3'\").pos\n    let c5 = this.getAtomProxy(\"C5'\").pos\n    let c1 = this.getAtomProxy(\"C1'\").pos\n    let forward = v3.diff(c3, c5)\n    let up = v3.diff(c1, c3)\n    return v3.crossProduct(forward, up)\n  }\n}\n\nconst bondStoreFields = [['iAtom1', 1, 'int32'], ['iAtom2', 1, 'int32']]\n\nclass BondProxy {\n  constructor (soup, iBond) {\n    this.soup = soup\n    if (Number.isInteger(iBond)) {\n      this.load(iBond)\n    }\n  }\n\n  load (iBond) {\n    this.iBond = iBond\n    return this\n  }\n\n  get iAtom1 () {\n    return this.soup.bondStore.iAtom1[this.iBond]\n  }\n\n  get iAtom2 () {\n    return this.soup.bondStore.iAtom2[this.iBond]\n  }\n}\n\n/**\n * Soup: main data object that holds information\n * about protein structure. The soup will be\n * embedded in a SoupView that will handle\n * all the different viewing options.\n * Allowable mutations on the Soup\n * will be made via the Controller.\n */\nclass Soup {\n  constructor () {\n    this.parsingError = ''\n    this.title = ''\n\n    this.structureIds = []\n    this.structureId = null\n    this.iStructure = -1\n\n    this.chains = []\n\n    this.maxLength = null\n\n    // stores trace of protein/nucleotide backbones for ribbons\n    this.traces = []\n    // stores selected chain\n    this.selectedTraces = []\n\n    this.colorMode = 'secondary' // or 'grid'\n\n    this.atomStore = new Store(atomStoreFields)\n    this.residueStore = new Store(residueStoreFields)\n    this.bondStore = new Store(bondStoreFields)\n\n    this.resIds = []\n    this.residueNormal = {}\n\n    this.residueProxy = new ResidueProxy(this)\n    this.atomProxy = new AtomProxy(this)\n\n    this.elemTable = []\n    this.atomTypeTable = []\n    this.resTypeTable = []\n    this.colorTable = []\n\n    this.grid = {\n      bCutoff: 0.8,\n      bMax: 2,\n      bMin: 0.4,\n      changed: true,\n      isElem: {},\n      convertB: b => -b.toFixed(2)\n    }\n  }\n\n  isEmpty () {\n    return this.getAtomCount() === 0\n  }\n\n  parseAtomLines (pdbLines) {\n    let x, y, z, chain, resType\n    let atomType, bfactor, elem, alt, resNum, insCode\n\n    for (let iLine = 0; iLine < pdbLines.length; iLine += 1) {\n      let line = pdbLines[iLine]\n\n      if (line.substr(0, 4) === 'ATOM' || line.substr(0, 6) === 'HETATM') {\n        try {\n          atomType = _.trim(line.substr(12, 4))\n          alt = _.trim(line.substr(16, 1))\n          resType = _.trim(line.substr(17, 3))\n          chain = line[21]\n          resNum = parseInt(line.substr(22, 4))\n          insCode = line.substr(26, 1)\n          x = parseFloat(line.substr(30, 7))\n          y = parseFloat(line.substr(38, 7))\n          z = parseFloat(line.substr(46, 7))\n          bfactor = parseFloat(line.substr(60, 6))\n          elem = deleteNumbers(_.trim(line.substr(76, 2)))\n        } catch (e) {\n          this.parsingError = 'line ' + iLine\n          console.log(`Error: \"${line}\"`)\n          continue\n        }\n\n        if (elem === '') {\n          elem = deleteNumbers(_.trim(atomType)).substr(0, 1)\n        }\n\n        this.addAtom(\n          x,\n          y,\n          z,\n          bfactor,\n          alt,\n          atomType,\n          elem,\n          resType,\n          resNum,\n          insCode,\n          chain\n        )\n      }\n    }\n  }\n\n  parseSecondaryStructureLines (pdbLines) {\n    this.assignResidueProperties(this.iStructure)\n\n    this.parsedSecondaryStructure = false\n\n    let residue = this.getResidueProxy()\n\n    for (let iLine = 0; iLine < pdbLines.length; iLine += 1) {\n      let line = pdbLines[iLine]\n\n      if (line.substr(0, 5) === 'HELIX') {\n        this.parsedSecondaryStructure = true\n        let chain = line.substr(19, 1)\n        let resNumStart = parseInt(line.substr(21, 4))\n        let resNumEnd = parseInt(line.substr(33, 4))\n        for (let iRes of this.findResidueIndices(\n          this.iStructure,\n          chain,\n          resNumStart\n        )) {\n          residue.iRes = iRes\n          while ((residue.resNum <= resNumEnd) && (chain === residue.chain)){\n            residue.ss = 'H'\n            residue.iRes = residue.iRes + 1\n          }\n        }\n      }\n\n      if (line.substr(0, 5) === 'SHEET') {\n        this.parsedSecondaryStructure = true\n        let chain = line.substr(21, 1)\n        let resNumStart = parseInt(line.substr(22, 4))\n        let resNumEnd = parseInt(line.substr(33, 4))\n        for (let iRes of this.findResidueIndices(\n          this.iStructure,\n          chain,\n          resNumStart\n        )) {\n          residue.iRes = iRes\n          while ((residue.resNum <= resNumEnd) && (chain === residue.chain)) {\n            residue.ss = 'E'\n            residue.iRes = residue.iRes + 1\n          }\n        }\n      }\n    }\n  }\n\n  parsePdbData (pdbText, pdbId) {\n    this.structureId = pdbId\n    this.structureIds.push(pdbId)\n    this.iStructure = this.structureIds.length - 1\n\n    let title = parsetTitleFromPdbText(pdbText)\n    let id = this.structureId.toUpperCase()\n    this.title =\n      `[<a href=\"http://www.rcsb.org/structure/${id}\">${id}</a>] ` + title\n\n    let pdbLines = pdbText.split(/\\r?\\n/)\n\n    if (pdbLines.length === 0) {\n      this.parsingError = 'No atom lines'\n      return\n    }\n\n    for (let i of _.range(pdbLines.length)) {\n      if (_.includes(['END'], pdbLines[i].slice(0, 3))) {\n        pdbLines = pdbLines.slice(0, i)\n        break\n      }\n    }\n\n    this.parseAtomLines(pdbLines)\n    this.parseSecondaryStructureLines(pdbLines)\n  }\n\n  load (pdbData) {\n    console.log(`Soup.load parse ${this.structureId}...`)\n\n    this.parsePdbData(pdbData.pdbText, this.structureId)\n\n    console.log(\n      `Soup.load processed ${this.getAtomCount()} atoms, ` +\n        `${this.getResidueCount()} residues`\n    )\n\n    console.log('Soup.load finding bonds...')\n    this.calcBondsStrategic()\n\n    console.log(`Soup.load calculated ${this.getBondCount()} bonds`)\n  }\n\n  async asyncLoadProteinData (proteinData, asyncSetMessageFn) {\n    let pdbText = proteinData.pdbText\n    let pdbId = proteinData.pdbId\n\n    if (proteinData.pdbText.length === 0) {\n      await asyncSetMessageFn('Error: no soup data')\n      return\n    }\n\n    await asyncSetMessageFn(`Parsing '${pdbId}'`)\n    this.parsePdbData(pdbText, pdbId)\n\n    if (this.parsingError) {\n      let err = this.soup.parsingError\n      await asyncSetMessageFn(`Error parsing soup: ${err}`)\n      return\n    }\n\n    let nAtom = this.getAtomCount()\n    let nRes = this.getResidueCount()\n    await asyncSetMessageFn(\n      `Calculating bonds for ${nAtom} atoms, ${nRes} residues...`\n    )\n\n    this.calcBondsStrategic()\n\n    if (!this.parsedSecondaryStructure) {\n      await asyncSetMessageFn(\n        `Calculated ${this.getBondCount()} bonds. Calculating secondary structure...`\n      )\n      this.findSecondaryStructure()\n    }\n\n    this.maxLength = this.calcMaxLength()\n\n    this.findGridLimits()\n\n    this.setSecondaryStructureColorResidues()\n\n    this.colorResidues()\n\n    this.calculateTracesForRibbons()\n  }\n\n  addAtom (\n    x,\n    y,\n    z,\n    bfactor,\n    alt,\n    atomType,\n    elem,\n    resType,\n    resNum,\n    insCode,\n    chain\n  ) {\n    let iAtom = this.atomStore.count\n\n    this.atomStore.increment()\n\n    this.atomStore.x[iAtom] = x\n    this.atomStore.y[iAtom] = y\n    this.atomStore.z[iAtom] = z\n\n    this.atomStore.bfactor[iAtom] = bfactor\n    this.atomStore.alt[iAtom] = charToInt(alt)\n\n    this.atomStore.bondCount[iAtom] = 0\n\n    this.atomStore.iAtomType[iAtom] = getValueTableIndex(\n      this.atomTypeTable,\n      atomType\n    )\n\n    this.atomStore.iElem[iAtom] = getValueTableIndex(this.elemTable, elem)\n\n    let nRes = this.getResidueCount()\n\n    let isNewRes = false\n    if (nRes === 0) {\n      isNewRes = true\n    } else {\n      this.residueProxy.iRes = nRes - 1\n      if (this.residueProxy.resNum !== resNum) {\n        isNewRes = true\n      } else if (this.residueProxy.insCode !== insCode) {\n        isNewRes = true\n      } else if (this.chains[this.residueProxy.iChain] !== chain) {\n        isNewRes = true\n      }\n    }\n\n    if (isNewRes) {\n      this.addResidue(iAtom, resNum, insCode, chain, resType)\n    }\n\n    let iRes = this.getResidueCount() - 1\n    this.residueStore.atomCount[iRes] += 1\n    this.atomStore.iRes[iAtom] = iRes\n  }\n\n  addResidue (iFirstAtomInRes, resNum, insCode, chain, resType) {\n    let iRes = this.getResidueCount()\n    this.residueStore.increment()\n\n    let resId = this.structureId + ':'\n    if (chain) {\n      resId += chain + ':'\n    }\n    resId += resNum + _.trim(insCode)\n\n    this.resIds.push(resId)\n\n    let iChain = getValueTableIndex(this.chains, chain)\n    this.residueStore.iChain[iRes] = iChain\n\n    this.residueStore.resNum[iRes] = resNum\n    this.residueStore.insCode[iRes] = charToInt(insCode)\n\n    this.residueStore.iResType[iRes] = getValueTableIndex(\n      this.resTypeTable,\n      resType\n    )\n\n    this.residueStore.atomOffset[iRes] = iFirstAtomInRes\n    this.residueStore.atomCount[iRes] = 0\n\n    this.residueStore.iStructure[iRes] = this.iStructure\n  }\n\n  findFirstResidue (chain, resNum) {\n    let residue = this.getResidueProxy()\n    for (let iRes of _.range(this.getResidueCount())) {\n      residue.iRes = iRes\n      if (residue.chain === chain && residue.resNum === resNum) {\n        return residue\n      }\n    }\n    return null\n  }\n\n  findResidueIndices (iStructure, chain, resNum) {\n    let result = []\n    let residue = this.getResidueProxy()\n    for (let iRes of _.range(this.getResidueCount())) {\n      residue.iRes = iRes\n      if (\n        residue.iStructure === iStructure &&\n        residue.chain === chain &&\n        residue.resNum === resNum\n      ) {\n        result.push(iRes)\n      }\n    }\n    return result\n  }\n\n  assignResidueProperties (iStructure) {\n    let res = this.getResidueProxy()\n    for (let iRes = 0; iRes < this.getResidueCount(); iRes += 1) {\n      res.iRes = iRes\n\n      if (res.iStructure !== iStructure) {\n        continue\n      }\n\n      if (_.includes(data.proteinResTypes, res.resType)) {\n        res.iAtom = res.getIAtom('CA')\n        res.ss = 'C'\n        res.isPolymer = true\n      } else if (\n        _.includes(data.dnaResTypes, res.resType) ||\n        _.includes(data.rnaResTypes, res.resType)\n      ) {\n        res.iAtom = res.getIAtom(\"C3'\")\n        res.ss = 'D'\n        res.isPolymer = true\n      } else {\n        res.isPolymer = false\n        if (res.resType === 'HOH') {\n          // water\n          res.ss = 'W'\n        } else if (res.resType === 'XXX') {\n          // grid atom\n          res.ss = 'G'\n        } else {\n          res.ss = '-'\n        }\n        let center = this.getCenter(res.getAtomIndices())\n        res.iAtom = this.getIAtomClosest(center, res.getAtomIndices())\n      }\n    }\n  }\n\n  getIAtomClosest (pos, atomIndices) {\n    let iAtomClosest = null\n    let minD = 1e6\n    let atom = this.getAtomProxy()\n    for (let iAtom of atomIndices) {\n      if (iAtomClosest === null) {\n        iAtomClosest = iAtom\n      } else {\n        atom.iAtom = iAtom\n        let d = v3.distance(pos, atom.pos)\n        if (d < minD) {\n          iAtomClosest = iAtom\n          minD = d\n        }\n      }\n    }\n    return iAtomClosest\n  }\n\n  getIAtomAtPosition (pos) {\n    let atomIndices = _.range(this.getAtomCount())\n    let iAtomClosest = null\n    let minD = 1e6\n    let atom = this.getAtomProxy()\n    for (let iAtom of atomIndices) {\n      if (iAtomClosest === null) {\n        iAtomClosest = iAtom\n      } else {\n        atom.iAtom = iAtom\n        let d = v3.distance(pos, atom.pos)\n        if (d < minD) {\n          iAtomClosest = iAtom\n          minD = d\n        }\n      }\n    }\n    if (minD < 0.1) {\n      return iAtomClosest\n    } else {\n      return -1\n    }\n  }\n\n  getCenter (atomIndices) {\n    let result = v3.create(0, 0, 0)\n    let atom = this.getAtomProxy()\n    for (let iAtom of atomIndices) {\n      result = v3.sum(result, atom.load(iAtom).pos)\n    }\n    result.divideScalar(atomIndices.length)\n    return result\n  }\n\n  calcMaxLength (atomIndices = null) {\n    let maxima = [0.0, 0.0, 0.0]\n    let minima = [0.0, 0.0, 0.0]\n    let spans = [0.0, 0.0, 0.0]\n\n    function comp (v, i) {\n      if (i === 0) return v.x\n      if (i === 1) return v.y\n      if (i === 2) return v.z\n    }\n\n    if (_.isNull(atomIndices)) {\n      atomIndices = _.range(this.getAtomCount())\n    }\n    let atom = this.getAtomProxy()\n    for (let iDim = 0; iDim < 3; iDim++) {\n      for (let iAtom of atomIndices) {\n        let pos = atom.load(iAtom).pos\n        if (minima[iDim] > comp(pos, iDim)) {\n          minima[iDim] = comp(pos, iDim)\n        }\n        if (maxima[iDim] < comp(pos, iDim)) {\n          maxima[iDim] = comp(pos, iDim)\n        }\n      }\n      spans[iDim] = maxima[iDim] - minima[iDim]\n    }\n    return Math.max(spans[0], spans[1], spans[2])\n  }\n\n  /**\n   * Only calculates bonds within residues and between\n   * neighbouring residues. Two bonds are defined for\n   * each contact, allowing the bonds to be cheaply\n   * assigned to either atom without requiring\n   * double-looping. This is quite an expensive step\n   * using this naive algoirthm\n   */\n  calcBondsStrategic () {\n    this.bondStore.count = 0\n\n    const smallCutoffSq = 1.2 * 1.2\n    const mediumCutoffSq = 1.9 * 1.9\n    const largeCutoffSq = 2.4 * 2.4\n    const CHONPS = ['C', 'H', 'O', 'N', 'P', 'S']\n\n    function isBonded (atom1, atom2) {\n      if (atom1 === null || atom2 === null) {\n        return false\n      }\n      // don't include bonds between different alt positions\n      if (atom1.alt !== '' && atom2.alt !== '') {\n        if (atom1.alt !== atom2.alt) {\n          return false\n        }\n      }\n\n      let cutoffSq\n      if (atom1.elem === 'H' || atom2.elem === 'H') {\n        cutoffSq = smallCutoffSq\n      } else if (inArray(atom1.elem, CHONPS) && inArray(atom2.elem, CHONPS)) {\n        cutoffSq = mediumCutoffSq\n      } else {\n        cutoffSq = largeCutoffSq\n      }\n\n      let diffX = atom1.pos.x - atom2.pos.x\n      let diffY = atom1.pos.y - atom2.pos.y\n      let diffZ = atom1.pos.z - atom2.pos.z\n      let distSq = diffX * diffX + diffY * diffY + diffZ * diffZ\n      return distSq <= cutoffSq\n    }\n\n    let makeBond = (atom1, atom2) => {\n      let iBond = this.getBondCount()\n      this.bondStore.increment()\n      this.bondStore.iAtom1[iBond] = atom1.iAtom\n      this.bondStore.iAtom2[iBond] = atom2.iAtom\n\n      iBond = this.getBondCount()\n      this.bondStore.increment()\n      this.bondStore.iAtom1[iBond] = atom2.iAtom\n      this.bondStore.iAtom2[iBond] = atom1.iAtom\n    }\n\n    let residue1 = this.getResidueProxy()\n    let residue2 = this.getResidueProxy()\n    let nRes = this.getResidueCount()\n    let atom1 = this.getAtomProxy()\n    let atom2 = this.getAtomProxy()\n\n    for (let iRes1 = 0; iRes1 < nRes; iRes1++) {\n      residue2.iRes = iRes1\n\n      // cycle through all atoms within a residue\n      for (let iAtom1 of residue2.getAtomIndices()) {\n        for (let iAtom2 of residue2.getAtomIndices()) {\n          atom1.iAtom = iAtom1\n          atom2.iAtom = iAtom2\n          if (isBonded(atom1, atom2)) {\n            makeBond(atom1, atom2)\n          }\n        }\n      }\n    }\n\n    for (let iRes2 = 1; iRes2 < nRes; iRes2++) {\n      residue1.iRes = iRes2 - 1\n      residue2.iRes = iRes2\n      if (residue2.isProteinConnectedToPrev()) {\n        if (residue1.checkAtomTypes(['C']) && residue2.checkAtomTypes(['N'])) {\n          atom1.iAtom = residue1.getIAtom('C')\n          atom2.iAtom = residue2.getIAtom('N')\n        }\n      } else if (residue2.isNucleotideConnectedToPrev()) {\n        if (\n          residue1.checkAtomTypes([\"O3'\"]) &&\n          residue2.checkAtomTypes(['P'])\n        ) {\n          atom1.iAtom = residue1.getIAtom(`O3'`)\n          atom2.iAtom = residue2.getIAtom('P')\n        }\n      } else {\n        continue\n      }\n      makeBond(atom1, atom2)\n    }\n\n    // sort bonds by iAtom1\n    let iAtom1Array = this.bondStore.iAtom1\n    this.bondStore.sort((i, j) => iAtom1Array[i] - iAtom1Array[j])\n\n    // asign bonds to atoms\n    for (let iAtom = 0; iAtom < this.getAtomCount(); iAtom += 1) {\n      this.atomStore.bondCount[iAtom] = 0\n    }\n    let bond = this.getBondProxy()\n    let iAtom1 = null\n    for (let iBond = 0; iBond < this.getBondCount(); iBond += 1) {\n      bond.iBond = iBond\n      if (iAtom1 !== bond.iAtom1) {\n        iAtom1 = bond.iAtom1\n        this.atomStore.bondOffset[iAtom1] = iBond\n      }\n      this.atomStore.bondCount[iAtom1] += 1\n    }\n\n    // this.bondSelect = new BitArray(this.getBondCount())\n  }\n\n  /**\n   * Identify backbone hydrogen bonds using a distance\n   * criteria between O and N atoms.\n   */\n  findBackboneHbonds () {\n    let residue = this.getResidueProxy()\n    let atom0 = this.getAtomProxy()\n    let atom1 = this.getAtomProxy()\n\n    let result = []\n    let cutoff = 3.5\n\n    for (\n      let iStructure = 0;\n      iStructure < this.structureIds.length;\n      iStructure += 1\n    ) {\n      // Collect backbone O and N atoms\n      let vertices = []\n      let atomIndices = []\n      for (let iRes = 0; iRes < this.getResidueCount(); iRes += 1) {\n        residue.iRes = iRes\n        if (residue.iStructure !== iStructure) {\n          // ensure only backbone H-bonds of a single structure are calculated\n          continue\n        }\n        if (residue.isPolymer) {\n          for (let aTypeName of ['O', 'N']) {\n            let iAtom = residue.getIAtom(aTypeName)\n            if (iAtom !== null) {\n              atom0.iAtom = iAtom\n              vertices.push([atom0.pos.x, atom0.pos.y, atom0.pos.z])\n              atomIndices.push(iAtom)\n            }\n          }\n        }\n      }\n\n      let spaceHash = new SpaceHash(vertices)\n      for (let pair of spaceHash.getClosePairs()) {\n        atom0.iAtom = atomIndices[pair[0]]\n        atom1.iAtom = atomIndices[pair[1]]\n        if (atom0.elem === 'O' && atom1.elem === 'N') {\n          ;[atom0, atom1] = [atom1, atom0]\n        }\n        if (!(atom0.elem === 'N' && atom1.elem === 'O')) {\n          continue\n        }\n        let iRes0 = atom0.iRes\n        let iRes1 = atom1.iRes\n        if (iRes0 === iRes1) {\n          continue\n        }\n        if (v3.distance(atom0.pos, atom1.pos) <= cutoff) {\n          pushToListInDict(result, iRes0, iRes1)\n        }\n      }\n    }\n\n    this.conhPartners = result\n  }\n\n  /**\n   * Methods to calculate secondary-structure using Kabsch-Sanders\n   *\n   * Secondary Structure:\n   * - H - alpha-helix/3-10-helix\n   * - E - beta-sheet\n   * - C - coil\n   * - - - ligand\n   * - W - water\n   * - D - DNA or RNA\n   * - R - non-standard nucleotide\n   */\n  findSecondaryStructure () {\n    this.findBackboneHbonds()\n    let conhPartners = this.conhPartners\n    let residueNormals = {}\n\n    let nRes = this.getResidueCount()\n    let residue0 = this.getResidueProxy()\n    let residue1 = this.getResidueProxy()\n\n    let atom0 = this.getAtomProxy()\n    let atom1 = this.getAtomProxy()\n\n    function isCONH (iRes0, iRes1) {\n      if (iRes1 < 0 || iRes1 >= nRes || iRes0 < 0 || iRes0 >= nRes) {\n        return false\n      }\n      return _.includes(conhPartners[iRes1], iRes0)\n    }\n\n    function vecBetweenResidues (iRes0, iRes1) {\n      atom0.iAtom = residue0.load(iRes0).iAtom\n      atom1.iAtom = residue1.load(iRes1).iAtom\n      return v3.diff(atom0.pos, atom1.pos)\n    }\n\n    // Collect ca atoms\n    let vertices = []\n    let atomIndices = []\n    let resIndices = []\n    for (let iRes = 0; iRes < this.getResidueCount(); iRes += 1) {\n      residue0.iRes = iRes\n      if (residue0.isPolymer && !(residue0.ss === 'D')) {\n        let iAtom = residue0.getIAtom('CA')\n        if (iAtom !== null) {\n          atom0.iAtom = iAtom\n          vertices.push([atom0.pos.x, atom0.pos.y, atom0.pos.z])\n          atomIndices.push(iAtom)\n          resIndices.push(iRes)\n        }\n      }\n    }\n\n    for (let iRes0 = 0; iRes0 < nRes; iRes0 += 1) {\n      residue0.iRes = iRes0\n\n      if (!residue0.isPolymer) {\n        continue\n      }\n\n      if (residue0.ss === 'D') {\n        pushToListInDict(residueNormals, iRes0, residue0.getNucleotideNormal())\n        continue\n      }\n\n      // alpha-helix\n      if (isCONH(iRes0, iRes0 + 4) && isCONH(iRes0 + 1, iRes0 + 5)) {\n        let normal0 = vecBetweenResidues(iRes0, iRes0 + 4)\n        let normal1 = vecBetweenResidues(iRes0 + 1, iRes0 + 5)\n        for (let iRes1 = iRes0 + 1; iRes1 < iRes0 + 5; iRes1 += 1) {\n          residue0.load(iRes1).ss = 'H'\n          pushToListInDict(residueNormals, iRes1, normal0)\n          pushToListInDict(residueNormals, iRes1, normal1)\n        }\n      }\n\n      // 3-10 helix\n      if (isCONH(iRes0, iRes0 + 3) && isCONH(iRes0 + 1, iRes0 + 4)) {\n        let normal1 = vecBetweenResidues(iRes0, iRes0 + 3)\n        let normal2 = vecBetweenResidues(iRes0 + 1, iRes0 + 4)\n        for (let iRes1 = iRes0 + 1; iRes1 < iRes0 + 4; iRes1 += 1) {\n          residue0.load(iRes1).ss = 'H'\n          pushToListInDict(residueNormals, iRes1, normal1)\n          pushToListInDict(residueNormals, iRes1, normal2)\n        }\n      }\n    }\n\n    let betaResidues = []\n    let spaceHash = new SpaceHash(vertices)\n    for (let pair of spaceHash.getClosePairs()) {\n      let [iVertex0, iVertex1] = pair\n      let iRes0 = resIndices[iVertex0]\n      let iRes1 = resIndices[iVertex1]\n      if (Math.abs(iRes0 - iRes1) <= 5) {\n        continue\n      }\n      // parallel beta sheet pairs\n      if (isCONH(iRes0, iRes1 + 1) && isCONH(iRes1 - 1, iRes0)) {\n        betaResidues = betaResidues.concat([iRes0, iRes1])\n      }\n      if (isCONH(iRes0 - 1, iRes1) && isCONH(iRes1, iRes0 + 1)) {\n        betaResidues = betaResidues.concat([iRes0, iRes1])\n      }\n\n      // anti-parallel hbonded beta sheet pairs\n      if (isCONH(iRes0, iRes1) && isCONH(iRes1, iRes0)) {\n        betaResidues = betaResidues.concat([iRes0, iRes1])\n        let normal = vecBetweenResidues(iRes0, iRes1)\n        pushToListInDict(residueNormals, iRes0, normal)\n        pushToListInDict(residueNormals, iRes1, v3.scaled(normal, -1))\n      }\n\n      // anti-parallel non-hbonded beta sheet pairs\n      if (isCONH(iRes0 - 1, iRes1 + 1) && isCONH(iRes1 - 1, iRes0 + 1)) {\n        betaResidues = betaResidues.concat([iRes0, iRes1])\n        let normal = vecBetweenResidues(iRes0, iRes1)\n        pushToListInDict(residueNormals, iRes0, v3.scaled(normal, -1))\n        pushToListInDict(residueNormals, iRes1, normal)\n      }\n    }\n\n    for (let iRes of betaResidues) {\n      residue0.load(iRes).ss = 'E'\n    }\n\n    // average residueNormals to make a nice average\n    for (let iRes = 0; iRes < nRes; iRes += 1) {\n      if (iRes in residueNormals && residueNormals[iRes].length > 0) {\n        let normalSum = v3.create(0, 0, 0)\n        for (let normal of residueNormals[iRes]) {\n          normalSum = v3.sum(normalSum, normal)\n        }\n        this.residueNormal[iRes] = v3.normalized(normalSum)\n      }\n    }\n\n    // flip every second beta-strand normal so they are\n    // consistently pointing in the same direction\n    for (let iRes = 1; iRes < nRes; iRes += 1) {\n      residue0.iRes = iRes - 1\n      residue1.iRes = iRes\n      if (residue0.ss === 'E' && residue0.normal) {\n        if (residue1.ss === 'E' && residue1.normal) {\n          if (residue1.normal.dot(residue0.normal) < 0) {\n            this.residueNormal[iRes].negate()\n          }\n        }\n      }\n    }\n  }\n\n  calculateTracesForRibbons () {\n    this.traces.length = 0\n\n    let lastTrace\n    let residue = this.getResidueProxy()\n    let nextResidue = this.getResidueProxy()\n    let atom = this.getAtomProxy()\n    let nRes = this.getResidueCount()\n    for (let iRes = 0; iRes < nRes; iRes += 1) {\n      residue.iRes = iRes\n      if (iRes < nRes - 1) {\n        nextResidue.iRes = iRes + 1\n        if (nextResidue.isConnectedToPrev()) {\n          // set for non-standard DNA or protein residues\n          residue.isPolymer = true\n          nextResidue.isPolymer = true\n        }\n      }\n      if (residue.isPolymer) {\n        if (\n          _.isUndefined(lastTrace) ||\n          iRes === 0 ||\n          !residue.isConnectedToPrev()\n        ) {\n          let newTrace = new glgeom.Trace()\n          newTrace.getReference = i => {\n            residue.iRes = newTrace.indices[i]\n            return residue\n          }\n          this.traces.push(newTrace)\n          lastTrace = newTrace\n        }\n        lastTrace.indices.push(iRes)\n\n        if (residue.getIAtom('CA')) {\n          atom.iAtom = residue.getIAtom('CA')\n        } else if (residue.getIAtom(\"C3'\")) {\n          atom.iAtom = residue.getIAtom(\"C3'\")\n        } else {\n          atom.iAtom = residue.iAtom\n        }\n\n        lastTrace.refIndices.push(residue.iRes)\n        lastTrace.points.push(atom.pos.clone())\n        lastTrace.colors.push(residue.activeColor)\n        lastTrace.indexColors.push(getIndexColor(residue.iAtom))\n        lastTrace.segmentTypes.push(residue.ss)\n        lastTrace.normals.push(residue.normal)\n      }\n    }\n\n    for (let trace of this.traces) {\n      trace.calcTangents()\n      trace.calcNormals()\n      trace.calcBinormals()\n      trace.expand()\n    }\n  }\n\n  getIStructureAndChain () {\n    if (this.selectedTraces.length > 0) {\n      let iTrace = this.selectedTraces[0]\n      let trace = this.traces[iTrace]\n      if (_.isNil(trace)) {\n        return null\n      }\n      let iRes = this.traces[iTrace].indices[0]\n      let residue = this.getResidueProxy(iRes)\n      let iStructure = residue.iStructure\n      let chain = residue.chain\n      return { iStructure, chain }\n    }\n    return null\n  }\n\n  getAtomProxy (iAtom) {\n    return new AtomProxy(this, iAtom)\n  }\n\n  getAtomCount () {\n    return this.atomStore.count\n  }\n\n  getResidueProxy (iRes) {\n    return new ResidueProxy(this, iRes)\n  }\n\n  getBondProxy (iBond) {\n    return new BondProxy(this, iBond)\n  }\n\n  getBondCount () {\n    return this.bondStore.count\n  }\n\n  getResidueCount () {\n    return this.residueStore.count\n  }\n\n  areCloseResidues (iRes0, iRes1) {\n    let atom0 = this.getAtomProxy()\n    let atom1 = this.getAtomProxy()\n\n    let res0 = this.getResidueProxy(iRes0)\n    let pos0 = atom0.load(res0.iAtom).pos.clone()\n    let atomIndices0 = res0.getAtomIndices()\n\n    let res1 = this.getResidueProxy(iRes1)\n    let pos1 = atom1.load(res1.iAtom).pos.clone()\n    let atomIndices1 = res1.getAtomIndices()\n\n    if (v3.distance(pos0, pos1) > 17) {\n      return false\n    }\n\n    for (let iAtom0 of atomIndices0) {\n      for (let iAtom1 of atomIndices1) {\n        if (v3.distance(atom0.load(iAtom0).pos, atom1.load(iAtom1).pos) < 4) {\n          return true\n        }\n      }\n    }\n    return false\n  }\n\n  clearSelectedResidues () {\n    let residue = this.getResidueProxy()\n    for (let iRes = 0; iRes < this.getResidueCount(); iRes += 1) {\n      residue.load(iRes).selected = false\n    }\n  }\n\n  clearSidechainResidues () {\n    let residue = this.getResidueProxy()\n    for (let iRes = 0; iRes < this.getResidueCount(); iRes += 1) {\n      residue.load(iRes).sidechain = false\n    }\n  }\n\n  setSidechainOfResidues (residueIndices, isSidechain) {\n    let residue = this.getResidueProxy()\n    for (let iRes of residueIndices) {\n      residue.load(iRes).sidechain = isSidechain\n    }\n  }\n\n  getAtomsOfChainContainingResidue (iRes) {\n    let residue = this.getResidueProxy(iRes)\n    let iStructure = residue.iStructure\n    let chain = residue.chain\n    let atomIndices = []\n    for (let i = 0; i < this.getResidueCount(); i += 1) {\n      residue.iRes = i\n      if (residue.iStructure === iStructure && residue.chain === chain) {\n        atomIndices.push(residue.iAtom)\n      }\n    }\n    return atomIndices\n  }\n\n  getNeighbours (iRes) {\n    let indices = [iRes]\n    for (let jRes = 0; jRes < this.getResidueCount(); jRes += 1) {\n      if (this.areCloseResidues(jRes, iRes)) {\n        indices.push(jRes)\n      }\n    }\n    return indices\n  }\n\n  isResCloseToPoint (iRes0, pos1) {\n    let atom0 = this.getAtomProxy()\n\n    let res0 = this.getResidueProxy(iRes0)\n    let pos0 = atom0.load(res0.iAtom).pos.clone()\n    if (v3.distance(pos0, pos1) > 17) {\n      return false\n    }\n\n    let atomIndices0 = res0.getAtomIndices()\n    for (let iAtom0 of atomIndices0) {\n      if (v3.distance(atom0.load(iAtom0).pos, pos1) < 5) {\n        return true\n      }\n    }\n    return false\n  }\n\n  getNeighboursOfPoint (pos) {\n    let indices = []\n    for (let jRes = 0; jRes < this.getResidueCount(); jRes += 1) {\n      if (this.isResCloseToPoint(jRes, pos)) {\n        indices.push(jRes)\n      }\n    }\n    return indices\n  }\n\n  setSecondaryStructureColorResidues () {\n    let residue = this.getResidueProxy()\n    for (let iRes of _.range(this.getResidueCount())) {\n      residue.iRes = iRes\n      residue.customColor = data.getSsColor(residue.ss)\n    }\n  }\n\n  colorResidues () {\n    let residue = this.getResidueProxy()\n    let isGridActive = _.some(_.values(this.grid.isElem))\n    if (isGridActive) {\n      for (let iRes of _.range(this.getResidueCount())) {\n        residue.iRes = iRes\n        residue.color = data.darkGrey\n      }\n    }\n\n    for (let iRes of _.range(this.getResidueCount())) {\n      residue.iRes = iRes\n      residue.color = isGridActive ? data.darkGrey : residue.customColor\n    }\n  }\n\n  /**\n   * Searches autodock grid atoms for B-factor limits\n   */\n  findGridLimits () {\n    let residue = this.getResidueProxy()\n    let atom = this.getAtomProxy()\n    this.grid.isElem = {}\n    for (let iRes = 0; iRes < this.getResidueCount(); iRes += 1) {\n      residue.iRes = iRes\n      if (residue.ss === 'G') {\n        atom.iAtom = residue.iAtom\n        if (!(atom.elem in this.grid.isElem)) {\n          this.grid.isElem[atom.elem] = true\n        }\n        if (this.grid.bMin === null) {\n          this.grid.bMin = atom.bfactor\n          this.grid.bMax = atom.bfactor\n        } else {\n          if (atom.bfactor > this.grid.bMax) {\n            this.grid.bMax = atom.bfactor\n          }\n          if (atom.bfactor < this.grid.bMin) {\n            this.grid.bMin = atom.bfactor\n          }\n        }\n      }\n    }\n\n    if (this.grid.bMin === null) {\n      this.grid.bMin = 0\n    }\n    if (this.grid.bMax === null) {\n      this.grid.bMin = 0\n    }\n    if (_.isNil(this.grid)) {\n      this.grid.bCutoff = this.grid.bMin\n    }\n  }\n\n  makeSelectedResidueList () {\n    let result = []\n    let residue = this.getResidueProxy()\n    for (let i = 0; i < this.getResidueCount(); i += 1) {\n      if (residue.load(i).sidechain) {\n        result.push(i)\n      }\n    }\n    return result\n  }\n}\n\nexport { Soup }\n","/**\n * Widget interface\n *\n * Widgets - abstact data structures for decorators to\n * be displayed on the DOM to support the main\n * embeddged widget of Jolecule.\n *\n * The structure of a Widget takes a Display object\n * in the constructor, which allows access to a full\n * SoupView object, with its attendant Controller.\n *\n * props:\n *   div: a Jquery DOM element where the Widget is attached\n *        could be a Canvas or a Div etc.\n *\n * methods\n *   resize (): called when the browser window changes\n *   rebuild (): called when underlying Soup is modified\n *   update (): called when SoupWidget goes through a rendering change\n *   drawFrame (): called every animation frame\n */\n\nimport $ from 'jquery'\nimport * as THREE from 'three'\nimport _ from 'lodash'\n\n// to support cross-browser styled drop-down selectors\nimport 'select2' // eslint-disable-line no-alert\nimport '../dist/select2.css' // eslint-disable-line no-alert\n\nimport * as data from './data'\nimport * as util from './util'\n\n/**\n * LineElement\n * - instantiates a DOM object is to draw a line between (x1, y1) and\n *   (x2, y2) within a jquery div\n * - used to display the mouse tool for making distance labels\n */\nclass LineElement {\n  constructor (soupWidget, color) {\n    this.color = color\n\n    this.div = $('<canvas>').css({\n      position: 'absolute',\n      'z-index': '1',\n      display: 'none',\n      'pointer-events': 'none'\n    })\n\n    this.canvas = this.div[0]\n    this.context2d = this.canvas.getContext('2d')\n\n    this.parentDiv = $(soupWidget.divTag)\n    this.parentDiv.append(this.div)\n  }\n\n  hide () {\n    this.div.css('display', 'none')\n  }\n\n  move (x1, y1, x2, y2) {\n    let parentDivPos = this.parentDiv.position()\n\n    let width = Math.abs(x1 - x2)\n    let height = Math.abs(y1 - y2)\n\n    let left = Math.min(x1, x2)\n    let top = Math.min(y1, y2)\n\n    this.div\n      .css('display', 'block')\n      .css('width', width)\n      .css('height', height)\n      .css('top', top)\n      .css('left', left)\n\n    this.canvas.width = width\n    this.canvas.height = height\n\n    this.context2d.clearRect(0, 0, width, height)\n    this.context2d.beginPath()\n    this.context2d.moveTo(x1 - left, y1 - top)\n    this.context2d.lineTo(x2 - left, y2 - top)\n    this.context2d.lineWidth = 2\n    this.context2d.strokeStyle = this.color\n    this.context2d.stroke()\n  }\n}\n\n/**\n * CanvasWidget\n *   - abstract class to wrap a canvas2d element\n *   - instantiates an absolute div that fits the $(selector)\n *   - attaches a canvas to this div\n *   - creates methods that redirects mouse commands to that canvas\n */\nclass CanvasWidget {\n  constructor (selector) {\n    this.parentDiv = $(selector)\n    this.parentDivId = this.parentDiv.attr('id')\n\n    this.div = $('<div>').css('user-select', 'none')\n    // .css('position', 'absolute')\n\n    this.parentDiv.append(this.div)\n\n    this.canvas = $('<canvas>')\n\n    this.div.append(this.canvas)\n    this.canvasDom = this.canvas[0]\n    this.drawContext = this.canvasDom.getContext('2d')\n\n    this.mousePressed = false\n    this.downTimer = null\n    const dom = this.canvasDom\n    const bind = (ev, fn) => {\n      dom.addEventListener(ev, fn)\n    }\n    bind('mousedown', e => this.mousedown(e))\n    bind('mousemove', e => this.mousemove(e))\n    bind('mouseup', e => this.mouseup(e))\n    bind('mouseout', e => this.mouseout(e))\n    bind('touchstart', e => this.mousedown(e))\n    bind('touchmove', e => this.mousemove(e))\n    bind('touchend', e => this.mouseup(e))\n    bind('touchcancel', e => this.mouseup(e))\n  }\n\n  width () {\n    return this.parentDiv.width()\n  }\n\n  height () {\n    return this.parentDiv.height()\n  }\n\n  x () {\n    let parentDivPos = this.parentDiv.position()\n    return parentDivPos.left\n  }\n\n  y () {\n    let parentDivPos = this.parentDiv.position()\n    return parentDivPos.top\n  }\n\n  inside (x, y) {\n    return (\n      x >= this.x() &&\n      x <= this.x() + this.width() &&\n      y >= this.y() &&\n      y <= this.y() + this.height()\n    )\n  }\n\n  update () {}\n\n  resize () {\n    this.canvasDom.width = this.width()\n    this.canvasDom.height = this.height()\n  }\n\n  strokeRect (x, y, w, h, strokeStyle) {\n    this.drawContext.strokeStyle = strokeStyle\n    this.drawContext.strokeRect(x, y, w, h)\n  }\n\n  fillRect (x, y, w, h, fillStyle) {\n    this.drawContext.fillStyle = fillStyle\n    this.drawContext.strokeStyle = 'none'\n    this.drawContext.fillRect(x, y, w, h)\n  }\n\n  line (x1, y1, x2, y2, lineWidth, color) {\n    this.drawContext.fillStyle = color\n    this.drawContext.strokeStyle = color\n    this.drawContext.beginPath()\n    this.drawContext.lineWidth = lineWidth\n    this.drawContext.moveTo(x1, y1)\n    this.drawContext.lineTo(x2, y2)\n    this.drawContext.stroke()\n  }\n\n  text (text, x, y, font, color, align) {\n    this.drawContext.fillStyle = color\n    this.drawContext.font = font\n    this.drawContext.textAlign = align\n    this.drawContext.textBaseline = 'middle'\n    this.drawContext.fillText(text, x, y)\n  }\n\n  textWidth (text, font) {\n    this.drawContext.font = font\n    this.drawContext.textAlign = 'center'\n    return this.drawContext.measureText(text).width\n  }\n\n  saveMouse () {\n    this.saveMouseX = this.pointerX\n    this.saveMouseY = this.pointerY\n    this.saveMouseR = this.mouseR\n    this.saveMouseT = this.mouseT\n  }\n\n  click (event) {}\n\n  doubleclick (event) {}\n\n  mousedown (event) {\n    event.preventDefault()\n\n    this.getPointer(event)\n    this.saveMouse()\n    this.mousePressed = true\n\n    if (this.downTimer === null) {\n      this.downTimer = setTimeout(() => this.click(event), 250)\n    } else {\n      clearTimeout(this.downTimer)\n      this.doubleclick(event)\n      this.downTimer = null\n    }\n\n    this.mousemove(event)\n  }\n\n  mousemove (event) {}\n\n  mouseout (event) {}\n\n  mouseup (event) {\n    event.preventDefault()\n    this.mousePressed = false\n  }\n\n  getPointer (event) {\n    if (util.exists(event.touches) && event.touches.length > 0) {\n      this.eventX = event.touches[0].clientX\n      this.eventY = event.touches[0].clientY\n    } else {\n      this.eventX = event.clientX\n      this.eventY = event.clientY\n    }\n\n    let rect = event.target.getBoundingClientRect()\n    this.pointerX = this.eventX - rect.left\n    this.pointerY = this.eventY - rect.top\n\n    let x = this.pointerX - this.width() / 2\n    let y = this.pointerY - this.height() / 2\n\n    this.mouseR = Math.sqrt(x * x + y * y)\n\n    this.mouseT = Math.atan(y / x)\n    if (x < 0) {\n      if (y > 0) {\n        this.mouseT += Math.PI\n      } else {\n        this.mouseT -= Math.PI\n      }\n    }\n  }\n}\n\n/**\n * PopupText is a little blob of text with a down\n * arrow that can be displayed in a (x, y) position\n * within a parent div denoted by selector\n */\nclass PopupText {\n  constructor (divTag, heightArrow) {\n    if (_.isUndefined(heightArrow)) {\n      this.heightArrow = 30\n    } else {\n      this.heightArrow = heightArrow\n    }\n\n    this.div = $('<div>').css({\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      background: 'white',\n      'box-sizing': 'border-box',\n      font: '12px Helvetica',\n      color: '#666',\n      padding: '5',\n      opacity: 0.8,\n      display: 'none',\n      'max-width': '300px',\n      'z-index': 1,\n      cursor: 'pointer',\n      'user-select': 'none',\n      'pointer-events': 'none'\n    })\n\n    this.arrow = $('<div>').css({\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: 0,\n      height: 0,\n      'box-sizing': 'border-box',\n      'border-left': '5px solid transparent',\n      'border-right': '5px solid transparent',\n      'border-top': this.heightArrow + 'px solid white',\n      opacity: 0.8,\n      display: 'none',\n      'z-index': 1,\n      'pointer-events': 'none',\n      'user-select': 'none'\n    })\n\n    this.parentDiv = $(divTag)\n    this.parentDiv.append(this.div)\n    this.parentDiv.append(this.arrow)\n  }\n\n  move (x, y) {\n    this.div.css({ display: 'block' })\n    let rect = this.div[0].getBoundingClientRect()\n    let width = rect.width\n    let height = rect.height\n\n    this.arrow.css({ display: 'block' })\n\n    if (\n      x < 0 ||\n      x > this.parentDiv.width() ||\n      y < 0 ||\n      y > this.parentDiv.height()\n    ) {\n      this.hide()\n      return\n    }\n\n    this.arrow.css({\n      top: y - this.heightArrow,\n      left: x - 5\n    })\n\n    this.div.css({\n      top: y - this.heightArrow - height,\n      left: x - width / 2\n    })\n  }\n\n  hide () {\n    this.div.css('display', 'none')\n    this.arrow.css('display', 'none')\n  }\n\n  html (text) {\n    this.div.html(text)\n  }\n\n  remove () {\n    this.div.remove()\n    this.arrow.remove()\n  }\n}\n\n/**\n * A set of pop-up text labels over specified atoms, rendered as\n * DIV text on the DOM on top of Display but using opacity\n * of the given z position of the associated atoms\n */\nclass AtomLabelsWidget {\n  constructor (soupWidget) {\n    this.soupWidget = soupWidget\n    this.soupView = soupWidget.soupView\n    this.controller = soupWidget.controller\n    this.popups = []\n  }\n\n  removePopup (i) {\n    this.controller.deleteAtomLabel(i)\n    this.popups[i].remove()\n    this.popups.splice(i, 1)\n  }\n\n  createPopup (i) {\n    let popup = new PopupText(this.soupWidget.divTag)\n    popup.i = i\n    popup.div.css('pointer-events', 'auto')\n    popup.div.click(() => {\n      this.removePopup(popup.i)\n    })\n    return popup\n  }\n\n  drawFrame () {\n    let labels = this.soupView.currentView.labels\n\n    if (labels.length > this.popups.length) {\n      for (let i = this.popups.length; i < labels.length; i += 1) {\n        this.popups.push(this.createPopup(i))\n      }\n    }\n\n    if (this.popups.length > labels.length) {\n      for (let i = this.popups.length - 1; i >= labels.length; i -= 1) {\n        this.removePopup(i)\n      }\n    }\n\n    let atom = this.soupView.soup.getAtomProxy()\n    for (let i = 0; i < labels.length; i += 1) {\n      this.popups[i].i = i\n\n      atom.iAtom = labels[i].i_atom\n\n      this.popups[i].html(labels[i].text)\n\n      let opacity = 0.7 * this.soupWidget.opacity(atom.pos) + 0.2\n      this.popups[i].div.css('opacity', opacity)\n      this.popups[i].arrow.css('opacity', opacity)\n\n      let v = this.soupWidget.getPosXY(atom.pos)\n      this.popups[i].move(v.x, v.y)\n\n      if (!this.soupWidget.inZlab(atom.pos)) {\n        this.popups[i].div.css('display', 'none')\n        this.popups[i].arrow.css('display', 'none')\n      }\n    }\n  }\n}\n\n/**\n * Collection of inter-atomic distances to be displayed\n * using a combination of opaque canvas lines and text div\n * tags\n */\nclass DistanceMeasuresWidget {\n  constructor (soupWidget) {\n    this.distanceMeasures = []\n    this.scene = soupWidget.displayScene\n    this.soupView = soupWidget.soupView\n    this.controller = soupWidget.controller\n    this.soupWidget = soupWidget\n    this.parentDiv = $(this.soupWidget.divTag)\n    this.divs = []\n  }\n\n  removeDistance (i) {\n    this.scene.remove(this.distanceMeasures[i].line)\n    this.distanceMeasures[i].div.remove()\n    this.controller.deleteDistance(i)\n    this.distanceMeasures.splice(i, 1)\n  }\n\n  createDistanceMeasure (i) {\n    let div = $('<div>').css({\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      'background-color': '#FFDDDD',\n      padding: '5',\n      opacity: 0.7,\n      'font-family': 'sans-serif'\n    })\n    div.i = i\n    div.click(() => {\n      this.removeDistance(div.i)\n    })\n    this.parentDiv.append(div)\n\n    let geometry = new THREE.Geometry()\n    geometry.vertices.push(new THREE.Vector3(0, 0, 0))\n    geometry.vertices.push(new THREE.Vector3(1, 1, 1))\n    let material = new THREE.LineDashedMaterial({\n      color: 0xff7777,\n      dashSize: 3,\n      gapSize: 4,\n      linewidth: 1\n    })\n    let line = new THREE.Line(geometry, material)\n    line.dontDelete = true\n    this.scene.add(line)\n\n    return { line, div }\n  }\n\n  drawFrame () {\n    let distances = this.soupView.currentView.distances\n\n    if (distances.length > this.distanceMeasures.length) {\n      for (let i = this.distanceMeasures.length; i < distances.length; i += 1) {\n        this.distanceMeasures.push(this.createDistanceMeasure(i))\n      }\n    }\n\n    if (this.distanceMeasures.length > distances.length) {\n      for (\n        let i = this.distanceMeasures.length - 1;\n        i >= distances.length;\n        i -= 1\n      ) {\n        this.removeDistance(i)\n      }\n    }\n\n    let parentDivPos = this.parentDiv.position()\n\n    let a0 = this.soupView.soup.getAtomProxy()\n    let a1 = this.soupView.soup.getAtomProxy()\n\n    for (let i = 0; i < distances.length; i += 1) {\n      let distance = distances[i]\n      this.distanceMeasures[i].div.i = i\n      let distanceMeasure = this.distanceMeasures[i]\n\n      let p1 = a0.load(distance.i_atom1).pos\n      let p2 = a1.load(distance.i_atom2).pos\n\n      let text = p1.distanceTo(p2).toFixed(1)\n      distanceMeasure.div.text(text)\n\n      let m = p1\n        .clone()\n        .add(p2)\n        .multiplyScalar(0.5)\n      let opacity = 0.7 * this.soupWidget.opacity(m) + 0.3\n\n      let v = this.soupWidget.getPosXY(m)\n      let x = v.x\n      let y = v.y\n\n      if (\n        x < 0 ||\n        x > this.parentDiv.width() ||\n        y < 0 ||\n        y > this.parentDiv.height()\n      ) {\n        distanceMeasure.div.hide()\n        continue\n      }\n\n      let width = distanceMeasure.div.innerHeight()\n      let height = distanceMeasure.div.innerWidth()\n      distanceMeasure.div.css({\n        top: y - width / 2,\n        left: x - height / 2,\n        display: 'block',\n        cursor: 'pointer',\n        opacity: opacity\n      })\n\n      distanceMeasure.line.geometry.vertices[0].copy(p1)\n      distanceMeasure.line.geometry.vertices[1].copy(p2)\n\n      if (!this.soupWidget.inZlab(m)) {\n        distanceMeasure.div.css('display', 'none')\n      }\n    }\n  }\n}\n\n/**\n * SequenceWidget\n *   - creates a dual band across the top of the selected div\n *     for glProteinDisplay\n *   - the first band is a sequence bar widget\n *   - the second band is a sequence text widget\n *   - these two are integrated so that they share state\n */\nclass SequenceWidget extends CanvasWidget {\n  constructor (selector, soupWidget) {\n    super(selector)\n\n    this.soupWidget = soupWidget\n    this.soupView = soupWidget.soupView\n    this.soup = soupWidget.soup\n    this.controller = soupWidget.controller\n    this.soupWidget.addObserver(this)\n    this.residue = this.soup.getResidueProxy()\n\n    this.charWidth = 14\n    this.charHeight = 15\n    this.offsetY = 6\n    this.heightStructureBar = 7\n    this.spacingY = 12\n    this.yTopSequence =\n      this.offsetY + this.heightStructureBar + this.spacingY * 2\n    this.yBottom = parseInt(\n      this.yTopSequence + +this.spacingY * 2.7 + this.charHeight\n    )\n    this.yMidSequence =\n      this.yTopSequence + this.spacingY * 1.2 + this.charHeight / 2\n\n    this.unclickableColor = '#AAA'\n    this.structBarBgroundColor = '#CCC'\n    this.seqBarBgroundColor = '#FFF'\n    this.highlightColor = 'red'\n    this.borderColor = '#999'\n\n    this.div.attr('id', `${this.parentDivId}-inner`)\n    this.div.css({\n      'background-color': '#CCC',\n      position: 'relative'\n    })\n\n    this.isWaitForDoubleClick = false\n    this.charEntries = []\n    this.nChar = null\n\n    this.iCharSeqStart = null\n    this.iCharSeqEnd = null\n    this.nCharSeq = null\n\n    this.iCharStructStart = null\n    this.iCharStructEnd = null\n    this.nCharStruct = null\n\n    this.nPadChar = 0 // number of padding entries to delineate chains\n\n    this.hover = new PopupText(`#${this.parentDivId}-inner`, 15)\n\n    this.pressSection = 'none'\n  }\n\n  width () {\n    return this.parentDiv.width()\n  }\n\n  height () {\n    return this.yBottom\n  }\n\n  resize () {\n    super.resize()\n    this.div.height(this.height())\n    this.parentDiv.height(this.height())\n  }\n\n  iCharFromXStruct (x) {\n    return (\n      parseInt((x * this.nCharStruct) / this.textWidth()) +\n      this.iCharStructStart\n    )\n  }\n\n  xStructFromIChar (iRes) {\n    return parseInt(\n      ((iRes - this.iCharStructStart) / this.nCharStruct) * this.textWidth()\n    )\n  }\n\n  textWidth () {\n    return this.width()\n  }\n\n  iCharFromXSeq (x) {\n    return parseInt((x * this.nCharSeq) / this.textWidth()) + this.iCharSeqStart\n  }\n\n  xSeqFromIChar (iRes) {\n    return parseInt(\n      ((iRes - this.iCharSeqStart) / this.nCharSeq) * this.textWidth()\n    )\n  }\n\n  calcNPad () {\n    let polymerLengths = []\n    for (let i of _.range(this.soup.structureIds.length)) {\n      polymerLengths.push(0)\n    }\n    let residue = this.soup.getResidueProxy()\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      residue.iRes = iRes\n      if (residue.isPolymer) {\n        polymerLengths[residue.iStructure] += 1\n      }\n    }\n    polymerLengths = _.filter(polymerLengths, l => l > 0)\n    let averageLength = _.mean(polymerLengths)\n    this.nPadChar = parseInt(0.02 * averageLength)\n  }\n\n  rebuild () {\n    this.charEntries.length = 0\n    this.calcNPad()\n\n    let iChain = -1\n    let iStructure = 0\n\n    let residue = this.soup.getResidueProxy()\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      residue.iRes = iRes\n\n      if (!residue.isPolymer) {\n        continue\n      }\n\n      if (iStructure !== residue.iStructure || iChain !== residue.iChain) {\n        iChain = residue.iChain\n        iStructure = residue.iStructure\n        for (let i of _.range(this.nPadChar)) {\n          let startLabel = null\n          if (i === 0) {\n            startLabel = this.soup.structureIds[iStructure]\n            startLabel += ':' + this.soup.chains[iChain]\n          }\n          this.charEntries.push({\n            chain: residue.chain,\n            iStructure,\n            c: '',\n            startLabel,\n            iRes: null,\n            ss: ''\n          })\n        }\n      }\n\n      let entry = {\n        iStructure,\n        chain: residue.chain,\n        iRes,\n        startLabel: null,\n        ss: residue.ss,\n        label: residue.resId + ':' + residue.resType,\n        resNum: residue.resNum\n      }\n\n      let resType = residue.resType\n      if (resType in data.resToAa) {\n        entry.c = data.resToAa[resType]\n      } else {\n        entry.c = '.'\n      }\n\n      this.charEntries.push(entry)\n    }\n\n    this.nChar = this.charEntries.length\n    this.iCharSeqStart = this.nPadChar\n    this.iCharStructStart = 0\n    this.nCharStruct = this.nChar\n    this.iCharStructEnd = this.nChar\n  }\n\n  centerSeqOnIChar (iChar) {\n    this.iCharSeqStart = Math.max(iChar - 0.5 * this.nCharSeq, 0)\n    this.iCharSeqStart = Math.min(\n      this.iCharSeqStart,\n      this.nChar - this.nCharSeq\n    )\n    this.iCharSeqStart = parseInt(this.iCharSeqStart)\n    this.iCharSeqEnd = this.iCharSeqStart + this.nCharSeq\n  }\n\n  getColorStyle (iChar) {\n    if (iChar >= this.charEntries.length) {\n      return this.unclickableColor\n    }\n    let iRes = this.charEntries[iChar].iRes\n    if (_.isNil(iRes)) {\n      return this.unclickableColor\n    }\n    this.residue.load(iRes)\n    if (_.isNil(this.residue.activeColor)) {\n      return this.unclickableColor\n    } else {\n      return '#' + this.residue.activeColor.getHexString()\n    }\n  }\n\n  findFirstResidue (iCharStart) {\n    for (let iChar = iCharStart; iChar < this.nChar - 1; iChar += 1) {\n      let charEntry = this.charEntries[iChar + 1]\n      if (!_.isNil(charEntry.iRes)) {\n        return iChar\n      }\n    }\n    return null\n  }\n\n  checkChain () {\n    this.nCharSeq = Math.ceil(this.width() / this.charWidth)\n\n    let oldChain = this.chain\n\n    // Set structure bar to full length\n    this.iCharStructStart = 0\n    this.nCharStruct = this.charEntries.length\n    this.iCharStructEnd = this.iCharStructStart + this.nCharStruct\n\n    if (this.soupView.getMode() === 'chain') {\n      let chainEntry = this.soup.getIStructureAndChain()\n\n      if (_.isNil(chainEntry)) {\n        this.chain = null\n      } else {\n        this.iCharStructStart = null\n        for (let iChar of _.range(this.charEntries.length)) {\n          let charEntry = this.charEntries[iChar]\n          if (\n            charEntry.iStructure === chainEntry.iStructure &&\n            charEntry.chain === chainEntry.chain\n          ) {\n            if (_.isNil(this.iCharStructStart)) {\n              this.iCharStructStart = iChar\n              this.chain = charEntry.chain\n            }\n            this.iCharStructEnd = iChar + 1\n          }\n        }\n        this.nCharStruct = this.iCharStructEnd - this.iCharStructStart\n\n        if (_.isNil(oldChain) && !_.isNil(this.chain)) {\n          for (\n            let iChar = this.iCharStructStart;\n            iChar < this.iCharStructEnd;\n            iChar += 1\n          ) {\n            if (_.has(this.charEntries[iChar], 'iRes')) {\n              this.iCharSeqStart = iChar\n              this.iCharSeqEnd = this.iCharSeqStart + this.nCharSeq\n              break\n            }\n          }\n        } else {\n          if (\n            this.iCharSeqStart < this.iCharStructStart ||\n            this.iCharSeqStart >= this.iCharStructEnd\n          ) {\n            let iCharSeqStart = this.findFirstResidue(this.iCharStructStart)\n            if (_.isNil(iCharSeqStart)) {\n              this.iCharSeqStart = this.iCharStructStart\n            } else {\n              this.iCharSeqStart = iCharSeqStart\n            }\n            this.iCharSeqEnd = this.iCharSeqStart + this.nCharSeq\n          }\n        }\n      }\n    }\n\n    // Sanity checks for sequence bar to stay within the sequence\n    if (this.iCharSeqStart + this.nCharSeq > this.charEntries.length) {\n      this.iCharSeqStart = this.iCharSeqEnd - this.nCharSeq\n    }\n    if (this.iCharSeqStart < 0) {\n      this.iCharSeqStart = 0\n    }\n    this.iCharSeqEnd = this.iCharSeqStart + this.nCharSeq\n  }\n\n  /**\n   * Draw when updated from 3D display or mouse activity\n   */\n  draw () {\n    this.checkChain()\n\n    let yTopStructure = this.offsetY - 2\n    let yStructureName = this.offsetY + 7\n    let heightStructure = this.yTopSequence - yTopStructure + 2\n    let yMidStructure = yTopStructure + heightStructure / 2 + 2\n    let heightSequence = this.yBottom - this.yTopSequence\n\n    // draw background\n    this.fillRect(0, 0, this.width(), this.height(), this.structBarBgroundColor)\n\n    // draw sequence bar background\n    this.fillRect(\n      0,\n      this.yTopSequence,\n      this.width(),\n      heightSequence,\n      this.seqBarBgroundColor\n    )\n\n    // draw border around sequence bar\n    this.line(\n      0,\n      this.yTopSequence,\n      this.width(),\n      this.yTopSequence,\n      1,\n      this.borderColor\n    )\n    this.line(0, this.yBottom, this.width(), this.yBottom, 1, this.borderColor)\n\n    if (!util.exists(this.soupView)) {\n      return\n    }\n\n    if (this.charEntries.length === 0) {\n      return\n    }\n\n    let iAtom = this.soupView.currentView.iAtom\n    let iResCurrent = this.soupView.soup.getAtomProxy(iAtom).iRes\n\n    let x1 = this.xStructFromIChar(this.iCharSeqStart)\n    let x2 = this.xStructFromIChar(this.iCharSeqEnd)\n\n    // draw background of selected part of structure bar\n    this.fillRect(\n      x1,\n      yTopStructure,\n      x2 - x1,\n      heightStructure,\n      this.seqBarBgroundColor\n    )\n\n    // draw line through structure bar\n    this.line(\n      0,\n      yMidStructure,\n      this.width(),\n      yMidStructure,\n      1,\n      this.borderColor\n    )\n\n    let colorStyle\n\n    // draw structure color bars\n    let ss = this.charEntries[0].ss\n    let c = this.charEntries[0].c\n    let color = this.getColorStyle(0)\n    let endColor\n    let iStart = 0\n    let iEnd = 0\n    while (iEnd < this.nChar) {\n      iEnd += 1\n      endColor = this.getColorStyle(iEnd)\n      let charEntry = this.charEntries[iEnd]\n      let isEndOfSegment =\n        _.isNil(charEntry) ||\n        iEnd === this.nChar ||\n        charEntry.ss !== ss ||\n        endColor !== color\n      if (isEndOfSegment) {\n        let x1 = this.xStructFromIChar(iStart)\n        let x2 = this.xStructFromIChar(iEnd)\n        let h = this.heightStructureBar\n        let yTop = yMidStructure - h / 2\n        if (c !== '') {\n          if (ss !== 'C' && ss !== '.') {\n            yTop -= 2\n            h += 2 * 2\n          }\n          this.fillRect(x1, yTop, x2 - x1, h, color)\n        }\n        if (iEnd <= this.nChar - 1) {\n          iStart = iEnd\n          ss = charEntry.ss\n          c = charEntry.c\n          color = endColor\n        }\n      }\n    }\n\n    // draw line through sequence bar\n    this.line(\n      0,\n      this.yMidSequence,\n      this.width(),\n      this.yMidSequence,\n      1,\n      this.borderColor\n    )\n\n    // draw characters for sequence\n    for (let iChar = this.iCharSeqStart; iChar < this.iCharSeqEnd; iChar += 1) {\n      let charEntry = this.charEntries[iChar]\n      if (_.isUndefined(charEntry) || charEntry.c === '') {\n        continue\n      }\n\n      colorStyle = this.getColorStyle(iChar)\n\n      let xLeft = this.xSeqFromIChar(iChar)\n      let xRight = this.xSeqFromIChar(iChar + 1)\n      let width = xRight - xLeft\n      let xMid = xLeft + width / 2\n      let height = this.charHeight\n      let yTop = this.yMidSequence - height / 2\n      if (charEntry.ss !== 'C' && charEntry.ss !== '.') {\n        yTop -= 4\n        height += 2 * 4\n      }\n\n      this.fillRect(xLeft, yTop, width, height, colorStyle)\n\n      this.text(\n        charEntry.c,\n        xMid,\n        this.yMidSequence,\n        '7pt Helvetica',\n        'white',\n        'center'\n      )\n\n      // draw highlight res box\n      if (this.soupWidget.isCrossHairs) {\n        if (iResCurrent >= 0 && iResCurrent === charEntry.iRes) {\n          this.strokeRect(\n            xLeft,\n            yTop - 5,\n            width,\n            height + 10,\n            this.highlightColor\n          )\n        }\n      }\n\n      // draw numbered ticks\n      if (charEntry.resNum % 20 === 0 || charEntry.resNum === 1) {\n        this.line(\n          xLeft,\n          this.yBottom,\n          xLeft,\n          this.yBottom - 6,\n          1,\n          this.borderColor\n        )\n        this.text(\n          '' + charEntry.resNum,\n          xLeft + 3,\n          this.yBottom - 6,\n          '7pt Helvetica',\n          this.borderColor,\n          'left'\n        )\n      }\n    }\n\n    // draw border box around selected region in structure bar\n    this.line(x1 - 1, yTopStructure, x2 + 1, yTopStructure, 1, this.borderColor)\n    this.line(\n      x1 - 1,\n      yTopStructure,\n      x1 - 1,\n      this.yTopSequence + 1,\n      1,\n      this.borderColor\n    )\n    this.line(\n      x2 + 1,\n      yTopStructure,\n      x2 + 1,\n      this.yTopSequence + 1,\n      1,\n      this.borderColor\n    )\n\n    // draw structure names\n    let iChar = 0\n    while (iChar < this.nChar) {\n      if (this.charEntries[iChar].startLabel) {\n        let x = this.xStructFromIChar(iChar) + 12\n        this.text(\n          this.charEntries[iChar].startLabel,\n          x,\n          yStructureName,\n          '7pt Helvetica',\n          '#666',\n          'left'\n        )\n      }\n      iChar += 1\n    }\n  }\n\n  update () {\n    let iAtom = _.get(this.soupView, 'targetView.iAtom')\n    let iResCurrent = this.soupView.soup.getAtomProxy(iAtom).iRes\n\n    if (!_.isNil(iResCurrent)) {\n      for (let iChar in _.range(this.nChar)) {\n        if (this.charEntries[iChar].iRes === iResCurrent) {\n          if (\n            iChar < this.iCharSeqStart ||\n            iChar >= this.iCharSeqStart + this.nCharSeq\n          ) {\n            this.centerSeqOnIChar(iChar)\n          }\n          break\n        }\n      }\n    }\n\n    this.draw()\n  }\n\n  mousemove (event) {\n    this.getPointer(event)\n\n    if (this.pointerY < this.yTopSequence) {\n      this.hover.hide()\n      let iChar = this.iCharFromXStruct(this.pointerX)\n      let charEntry = this.charEntries[iChar]\n      if (_.get(charEntry, 'c', '') !== '') {\n        this.hover.html(charEntry.label)\n        this.hover.move(this.xStructFromIChar(iChar), 25)\n      }\n    } else {\n      this.hover.hide()\n      let iChar = this.iCharFromXSeq(this.pointerX)\n      let charEntry = this.charEntries[iChar]\n      if (_.get(charEntry, 'c', '') !== '') {\n        this.hover.html(charEntry.label)\n        let x = this.xSeqFromIChar(iChar) + this.charWidth / 2\n        this.hover.move(x, this.yMidSequence)\n      }\n    }\n    if (this.mousePressed === 'top') {\n      this.centerSeqOnIChar(this.iCharFromXStruct(this.pointerX))\n      this.draw()\n    } else if (this.mousePressed === 'bottom') {\n      let iNewChar = this.iCharFromXSeq(this.pointerX)\n      let iCharDiff = iNewChar - this.iCharPressed\n      this.iCharSeqStart -= iCharDiff\n      this.draw()\n    }\n  }\n\n  mouseout () {\n    this.hover.hide()\n    this.mousePressed = ''\n  }\n\n  mouseup () {\n    if (this.isWaitForDoubleClick) {\n      this.click(event)\n    }\n    this.hover.hide()\n    this.mousePressed = ''\n  }\n\n  doubleclick (event) {\n    console.log(\n      'SequenceWidget.doubleclick',\n      this.pressSection,\n      this.iCharPressed\n    )\n    this.getPointer(event)\n    let iChar = null\n    if (this.pressSection === 'bottom') {\n      // mouse event in sequence bar\n      iChar = this.iCharFromXSeq(this.pointerX)\n    } else {\n      iChar = this.iCharFromXStruct(this.pointerX)\n    }\n    let charEntry = this.charEntries[iChar]\n    if (!_.isNil(charEntry.iRes)) {\n      if (this.pressSection === 'top') {\n        this.controller.selectSecondaryStructure(charEntry.iRes)\n      } else {\n        this.controller.setResidueSelect(charEntry.iRes, true)\n      }\n      let residue = this.soup.getResidueProxy(charEntry.iRes)\n      this.controller.triggerAtom(residue.iAtom)\n    }\n  }\n\n  click (event) {\n    let iChar = null\n    if (this.pressSection === 'bottom') {\n      // mouse event in sequence bar\n      iChar = this.iCharFromXSeq(this.pointerX)\n    } else {\n      iChar = this.iCharFromXStruct(this.pointerX)\n    }\n\n    if (iChar !== this.iCharPressed) {\n      return\n    }\n\n    if (this.pressSection === 'top') {\n      let charEntry = this.charEntries[this.iCharPressed]\n      if (!_.isNil(charEntry.iRes)) {\n        let iRes = charEntry.iRes\n        this.controller.toggleSecondaryStructure(iRes)\n      }\n    } else if (this.pressSection === 'bottom') {\n      let charEntry = this.charEntries[this.iCharPressed]\n      if (!_.isNil(charEntry.iRes)) {\n        let iRes = charEntry.iRes\n        if (!event.metaKey && !event.shiftKey) {\n          this.controller.selectResidue(iRes)\n        } else if (event.shiftKey) {\n          this.controller.selectAdditionalRangeToResidue(iRes)\n        } else {\n          this.controller.selectAdditionalResidue(iRes)\n        }\n      }\n    }\n  }\n\n  mousedown (event) {\n    event.preventDefault()\n\n    this.getPointer(event)\n    this.saveMouse()\n\n    if (this.pointerY < this.yTopSequence) {\n      this.mousePressed = 'top'\n    } else {\n      this.mousePressed = 'bottom'\n    }\n\n    let now = new Date().getTime()\n    let elapsedTime = this.timePressed ? now - this.timePressed : 0\n\n    if (elapsedTime > 600) {\n      this.isWaitForDoubleClick = false\n    }\n\n    if (!this.isWaitForDoubleClick) {\n      this.pressSection = this.mousePressed\n      if (this.pressSection === 'bottom') {\n        this.iCharPressed = this.iCharFromXSeq(this.pointerX)\n      } else {\n        this.iCharPressed = this.iCharFromXStruct(this.pointerX)\n      }\n      this.isWaitForDoubleClick = true\n    } else if (elapsedTime < 600) {\n      this.doubleclick(event)\n      this.isWaitForDoubleClick = false\n    }\n\n    this.timePressed = new Date().getTime()\n    this.mousemove(event)\n  }\n}\n\n/**\n * ClippingPlaneWidget\n */\nclass ClippingPlaneWidget extends CanvasWidget {\n  constructor (soupWidget, selector) {\n    super(selector)\n    this.div.css('position', 'relative')\n    this.soupView = soupWidget.soupView\n    this.controller = soupWidget.controller\n    soupWidget.addObserver(this)\n    this.maxZLength = 0.0\n    this.div.css('box-sizing', 'border-box')\n    this.zFrontColor = 'rgb(150, 90, 90)'\n  }\n\n  resize () {\n    this.div.css({\n      width: this.width(),\n      height: this.height()\n    })\n    super.resize()\n    this.update()\n  }\n\n  x () {\n    return 0\n  }\n\n  y () {\n    return 0\n  }\n\n  width () {\n    let box = this.parentDiv[0].getBoundingClientRect()\n    return box.width - 20\n  }\n\n  height () {\n    return this.parentDiv.height()\n  }\n\n  xToZ (x) {\n    let fraction = x / this.width()\n    return (0.5 - fraction) * this.maxZLength\n  }\n\n  zToX (z) {\n    let fraction = z / this.maxZLength\n    return (0.5 - fraction) * this.width()\n  }\n\n  update () {\n    let soup = this.soupView.soup\n    let cameraParams = this.soupView.currentView.cameraParams\n    this.maxZLength = 2 * soup.maxLength\n\n    let xBack = this.zToX(cameraParams.zBack)\n    let xFront = this.zToX(cameraParams.zFront)\n    let xMid = this.zToX(0)\n    let yMid = this.height() / 2\n    let font = '9pt Helvetica'\n\n    // background\n    this.fillRect(0, 0, this.width(), this.height(), '#999')\n\n    // middle track\n    this.fillRect(0, yMid - 3, this.width(), 6, '#AAB')\n\n    // filled track to back\n    this.fillRect(xMid, yMid - 3, xBack - xMid, 6, this.zFrontColor)\n\n    // back control\n    let widthBackText = this.textWidth('back', font)\n    this.fillRect(\n      xBack - 6 - widthBackText,\n      0,\n      widthBackText + 6,\n      this.height(),\n      '#666'\n    )\n    this.text('back', xBack - 3 - widthBackText, yMid, font, '#AAA', 'left')\n\n    // filled track to front\n    this.fillRect(xFront, yMid - 3, xMid - xFront, 6, this.zFrontColor)\n\n    // front control\n    let widthFrontText = this.textWidth('front', font)\n    this.fillRect(xFront, 0, widthFrontText + 6, this.height(), '#666')\n    this.text('front', xFront + 3, yMid, font, '#AAA', 'left')\n\n    // halfway marker\n    this.line(xMid, 0, xMid, this.height(), 1, '#995555')\n  }\n\n  getZ (event) {\n    this.getPointer(event)\n    this.z = this.xToZ(this.pointerX)\n  }\n\n  mousedown (event) {\n    this.getZ(event)\n\n    if (this.z > 0) {\n      this.back = true\n      this.front = false\n    } else {\n      this.front = true\n      this.back = false\n    }\n\n    super.mousedown(event)\n  }\n\n  mousemove (event) {\n    event.preventDefault()\n    super.mousemove(event)\n\n    if (!this.mousePressed) {\n      return\n    }\n\n    this.getZ(event)\n\n    let cameraParams = this.soupView.currentView.cameraParams\n    let zBack = cameraParams.zBack\n    let zFront = cameraParams.zFront\n    if (this.back) {\n      this.controller.setZoom(Math.max(2, this.z), zFront)\n    } else if (this.front) {\n      this.controller.setZoom(zBack, Math.min(-2, this.z))\n    }\n    this.update()\n  }\n}\n\nclass GridToggleButtonWidget {\n  constructor (soupWidget, selector, elem, x, y, color) {\n    this.soupView = soupWidget.soupView\n    this.controller = soupWidget.controller\n    this.elem = elem\n    this.color = color\n    this.div = $(selector)\n      .text(elem)\n      .addClass('jolecule-button')\n      .css('position', 'absolute')\n      .css('top', y + 'px')\n      .css('left', x + 'px')\n      .css('height', '15px')\n      .css('width', '20px')\n      .on('click touch', e => {\n        e.preventDefault()\n        this.toggle()\n      })\n    this.update()\n    soupWidget.addObserver(this)\n  }\n\n  getToggle () {\n    return this.soupView.soup.grid.isElem[this.elem]\n  }\n\n  toggle () {\n    this.controller.toggleGridElem(this.elem)\n    this.update()\n  }\n\n  update () {\n    if (this.getToggle()) {\n      if (this.color) {\n        this.div.css('background-color', this.color)\n      } else {\n        this.div.addClass('jolecule-button-toggle-on')\n      }\n    } else {\n      if (this.color) {\n        this.div.css('background-color', '')\n      } else {\n        this.div.removeClass('jolecule-button-toggle-on')\n      }\n    }\n  }\n}\n\n/**\n * GridControlWidget\n */\nclass GridControlWidget extends CanvasWidget {\n  constructor (soupWidget) {\n    super(soupWidget.divTag)\n\n    this.soupWidget = soupWidget\n    this.soupView = soupWidget.soupView\n    this.controller = soupWidget.controller\n    soupWidget.addObserver(this)\n\n    this.backgroundColor = '#999'\n    this.buttonHeight = 40\n    this.sliderHeight = this.buttonHeight * 6 - 30\n    this.isGrid = soupWidget.isGrid\n\n    this.div.css('display', 'none')\n    this.div.attr('id', 'grid-control')\n    this.div.css('height', this.height())\n    this.div.addClass('jolecule-button')\n\n    this.buttonsDiv = $('<div id=\"grid-control-buttons\">')\n    this.div.append(this.buttonsDiv)\n  }\n\n  rebuild () {\n    if (!this.isGrid) {\n      return\n    }\n\n    this.buttonsDiv.empty()\n\n    let y = 10\n    for (let elem of _.keys(this.soupView.soup.grid.isElem)) {\n      this.makeElemButton(elem, y)\n      y += this.buttonHeight\n    }\n\n    if (_.keys(this.soupView.soup.grid.isElem).length === 0) {\n      this.div.hide()\n    } else {\n      this.div.show()\n    }\n  }\n\n  makeElemButton (elem, y) {\n    let color = data.ElementColors[elem]\n    let colorHexStr = '#' + color.getHexString()\n    let id = 'grid-button-' + elem.toLowerCase()\n    let selector = `#${id}`\n    this.buttonsDiv.append($(`<div id=\"${id}\">`))\n    new GridToggleButtonWidget(\n      this.soupWidget,\n      selector,\n      elem,\n      50,\n      y,\n      colorHexStr\n    )\n  }\n\n  resize () {\n    if (!this.isGrid) {\n      return\n    }\n    this.div.css({\n      width: this.width(),\n      height: this.height(),\n      top: this.y(),\n      left: this.x()\n    })\n    this.canvasDom.width = this.width()\n    this.canvasDom.height = this.height()\n  }\n\n  width () {\n    return 84\n  }\n\n  height () {\n    return this.buttonHeight * 6 + 10\n  }\n\n  x () {\n    let parentDivPos = this.parentDiv.position()\n    return parentDivPos.left + 5\n  }\n\n  y () {\n    let parentDivPos = this.parentDiv.position()\n    return parentDivPos.top + 50\n  }\n\n  yToZ (y) {\n    let fraction = (y - 20) / this.sliderHeight\n    let grid = this.soupView.soup.grid\n    let diff = grid.bMax - grid.bMin\n    let z = fraction * diff + grid.bMin\n    if (z < this.soupView.soup.grid.bMin) {\n      z = this.soupView.soup.grid.bMin\n    }\n    if (z > this.soupView.soup.grid.bMax) {\n      z = this.soupView.soup.grid.bMax\n    }\n    return z\n  }\n\n  zToY (z) {\n    let grid = this.soupView.soup.grid\n    let diff = grid.bMax - grid.bMin\n    return ((z - grid.bMin) / diff) * this.sliderHeight + 20\n  }\n\n  update () {\n    if (!this.isGrid) {\n      return\n    }\n\n    this.fillRect(0, 0, this.width(), this.height(), this.backgroundColor)\n\n    let xm = 20\n\n    let yTop = this.zToY(this.soupView.soup.grid.bMin)\n    let yBottom = this.zToY(this.soupView.soup.grid.bMax)\n\n    // middle track\n    this.fillRect(xm - 3, yTop, 6, yBottom - yTop, '#AAB')\n\n    let font = '10px sans-serif'\n    let textColor = '#333'\n\n    let y = this.zToY(this.soupView.soup.grid.bCutoff)\n    let text = this.soupView.soup.grid\n      .convertB(this.soupView.soup.grid.bCutoff)\n      .toFixed(2)\n\n    // fill to bottom\n    this.fillRect(xm - 3, y, 6, yBottom - y, 'rgb(150, 90, 90)')\n\n    // slider\n    this.fillRect(5, y, 30, 5, textColor)\n    this.text(text, xm, y - 8, font, textColor, 'center')\n\n    // bottom marker\n    this.line(5, yBottom, 35, yBottom, 1, '#666')\n\n    text = this.soupView.soup.grid\n      .convertB(this.soupView.soup.grid.bMax)\n      .toFixed(2)\n    this.text(text, xm, yBottom + 6, font, textColor, 'center')\n  }\n\n  getZ (event) {\n    this.getPointer(event)\n\n    this.z = this.yToZ(this.pointerY)\n  }\n\n  mousedown (event) {\n    event.preventDefault()\n\n    this.getZ(event)\n\n    this.mousePressed = true\n\n    this.mousemove(event)\n  }\n\n  mousemove (event) {\n    event.preventDefault()\n\n    if (!this.mousePressed) {\n      return\n    }\n\n    this.getZ(event)\n    this.controller.setGridCutoff(this.z)\n    this.update()\n  }\n\n  mouseup (event) {\n    event.preventDefault()\n\n    this.mousePressed = false\n  }\n}\n\n/**\n * ColorLegendWidget\n */\nclass ColorLegendWidget extends CanvasWidget {\n  constructor (soupWidget) {\n    super(soupWidget.divTag)\n    this.offset = { x: 5, y: 5 }\n\n    this.canvas.hide()\n\n    this.default()\n\n    this.div.css('display', 'block')\n    this.div.attr('id', 'color-legend')\n    this.div.addClass('jolecule-button')\n    this.div.css({\n      padding: '8px',\n      position: 'absolute',\n      height: 'auto',\n      width: 'auto'\n    })\n\n    this.buttonsDiv = $('<div>')\n      .attr('id', 'color-legend-buttons')\n      .css('text-align', 'left')\n    this.div.append(this.buttonsDiv)\n\n    this.isShow = true\n\n    soupWidget.addObserver(this)\n\n    this.rebuild()\n  }\n\n  default () {\n    let getSSColor = ss => '#' + data.getSsColor(ss).getHexString()\n    this.title = 'Secondary Structure'\n    this.colorEntries = [\n      { color: getSSColor('E'), label: 'Strand' },\n      { color: getSSColor('H'), label: 'Helix' },\n      { color: getSSColor('C'), label: 'Coil' },\n      { color: getSSColor('D'), label: 'DNA/RNA' }\n    ]\n  }\n\n  rebuild () {\n    this.buttonsDiv.empty()\n\n    if (this.title) {\n      this.buttonsDiv.append(\n        $('<div>')\n          .text(this.title)\n          .css({\n            'font-size': '0.8em',\n            'font-style': 'italic'\n          })\n      )\n    }\n\n    for (let [i, entry] of this.colorEntries.entries()) {\n      let id = 'color-legend-' + i\n      let buttonDiv = $(`<div>`)\n        .attr('id', id)\n        .css({\n          'font-size': '0.8em',\n          'line-height': '1.5em',\n          display: 'block'\n        })\n      let colorDiv = $(`<div>`)\n        .html('&block;')\n        .css({\n          color: entry.color,\n          display: 'inline',\n          'font-size': '1em',\n          'margin-right': '0.7em'\n        })\n      buttonDiv.append(colorDiv)\n      buttonDiv.append(entry.label)\n      this.buttonsDiv.append(buttonDiv)\n    }\n\n    this.resize()\n    this.update()\n  }\n\n  resize () {\n    this.div.css({\n      bottom: this.offset.y,\n      left: this.offset.x\n    })\n  }\n\n  width () {\n    return 80\n  }\n\n  height () {\n    return this.buttonsDiv.height()\n  }\n\n  update () {\n    if (this.isShow) {\n      this.div.show()\n    } else {\n      this.div.hide()\n    }\n  }\n}\n\n/**\n * SelectionWidget\n */\nclass SelectionWidget extends CanvasWidget {\n  constructor (soupWidget) {\n    // super('#' + soupWidget.webglDivId)\n    super(soupWidget.divTag)\n    this.soupWidget = soupWidget\n    this.offset = { x: 5, y: 5 }\n    this.canvas.hide()\n\n    this.div.css('display', 'block')\n    this.div.attr('id', soupWidget.webglDivId + '-selection')\n    this.div.addClass('jolecule-button')\n    this.div.css({\n      padding: '8px',\n      position: 'absolute',\n      'max-width': '180px',\n      height: 'auto',\n      'font-size': '0.8em',\n      // 'box-sizing': 'border-box',\n      'text-align': 'left'\n    })\n\n    this.isShow = false\n\n    soupWidget.addObserver(this)\n  }\n\n  resize () {\n    this.div.css({\n      bottom: this.offset.y,\n      right: this.offset.x\n    })\n  }\n\n  getText () {\n    let soup = this.soupWidget.soup\n    let residue = soup.getResidueProxy()\n\n    let text = ''\n    let first = null\n    let last = null\n    let chain = null\n    let isDrawComma = false\n    for (let i = 0; i < soup.getResidueCount(); i += 1) {\n      residue.iRes = i\n      if (residue.selected) {\n        if (chain === null || chain !== residue.chain) {\n          if (chain !== null) {\n            text += '<br>'\n          }\n          chain = residue.chain\n          text += soup.structureIds[residue.iStructure] + '-' + chain + ': '\n          isDrawComma = false\n        }\n        if (first === null) {\n          first = residue.resNum\n          last = residue.resNum\n        } else {\n          last = residue.resNum\n        }\n      } else {\n        if (first !== null) {\n          if (isDrawComma) {\n            text += ', '\n          } else {\n            isDrawComma = true\n          }\n          if (first === last) {\n            text += first\n          } else {\n            text += first + '-' + last\n          }\n          first = null\n          last = null\n        }\n      }\n    }\n    if (!text) {\n      if (this.soupWidget.soupView.getMode() === 'chain') {\n        if (soup.selectedTraces.length > 0) {\n          let iTrace = soup.selectedTraces[0]\n          let iRes = soup.traces[iTrace].indices[0]\n          let residue = soup.getResidueProxy(iRes)\n          let structureId = soup.structureIds[residue.iStructure]\n          text += `${structureId}-${residue.chain}`\n        }\n      }\n    }\n    return text\n  }\n\n  async update () {\n    let s = this.getText()\n    if (!s) {\n      this.div.hide()\n    } else {\n      this.div.show()\n      this.div.html(s)\n      this.resize()\n    }\n  }\n}\n\nclass ResidueSelectorWidget {\n  constructor (soupWidget, selector) {\n    this.controller = soupWidget.controller\n    this.soupView = soupWidget.soupView\n    this.soupWidget = soupWidget\n    this.soupWidget.addObserver(this)\n\n    this.div = $(selector).css('z-index', 2)\n    this.divId = this.div.attr('id')\n    this.selectId = `${this.divId}-residue-select`\n    this.$select = $('<select>').attr('id', this.selectId)\n    this.div.append(this.$select)\n    this.$select.change(() => this.change())\n    this.$select.select2({ width: '150px' })\n  }\n\n  change () {\n    let iRes = parseInt(this.$select.val())\n    let residue = this.soupView.soup.getResidueProxy(iRes)\n    this.controller.clearSelectedResidues()\n    this.controller.setResidueSelect(iRes, true)\n    this.controller.setTargetViewByIAtom(residue.iAtom)\n  }\n\n  rebuild () {\n    this.$select.empty()\n    // rebuild selector\n    this.soup = this.soupView.soup\n    let residue = this.soup.getResidueProxy()\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      residue.iRes = iRes\n      if (residue.resType === 'XXX') {\n        continue\n      }\n      let text = residue.resId + '-' + residue.resType\n      this.$select.append(new Option(text, `${iRes}`))\n    }\n  }\n\n  update () {\n    if (this.$select) {\n      let iAtom = this.soupView.currentView.iAtom\n      let iRes = this.soupView.soup.getAtomProxy(iAtom).iRes\n      let newValue = _.isNil(iRes) ? null : `${iRes}`\n      let oldValue = this.$select.val()\n      if (oldValue !== newValue) {\n        let startTime = new Date()\n        this.$select.val(newValue).trigger('change.select2')\n        let s = (new Date() - startTime) / 1000\n        console.log(\n          `ResidueSelectorWidget.update ${oldValue} -> ${newValue}` +\n            ` in ${s.toFixed(3)}s`\n        )\n      }\n    }\n  }\n}\n\nclass GraphicsMenuWidget {\n  constructor (soupWidget, selector, isPopAbove = true) {\n    this.soupWidget = soupWidget\n    this.controller = soupWidget.controller\n    this.isShowPanel = false\n    this.isPopAbove = isPopAbove\n\n    this.div = $(selector)\n      .html('Graphics')\n      .addClass('jolecule-button')\n      .on('click touch', e => {\n        this.isShowPanel = !this.isShowPanel\n        this.update()\n        e.preventDefault()\n      })\n    this.divId = this.div.attr('id')\n\n    this.popOutPanelDiv = $('<div>')\n      .addClass('jolecule-embed-view')\n      .css({\n        position: 'absolute',\n        'z-index': 1,\n        padding: '4px 5px'\n      })\n    this.div.parent().append(this.popOutPanelDiv)\n\n    this.widget = {}\n\n    this.popOutPanelDiv.append($(`<div id=\"${this.divId}-transparent\">`))\n    this.widget.transparent = new ToggleOptionWidget(\n      soupWidget,\n      `#${this.divId}-transparent`,\n      'transparent'\n    )\n\n    this.popOutPanelDiv.append($(`<div id=\"${this.divId}-sphere\">`))\n    this.widget.sphere = new ToggleOptionWidget(\n      soupWidget,\n      `#${this.divId}-sphere`,\n      'sphere'\n    )\n\n    this.popOutPanelDiv.append($(`<div id=\"${this.divId}-backbone\">`))\n    this.widget.backbone = new ToggleOptionWidget(\n      soupWidget,\n      `#${this.divId}-backbone`,\n      'backbone'\n    )\n\n    this.popOutPanelDiv.append($(`<div id=\"${this.divId}-water\">`))\n    this.widget.water = new ToggleOptionWidget(\n      soupWidget,\n      `#${this.divId}-water`,\n      'water'\n    )\n\n    this.popOutPanelDiv.append($(`<div id=\"${this.divId}-ribbon\">`))\n    this.widget.ribbon = new ToggleOptionWidget(\n      soupWidget,\n      `#${this.divId}-ribbon`,\n      'ribbon'\n    )\n\n    this.popOutPanelDiv.append($(`<div id=\"${this.divId}-ligand\">`))\n    this.widget.ligand = new ToggleOptionWidget(\n      soupWidget,\n      `#${this.divId}-ligand`,\n      'ligands'\n    )\n\n    this.soupWidget.addObserver(this)\n    this.update()\n  }\n\n  update () {\n    this.popOutPanelDiv.css('display', this.isShowPanel ? 'block' : 'none')\n    if (this.isShowPanel) {\n      this.div.addClass('jolecule-button-toggle-on')\n    } else {\n      this.div.removeClass('jolecule-button-toggle-on')\n    }\n    let position = this.div.position()\n    if (this.isPopAbove) {\n      this.popOutPanelDiv.css({\n        top: position.top - this.popOutPanelDiv.outerHeight() - 4,\n        left: position.left - 7\n      })\n    } else {\n      this.popOutPanelDiv.css({\n        top: position.top + this.div.outerHeight() + 4,\n        left: position.left - 7\n      })\n    }\n    let xRight =\n      this.popOutPanelDiv.position().left + this.popOutPanelDiv.width()\n    if (xRight > position.left + this.div.width()) {\n      this.popOutPanelDiv.css(\n        'left',\n        position.left + this.div.width() - this.popOutPanelDiv.width()\n      )\n    }\n  }\n}\n\nclass ToggleWidget {\n  constructor (soupWidget, selector) {\n    this.soupWidget = soupWidget\n    this.controller = soupWidget.controller\n    this.div = $(selector)\n      .html(this.html())\n      .addClass('jolecule-button')\n      .on('click touch', e => {\n        this.set(!this.get())\n        this.update()\n        e.preventDefault()\n      })\n    this.soupWidget.addObserver(this)\n  }\n\n  html () {}\n\n  get () {}\n\n  set (val) {}\n\n  update () {\n    if (this.get()) {\n      if (!this.div.hasClass('jolecule-button-toggle-on')) {\n        this.div.addClass('jolecule-button-toggle-on')\n      }\n    } else {\n      if (this.div.hasClass('jolecule-button-toggle-on')) {\n        this.div.removeClass('jolecule-button-toggle-on')\n      }\n    }\n  }\n}\n\nclass ToggleOptionWidget extends ToggleWidget {\n  constructor (soupWidget, selector, option) {\n    super(soupWidget, selector)\n    this.option = option\n    this.div.html(this.html())\n  }\n\n  html () {\n    return _.capitalize(this.option)\n  }\n\n  get () {\n    return this.controller.getShowOption(this.option)\n  }\n\n  set (val) {\n    this.controller.setShowOption(this.option, val)\n  }\n}\n\nclass ToggleAnimateWidget extends ToggleWidget {\n  constructor (soupWidget, selector, state, text) {\n    super(soupWidget, selector)\n    this.state = state\n    this.text = text\n    this.div.html(this.html())\n  }\n\n  html () {\n    return this.text\n  }\n\n  get () {\n    return this.controller.getAnimateState() === this.state\n  }\n\n  set (val) {\n    if (val) {\n      this.controller.setAnimateState(this.state)\n    } else {\n      this.controller.setAnimateState('none')\n    }\n  }\n}\n\nclass HudTextWidget extends ToggleWidget {\n  constructor (soupWidget, selector) {\n    super(soupWidget, selector)\n    this.soupView = this.soupWidget.soupView\n    this.isText = true\n  }\n\n  html () {\n    return 'Text'\n  }\n\n  get () {\n    return this.isText\n  }\n\n  set (val) {\n    this.isText = val\n  }\n\n  async update () {\n    super.update()\n    if (this.isText && this.soupWidget) {\n      let text\n      let n = this.soupView.savedViews.length\n      if (n > 0) {\n        let i = this.soupView.currentView.order + 1\n        text = `${i}/${n}: ${this.soupView.currentView.text}`\n        await this.soupWidget.asyncSetMesssage(text)\n      }\n    } else {\n      this.soupWidget.cleanupMessage()\n    }\n  }\n}\n\nfunction openAboutDialog (parentDiv) {\n  window.keyboardLock = true\n\n  let dialog = $('<div>')\n    .addClass('jolecule-dialog')\n    .css('display', 'block')\n    .css('z-index', '5')\n    .css('width', Math.min(400, parentDiv.width() - 100))\n\n  function cleanup () {\n    dialog.remove()\n    window.keyboardLock = false\n  }\n\n  let closeButton = util.linkButton('close', 'jolecule-small-button', cleanup)\n\n  let textarea = $('<div>')\n    .css({\n      width: '100%',\n      'box-sizing': 'border-box',\n      'margin-bottom': '0.5em',\n      padding: '1em'\n    })\n    .addClass('jolecule-view-text')\n    .html(\n      `<label>Jolecule is an embeddable WebGL molecular viewer with easy facilities to\n         make interactive slide shows. For more info, see\n         <a href=\"https://jolecule.com\">jolecule.com</a>\n       </label>`\n    )\n    .keydown(function (e) {\n      if (e.keyCode === 27) {\n        cleanup()\n        return true\n      }\n    })\n\n  let editbox = $('<div>')\n    .css('width', '100%')\n    .append(textarea)\n    .append(' ')\n    .append(closeButton)\n  dialog.append(editbox)\n\n  util.stickJqueryDivInCenter(parentDiv, dialog, 0, 0)\n\n  setTimeout(() => {\n    editbox.find('textarea').focus()\n  }, 100)\n}\n\nclass ToggleToolbarWidget {\n  constructor (\n    embedJolecule,\n    buttonSelector,\n    toolbarSelector,\n    isToggleOn = true,\n    isToolbarOnTop = true\n  ) {\n    this.embedJolecule = embedJolecule\n    this.soupWidget = this.embedJolecule.soupWidget\n    this.proteinDisplayDiv = $(buttonSelector)\n    this.isToolbarOnTop = isToolbarOnTop\n    this.isChange = true\n    this.isToggleOn = !isToggleOn\n\n    this.buttonInDisplayOffset = { x: 0, y: 0 }\n\n    this.toolbarDiv = $(toolbarSelector)\n\n    this.buttonInDisplayDiv = $('<div id=\"toggle-toolbar-button\">')\n      .html('&#9776;')\n      .addClass('jolecule-button')\n      .css({ margin: '5px', position: 'absolute' })\n      .on('click touch', e => {\n        this.isChange = true\n        this.update()\n        e.preventDefault()\n      })\n    this.proteinDisplayDiv.append(this.buttonInDisplayDiv)\n\n    this.buttonInToolbarDiv = $('<div id=\"toggle-toolbar-button2\">')\n      .html('&#9776;')\n      .addClass('jolecule-button')\n      .addClass('jolecule-button-toggle-on')\n      .on('click touch', e => {\n        this.isChange = true\n        this.update()\n        e.preventDefault()\n      })\n    this.toolbarDiv.append(this.buttonInToolbarDiv)\n\n    this.soupWidget.addObserver(this)\n    this.resize()\n  }\n\n  resize () {\n    if (this.isToolbarOnTop) {\n      this.buttonInDisplayDiv.css({\n        top: this.buttonInDisplayOffset.y,\n        left: this.buttonInDisplayOffset.x\n      })\n    } else {\n      this.buttonInDisplayDiv.css({\n        bottom: this.buttonInDisplayOffset.y,\n        left: this.buttonInDisplayOffset.x\n      })\n    }\n  }\n\n  async update () {\n    if (this.isChange) {\n      this.isToggleOn = !this.isToggleOn\n      this.isChange = false\n      if (this.isToggleOn) {\n        this.buttonInDisplayDiv.hide()\n        this.toolbarDiv.show()\n      } else {\n        this.buttonInDisplayDiv.show()\n        this.toolbarDiv.hide()\n      }\n      if (this.isToolbarOnTop) {\n        if (this.isToggleOn) {\n          this.soupWidget.messageOffset.x = 5\n          this.soupWidget.messageOffset.y = 5\n        } else {\n          this.soupWidget.messageOffset.x = 35\n          this.soupWidget.messageOffset.y = 5\n        }\n      } else {\n        if (this.isToggleOn) {\n          this.embedJolecule.widget.colorLegend.offset.y = 5\n        } else {\n          this.embedJolecule.widget.colorLegend.offset.y = 50\n        }\n      }\n      this.resize()\n      this.embedJolecule.resize()\n    }\n  }\n}\n\nexport default {\n  LineElement,\n  PopupText,\n  AtomLabelsWidget,\n  DistanceMeasuresWidget,\n  SequenceWidget,\n  ClippingPlaneWidget,\n  ColorLegendWidget,\n  SelectionWidget,\n  GridControlWidget,\n  ResidueSelectorWidget,\n  ToggleOptionWidget,\n  ToggleAnimateWidget,\n  GraphicsMenuWidget,\n  HudTextWidget,\n  openAboutDialog,\n  ToggleToolbarWidget\n}\n","import * as data from './data'\nimport * as THREE from 'three'\nimport * as util from './util'\nimport _ from 'lodash'\nimport * as glgeom from './glgeom'\n\n/*******************************************************\n * Representations of the Protein as THREE.JS meshes\n *******************************************************\n */\n\nlet pickingMaterial = new THREE.MeshBasicMaterial({\n  vertexColors: THREE.VertexColors\n})\n\nlet phongMaterial = new THREE.MeshPhongMaterial({\n  vertexColors: THREE.VertexColors\n})\n\nlet transparentMaterial = new THREE.MeshPhongMaterial({\n  opacity: 0.15,\n  premultipliedAlpha: true,\n  vertexColors: THREE.VertexColors,\n  transparent: true\n})\n\nfunction getIndexColor (i) {\n  return new THREE.Color().setHex(i + 1)\n}\n\nfunction transferObjects (fromObj, toObj) {\n  for (let child of _.values(fromObj.children)) {\n    toObj.add(child)\n  }\n}\n\n/**\n * constructs THREE.js geometries from protein object:\n *  1. a displayGeom\n *  2. a pickingGeom\n */\n\nclass Representation {\n  constructor (soup) {\n    this.soup = soup\n    this.displayObj = new THREE.Object3D()\n    this.displayMaterial = phongMaterial\n    this.pickingMaterial = pickingMaterial\n    this.pickingObj = new THREE.Object3D()\n    this.isTransparent = false\n  }\n\n  setTransparent (isTransparent) {\n    this.isTransparent = isTransparent\n    if (this.isTransparent) {\n      this.displayMaterial = transparentMaterial\n    } else {\n      this.displayMaterial = phongMaterial\n    }\n  }\n\n  build () {}\n}\n\nclass ArrowRepresentation extends Representation {\n  constructor (soup, isTransparent = false, selectedTraces = []) {\n    super(soup)\n    this.selectedTraces = _.cloneDeep(selectedTraces)\n    this.setTransparent(isTransparent)\n    this.traces = []\n    this.build()\n  }\n\n  build () {\n    this.traces = this.soup.traces\n    if (this.selectedTraces.length > 0) {\n      let newTraces = []\n      for (let [i, trace] of this.traces.entries()) {\n        if (_.includes(this.selectedTraces, i)) {\n          newTraces.push(trace)\n        }\n      }\n      this.traces = newTraces\n    }\n\n    glgeom.clearObject3D(this.displayObj)\n    glgeom.clearObject3D(this.pickingObj)\n\n    let nCopy = 0\n    for (let trace of this.traces) {\n      nCopy += trace.points.length\n    }\n\n    let unitGeom = new glgeom.BlockArrowGeometry()\n    let unitBufferGeom = new THREE.BufferGeometry().fromGeometry(unitGeom)\n\n    this.displayGeom = new glgeom.CopyBufferGeometry(unitBufferGeom, nCopy)\n    this.pickingGeom = new glgeom.CopyBufferGeometry(unitBufferGeom, nCopy)\n\n    let obj = new THREE.Object3D()\n\n    let iCopy = 0\n    for (let trace of this.traces) {\n      let n = trace.points.length\n      for (let i of _.range(n)) {\n        let point = trace.points[i]\n        let tangent = trace.tangents[i]\n        let normal = trace.binormals[i]\n        let target = point.clone().add(tangent)\n\n        obj.matrix.identity()\n        obj.position.copy(point)\n        obj.up.copy(normal)\n        obj.lookAt(target)\n        obj.updateMatrix()\n\n        this.displayGeom.applyMatrixToCopy(obj.matrix, iCopy)\n        this.pickingGeom.applyMatrixToCopy(obj.matrix, iCopy)\n        this.pickingGeom.applyColorToCopy(trace.indexColors[i], iCopy)\n\n        iCopy += 1\n      }\n    }\n\n    this.recolor()\n\n    this.displayObj.add(new THREE.Mesh(this.displayGeom, this.displayMaterial))\n    this.pickingObj.add(new THREE.Mesh(this.pickingGeom, this.pickingMaterial))\n  }\n\n  recolor () {\n    let iCopy = 0\n    let residue = this.soup.getResidueProxy()\n\n    for (let trace of this.traces) {\n      let n = trace.points.length\n      for (let i of _.range(n)) {\n        let iRes = trace.refIndices[i]\n        let color = residue.load(iRes).activeColor\n        this.displayGeom.applyColorToCopy(color, iCopy)\n        iCopy += 1\n      }\n    }\n    this.displayGeom.attributes.color.needsUpdate = true\n  }\n}\n\nclass RibbonRepresentation extends Representation {\n  constructor (soup, isTransparent = false, selectedTraces = []) {\n    super(soup)\n    this.selectedTraces = _.cloneDeep(selectedTraces)\n    this.traces = []\n    this.setTransparent(isTransparent)\n    this.build()\n  }\n\n  build () {\n    this.traces = this.soup.traces\n    if (this.selectedTraces.length > 0) {\n      let newTraces = []\n      for (let [i, trace] of this.traces.entries()) {\n        if (_.includes(this.selectedTraces, i)) {\n          newTraces.push(trace)\n        }\n      }\n      this.traces = newTraces\n    }\n    this.displayGeom = new glgeom.BufferRibbonGeometry(\n      this.traces,\n      data.coilFace,\n      false\n    )\n    this.pickingGeom = new glgeom.BufferRibbonGeometry(\n      this.traces,\n      data.coilFace,\n      true\n    )\n    glgeom.clearObject3D(this.displayObj)\n    glgeom.clearObject3D(this.pickingObj)\n    let displayMesh = new THREE.Mesh(this.displayGeom, this.displayMaterial)\n    let pickingMesh = new THREE.Mesh(this.pickingGeom, this.pickingMaterial)\n    this.displayObj.add(displayMesh)\n    this.pickingObj.add(pickingMesh)\n    this.recolor()\n  }\n\n  recolor () {\n    let residue = this.soup.getResidueProxy()\n    for (let trace of this.traces) {\n      for (let iTrace of _.range(trace.points.length)) {\n        let iRes = trace.refIndices[iTrace]\n        trace.colors[iTrace] = residue.load(iRes).activeColor\n      }\n    }\n    this.displayGeom.setColors()\n  }\n}\n\nclass NucleotideRepresentation extends Representation {\n  constructor (soup, isTransparent = false, selectedTraces = null) {\n    super(soup)\n    this.selectedTraces = _.cloneDeep(selectedTraces)\n    this.setTransparent(isTransparent)\n    this.traces = []\n    this.build()\n  }\n\n  build () {\n    glgeom.clearObject3D(this.displayObj)\n    glgeom.clearObject3D(this.pickingObj)\n\n    this.displayObj.name = 'NucleotideRepresentation'\n\n    let residue = this.soup.getResidueProxy()\n    let atom = this.soup.getAtomProxy()\n\n    function getVecFromAtomType(a) {\n      let iAtom = residue.getIAtom(a)\n      if (iAtom === null) {\n        return null\n      }\n      return atom.load(iAtom).pos.clone()\n    }\n\n    let verticesList = []\n    this.nucleotideColorList = []\n    let indexColorList = []\n\n    this.traces = this.soup.traces\n    if (this.selectedTraces.length > 0) {\n      let newTraces = []\n      for (let [i, trace] of this.traces.entries()) {\n        if (_.includes(this.selectedTraces, i)) {\n          newTraces.push(trace)\n        }\n      }\n      this.traces = newTraces\n    }\n\n    for (let trace of this.traces) {\n      for (let iRes of trace.indices) {\n        // for (let iRes of _.range(this.soup.getResidueCount())) {\n        residue.iRes = iRes\n        if (residue.ss === 'D' && residue.isPolymer) {\n          let atomTypes = data.getNucleotideBaseAtomTypes(residue.resType)\n          let vertices = _.map(atomTypes, getVecFromAtomType)\n          if (_.some(vertices, v => v === null)) {\n            continue\n          }\n          verticesList.push(vertices)\n          indexColorList.push(getIndexColor(residue.iAtom))\n          this.nucleotideColorList.push(residue.activeColor)\n        }\n      }\n    }\n\n    this.nucleotideGeom = new glgeom.BufferRaisedShapesGeometry(\n      verticesList,\n      this.nucleotideColorList,\n      0.2\n    )\n    let displayMesh = new THREE.Mesh(this.nucleotideGeom, this.displayMaterial)\n    this.displayObj.add(displayMesh)\n\n    let pickingGeom = new glgeom.BufferRaisedShapesGeometry(\n      verticesList,\n      indexColorList,\n      0.2\n    )\n    let pickingMesh = new THREE.Mesh(pickingGeom, this.pickingMaterial)\n    this.pickingObj.add(pickingMesh)\n\n    this.nucleotideConnectList = []\n    for (let trace of this.traces) {\n      for (let iRes of trace.indices) {\n        residue.iRes = iRes\n        if (residue.ss === 'D' && residue.isPolymer) {\n          for (let bond of data.getNucleotideConnectorBondAtomTypes(\n            residue.resType\n          )) {\n            let iAtom1 = getVecFromAtomType(bond[0])\n            let iAtom2 = getVecFromAtomType(bond[1])\n            if ((iAtom1 == null) || (iAtom2 == null)) {\n              continue\n            }\n            this.nucleotideConnectList.push([iAtom1, iAtom2, iRes])\n          }\n        }\n      }\n    }\n\n    let nBond = this.nucleotideConnectList.length\n    let cylinderBufferGeometry = glgeom.makeBufferZCylinderGeometry(0.4)\n    this.nucleotideConnectorGeom = new glgeom.CopyBufferGeometry(\n      cylinderBufferGeometry,\n      nBond\n    )\n    for (let iBond = 0; iBond < nBond; iBond += 1) {\n      let [p1, p2, iRes] = this.nucleotideConnectList[iBond]\n      this.nucleotideConnectorGeom.applyMatrixToCopy(\n        glgeom.getCylinderMatrix(p1, p2, 0.3),\n        iBond\n      )\n    }\n    for (let iBond = 0; iBond < nBond; iBond += 1) {\n      let [p1, p2, iRes] = this.nucleotideConnectList[iBond]\n      let color = residue.load(iRes).activeColor\n      this.nucleotideConnectorGeom.applyColorToCopy(color, iBond)\n    }\n    let mesh = new THREE.Mesh(\n      this.nucleotideConnectorGeom,\n      this.displayMaterial\n    )\n    mesh.name = 'nucleotideConnector'\n    this.displayObj.add(mesh)\n  }\n\n  recolor () {\n    this.nucleotideColorList = []\n    let residue = this.soup.getResidueProxy()\n    for (let trace of this.traces) {\n      for (let iRes of trace.indices) {\n        residue.iRes = iRes\n        if (residue.ss === 'D' && residue.isPolymer) {\n          this.nucleotideColorList.push(residue.activeColor)\n        }\n      }\n    }\n    this.nucleotideGeom.recolor(this.nucleotideColorList)\n\n    let nBond = this.nucleotideConnectList.length\n    for (let iBond = 0; iBond < nBond; iBond += 1) {\n      let [p1, p2, iRes] = this.nucleotideConnectList[iBond]\n      let color = residue.load(iRes).activeColor\n      this.nucleotideConnectorGeom.applyColorToCopy(color, iBond)\n    }\n    this.nucleotideConnectorGeom.attributes.color.needsUpdate = true\n  }\n}\n\nclass CartoonRepresentation extends Representation {\n  constructor (soup, isTransparent = false, selectedTraces = []) {\n    super(soup)\n    super.setTransparent(isTransparent)\n    this.selectedTraces = _.cloneDeep(selectedTraces)\n    this.build()\n  }\n\n  setTransparent (isTransparent) {\n    super.setTransparent(isTransparent)\n    this.ribbonRepr.setTransparent(isTransparent)\n    this.arrowRepr.setTransparent(isTransparent)\n    this.nucRepr.setTransparent(isTransparent)\n  }\n\n  build () {\n    this.ribbonRepr = new RibbonRepresentation(\n      this.soup,\n      this.isTransparent,\n      this.selectedTraces\n    )\n    this.arrowRepr = new ArrowRepresentation(\n      this.soup,\n      this.isTransparent,\n      this.selectedTraces\n    )\n    this.nucRepr = new NucleotideRepresentation(\n      this.soup,\n      this.isTransparent,\n      this.selectedTraces\n    )\n\n    glgeom.clearObject3D(this.displayObj)\n    glgeom.clearObject3D(this.pickingObj)\n\n    this.displayObj.name = 'CartoonRepr'\n    transferObjects(this.ribbonRepr.displayObj, this.displayObj)\n    transferObjects(this.arrowRepr.displayObj, this.displayObj)\n    transferObjects(this.nucRepr.displayObj, this.displayObj)\n    transferObjects(this.ribbonRepr.pickingObj, this.pickingObj)\n    transferObjects(this.arrowRepr.pickingObj, this.pickingObj)\n    transferObjects(this.nucRepr.pickingObj, this.pickingObj)\n  }\n\n  recolor () {\n    this.ribbonRepr.recolor()\n    this.arrowRepr.recolor()\n    this.nucRepr.recolor()\n  }\n}\n\nclass AtomsRepresentation {\n  constructor (soup, atomIndices, atomRadius, isElementRadius = false) {\n    this.soup = soup\n    this.displayObj = new THREE.Object3D()\n    this.pickingObj = new THREE.Object3D()\n    this.atomIndices = atomIndices\n    this.atomRadius = atomRadius\n    this.displayMaterial = phongMaterial\n    this.pickingMaterial = pickingMaterial\n    this.isElementRadius = isElementRadius\n    this.build()\n  }\n\n  build () {\n    glgeom.clearObject3D(this.displayObj)\n    glgeom.clearObject3D(this.pickingObj)\n    if (this.atomIndices.length === 0) {\n      return\n    }\n    let nCopy = this.atomIndices.length\n    let sphereBufferGeometry = new THREE.SphereBufferGeometry(1, 8, 8)\n    this.displayGeom = new glgeom.CopyBufferGeometry(\n      sphereBufferGeometry,\n      nCopy\n    )\n    let pickingGeom = new glgeom.CopyBufferGeometry(sphereBufferGeometry, nCopy)\n\n    let atom = this.soup.getAtomProxy()\n    let radius = this.atomRadius\n    for (let iCopy = 0; iCopy < nCopy; iCopy += 1) {\n      let iAtom = this.atomIndices[iCopy]\n      atom.iAtom = iAtom\n      if (this.isElementRadius) {\n        if (atom.elem === 'H') {\n          radius = 1.2\n        } else {\n          radius = 1.7\n        }\n      }\n      let matrix = glgeom.getSphereMatrix(atom.pos, radius)\n      this.displayGeom.applyMatrixToCopy(matrix, iCopy)\n      pickingGeom.applyMatrixToCopy(matrix, iCopy)\n      this.displayGeom.applyColorToCopy(atom.color, iCopy)\n      pickingGeom.applyColorToCopy(getIndexColor(iAtom), iCopy)\n    }\n\n    this.displayObj.add(new THREE.Mesh(this.displayGeom, this.displayMaterial))\n    this.pickingObj.add(new THREE.Mesh(pickingGeom, this.pickingMaterial))\n  }\n\n  recolor () {\n    if (this.atomIndices.length === 0) {\n      return\n    }\n    let nCopy = this.atomIndices.length\n    let atom = this.soup.getAtomProxy()\n    for (let iCopy = 0; iCopy < nCopy; iCopy += 1) {\n      atom.iAtom = this.atomIndices[iCopy]\n      this.displayGeom.applyColorToCopy(atom.color, iCopy)\n    }\n    this.displayGeom.attributes.color.needsUpdate = true\n  }\n}\n\nclass GridRepresentation extends AtomsRepresentation {\n  constructor (soup, radius) {\n    super(soup, [], radius)\n  }\n\n  build () {\n    let grid = this.soup.grid\n    this.atomIndices = []\n    let residue = this.soup.getResidueProxy()\n    let atom = this.soup.getAtomProxy()\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      residue.iRes = iRes\n      if (residue.ss === 'G') {\n        atom.iAtom = residue.iAtom\n        if (atom.bfactor > grid.bCutoff && grid.isElem[atom.elem]) {\n          this.atomIndices.push(atom.iAtom)\n        }\n      }\n    }\n    super.build()\n  }\n}\n\nclass SphereRepresentation extends AtomsRepresentation {\n  constructor (soup) {\n    super(soup, [], 1.7, true)\n  }\n\n  build () {\n    let grid = this.soup.grid\n    this.atomIndices = []\n    let residue = this.soup.getResidueProxy()\n    let atom = this.soup.getAtomProxy()\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      residue.iRes = iRes\n      if (residue.isPolymer) {\n        for (let iAtom of residue.getAtomIndices()) {\n          atom.iAtom = iAtom\n          this.atomIndices.push(iAtom)\n        }\n      }\n    }\n    this.isElementRadius = true\n    super.build()\n  }\n}\n\nclass BondRepresentation {\n  constructor (soup, bondIndices) {\n    this.soup = soup\n    this.bondIndices = bondIndices\n    this.displayObj = new THREE.Object3D()\n    this.pickingObj = new THREE.Object3D()\n    this.displayMaterial = phongMaterial\n    this.pickingMaterial = pickingMaterial\n    this.build()\n  }\n\n  build () {\n    glgeom.clearObject3D(this.displayObj)\n    glgeom.clearObject3D(this.pickingObj)\n    let bondIndices = this.bondIndices\n    if (bondIndices.length === 0) {\n      return\n    }\n    let nCopy = bondIndices.length\n\n    let cylinderBufferGeometry = new THREE.CylinderBufferGeometry(\n      1,\n      1,\n      1,\n      4,\n      1,\n      false\n    )\n    cylinderBufferGeometry.applyMatrix(\n      new THREE.Matrix4().makeRotationFromEuler(\n        new THREE.Euler(Math.PI / 2, Math.PI, 0)\n      )\n    )\n\n    this.displayGeom = new glgeom.CopyBufferGeometry(\n      cylinderBufferGeometry,\n      nCopy\n    )\n\n    let atom1 = this.soup.getAtomProxy()\n    let atom2 = this.soup.getAtomProxy()\n    let bond = this.soup.getBondProxy()\n    let residue = this.soup.getResidueProxy()\n\n    for (let iCopy = 0; iCopy < nCopy; iCopy += 1) {\n      bond.iBond = bondIndices[iCopy]\n      atom1.iAtom = bond.iAtom1\n      atom2.iAtom = bond.iAtom2\n      residue.iRes = atom1.iRes\n\n      let p1 = atom1.pos.clone()\n      let p2 = atom2.pos.clone()\n\n      if (atom1.iRes !== atom2.iRes) {\n        let midpoint = p2\n          .clone()\n          .add(p1)\n          .multiplyScalar(0.5)\n        if (atom1.iRes === residue.iRes) {\n          p2 = midpoint\n        } else if (atom2.iRes === residue.iRes) {\n          p1 = midpoint\n        }\n      }\n\n      let matrix = glgeom.getCylinderMatrix(p1, p2, 0.2)\n\n      this.displayGeom.applyMatrixToCopy(matrix, iCopy)\n      this.displayGeom.applyColorToCopy(residue.activeColor, iCopy)\n    }\n\n    let displayMesh = new THREE.Mesh(this.displayGeom, this.displayMaterial)\n    this.displayObj.add(displayMesh)\n  }\n\n  recolor () {\n    let bondIndices = this.bondIndices\n    if (bondIndices.length === 0) {\n      return\n    }\n    let nCopy = bondIndices.length\n\n    let bond = this.soup.getBondProxy()\n    let atom1 = this.soup.getAtomProxy()\n    let residue = this.soup.getResidueProxy()\n\n    for (let iCopy = 0; iCopy < nCopy; iCopy += 1) {\n      bond.iBond = bondIndices[iCopy]\n      atom1.iAtom = bond.iAtom1\n      residue.iRes = atom1.iRes\n      this.displayGeom.applyColorToCopy(residue.activeColor, iCopy)\n    }\n    this.displayGeom.attributes.color.needsUpdate = true\n  }\n}\n\nclass LigandRepresentation {\n  constructor (soup, radius) {\n    this.soup = soup\n    this.radius = radius\n    this.displayObj = new THREE.Object3D()\n    this.pickingObj = new THREE.Object3D()\n    this.build()\n  }\n\n  build () {\n    glgeom.clearObject3D(this.displayObj)\n    glgeom.clearObject3D(this.pickingObj)\n\n    let atomIndices = []\n    let bondIndices = []\n\n    let atom = this.soup.getAtomProxy()\n    let residue = this.soup.getResidueProxy()\n\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      residue.iRes = iRes\n      if (residue.ss !== '-') {\n        continue\n      }\n      for (let iAtom of residue.getAtomIndices()) {\n        atom.iAtom = iAtom\n        atomIndices.push(iAtom)\n        for (let iBond of atom.getBondIndices()) {\n          bondIndices.push(iBond)\n        }\n      }\n    }\n\n    this.atomRepr = new AtomsRepresentation(this.soup, atomIndices, this.radius)\n    this.bondRepr = new BondRepresentation(this.soup, bondIndices)\n    if (atomIndices.length > 0) {\n      transferObjects(this.atomRepr.displayObj, this.displayObj)\n      transferObjects(this.bondRepr.displayObj, this.displayObj)\n      transferObjects(this.atomRepr.pickingObj, this.pickingObj)\n    }\n  }\n}\n\nclass WaterRepresentation extends AtomsRepresentation {\n  constructor (soup, radius) {\n    super(soup, [], radius)\n    this.name = 'water'\n    this.atomIndices = []\n    let residue = this.soup.getResidueProxy()\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      residue.iRes = iRes\n      if (residue.resType === 'HOH') {\n        this.atomIndices.push(residue.iAtom)\n      }\n    }\n    this.build()\n  }\n}\n\nclass SidechainRepresentation {\n  constructor (soup, radius) {\n    this.soup = soup\n    this.displayObj = new THREE.Object3D()\n    this.pickingObj = new THREE.Object3D()\n    this.radius = radius\n    this.build()\n  }\n\n  build () {\n    glgeom.clearObject3D(this.displayObj)\n    glgeom.clearObject3D(this.pickingObj)\n\n    let atomIndices = []\n    let bondIndices = []\n\n    let atom = this.soup.getAtomProxy()\n    let residue = this.soup.getResidueProxy()\n\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      residue.iRes = iRes\n      if (!residue.isPolymer) {\n        continue\n      }\n      if (!residue.sidechain) {\n        continue\n      }\n      for (let iAtom of residue.getAtomIndices()) {\n        atom.iAtom = iAtom\n        if (!util.inArray(atom.atomType, data.backboneAtomTypes)) {\n          atomIndices.push(iAtom)\n          for (let iBond of atom.getBondIndices()) {\n            bondIndices.push(iBond)\n          }\n        }\n      }\n    }\n\n    this.atomRepr = new AtomsRepresentation(this.soup, atomIndices, this.radius)\n    this.bondRepr = new BondRepresentation(this.soup, bondIndices)\n\n    transferObjects(this.atomRepr.displayObj, this.displayObj)\n    transferObjects(this.bondRepr.displayObj, this.displayObj)\n    transferObjects(this.atomRepr.pickingObj, this.pickingObj)\n  }\n\n  recolor () {\n    this.atomRepr.recolor()\n    this.bondRepr.recolor()\n  }\n}\n\nclass BackboneRepresentation {\n  constructor (soup, radius) {\n    this.soup = soup\n    this.displayObj = new THREE.Object3D()\n    this.pickingObj = new THREE.Object3D()\n    this.radius = radius\n    this.build()\n  }\n\n  build () {\n    let atomIndices = []\n    let bondIndices = []\n\n    let atom = this.soup.getAtomProxy()\n    let residue = this.soup.getResidueProxy()\n\n    for (let iRes of _.range(this.soup.getResidueCount())) {\n      residue.iRes = iRes\n      if (!residue.isPolymer) {\n        continue\n      }\n      for (let iAtom of residue.getAtomIndices()) {\n        atom.iAtom = iAtom\n        if (util.inArray(atom.atomType, data.backboneAtomTypes)) {\n          atomIndices.push(iAtom)\n          for (let iBond of atom.getBondIndices()) {\n            bondIndices.push(iBond)\n          }\n        }\n      }\n    }\n\n    this.atomRepr = new AtomsRepresentation(this.soup, atomIndices, this.radius)\n    this.bondRepr = new BondRepresentation(this.soup, bondIndices)\n    if (atomIndices.length > 0) {\n      transferObjects(this.atomRepr.displayObj, this.displayObj)\n      transferObjects(this.bondRepr.displayObj, this.displayObj)\n      transferObjects(this.atomRepr.pickingObj, this.pickingObj)\n    }\n  }\n\n  recolor () {\n    this.atomRepr.recolor()\n    this.bondRepr.recolor()\n  }\n}\n\nexport {\n  ArrowRepresentation,\n  RibbonRepresentation,\n  CartoonRepresentation,\n  AtomsRepresentation,\n  GridRepresentation,\n  SphereRepresentation,\n  BondRepresentation,\n  LigandRepresentation,\n  WaterRepresentation,\n  NucleotideRepresentation,\n  SidechainRepresentation,\n  BackboneRepresentation\n}\n","/**\n * This is a separate file to allow multiple jolecule\n * widgets to be animated in the same global event loop.\n * the interface to a widget is:\n *\n * class Widget {\n *   animate(elapsedTime) - calculates any changes due to animation\n *   isChanged() -> Boolean - check if needs to be drawn\n *   drawFrame() -> draws the actue frame\n * }\n *\n * The widgets are stored on the global window object so that\n * potentially multiple different instances will hit the\n * same copy of the function\n *\n * Global storage\n * - window.globalWidgets\n * - window.lastTime\n *\n * typically MS_PER_STEP = 17\n */\n\nfunction loop () {\n  requestAnimationFrame(loop)\n\n  if (window.globalWidgets === []) {\n    return\n  }\n  let currTime = new Date().getTime()\n  let elapsedTime = currTime - window.lastTime\n\n  for (let widget of window.globalWidgets) {\n    widget.animate(elapsedTime)\n  }\n\n  for (let widget of window.globalWidgets) {\n    if (widget.isChanged()) {\n      widget.drawFrame()\n    }\n  }\n\n  window.lastTime = currTime\n}\n\n/**\n * run loop() as a singleton by using the global\n * window space to lock one single copy of loop\n */\nfunction registerGlobalAnimationLoop (widget) {\n  // only set once by checking the global window variable\n\n  if (typeof window.globalWidgets === 'undefined') {\n    window.globalWidgets = []\n    loop()\n    window.lastTime = new Date().getTime()\n  }\n  window.globalWidgets.push(widget)\n}\n\nexport { registerGlobalAnimationLoop }\n","import $ from 'jquery'\nimport _ from 'lodash'\nimport * as THREE from 'three'\n\nimport v3 from './v3'\nimport * as util from './util'\nimport * as glgeom from './glgeom'\n\n/**\n * Utility class to handle a three.js HTML object with\n * a standard set of features:\n *  - instantiate a <div> and <canvas> element\n *  - camera object\n *  - display scene\n *  - picking scene, with helpful picking functions\n *  - a status messaging div\n *  - lights\n *  - input handlers for mouse\n *\n * this.cameraParams = {\n *    focus: new THREE.Vector3(0, 0, 0),\n *    position: new THREE.Vector3(0, 0, -1),\n *    up: new THREE.Vector3(0, 1, 0),\n *    // clipping planes relative to focus\n *    zFront: -40,\n *    zBack: 20,\n *    // distance of focus from position\n *    zoom: 1.0\n *  }\n *\n */\nclass WebglWidget {\n  constructor (divTag, backgroundColor) {\n    this.divTag = divTag\n    this.div = $(this.divTag)\n    this.div.css('overflow', 'hidden')\n\n    this.backgroundColor = backgroundColor\n    this.div.css('background-color', this.backgroundColor)\n\n    // WebGL related properties\n    // div to instantiate WebGL renderer\n    this.webglDivId = this.div.attr('id') + '-canvas-wrapper'\n    this.webglDiv = $('<div>')\n      .attr('id', this.webglDivId)\n      .css('overflow', 'hidden')\n      .css('box-sizing', 'border-box')\n      .css('z-index', '0')\n      .css('background-color', '#CCC')\n      .css('position', 'relative')\n    this.webglDiv.contextmenu(() => false)\n    this.div.append(this.webglDiv)\n\n    // Params that will be used to set the camera below\n    this.cameraParams = {\n      focus: new THREE.Vector3(0, 0, 0),\n      position: new THREE.Vector3(0, 0, -1),\n      up: new THREE.Vector3(0, 1, 0),\n      // clipping planes relative to focus\n      zFront: -40,\n      zBack: 20,\n      // distance of focus from position\n      zoom: 1.0\n    }\n\n    // a THREE.js camera, will be set properly before draw\n    this.camera = new THREE.PerspectiveCamera(45, this.width() / this.height())\n\n    this.displayScene = new THREE.Scene()\n    this.displayScene.background = new THREE.Color(this.backgroundColor)\n    this.displayScene.fog = new THREE.Fog(this.backgroundColor, 1, 100)\n\n    // this.representations is a dictionary that holds representations\n    // that transform this.soup into meshes that will be inserted into\n    // this.displayMeshes and this.pickingMeshes at draw time\n    this.representations = {}\n\n    // this.displayMeshes is a dictionary that holds THREE.Object3D\n    // collections of meshes. This allows collections to be collectively\n    // turned on and off. The meshes will be regenerated into this.displayScene\n    // if the underlying data changes. The convenience function\n    // will send geometries into the displayMeshes, using this.displayMaterial\n    // as the default. This assumes vertexColors are used, allowing multiple\n    // colors within the same geometry.\n    this.displayMeshes = {}\n    this.pickingMeshes = {}\n\n    this.pickingScene = new THREE.Scene()\n    this.pickingTexture = new THREE.WebGLRenderTarget(\n      this.width(),\n      this.height()\n    )\n    this.pickingTexture.texture.minFilter = THREE.LinearFilter\n\n    this.lights = []\n    this.buildLights()\n\n    // div to display processing messages\n    this.messageOffset = { x: 5, y: 5 }\n    this.messageDiv = $('<div>')\n      .attr('id', 'loading-message')\n      .css('position', 'absolute')\n      .addClass('jolecule-overlay-text')\n    this.div.append(this.messageDiv)\n    this.setMesssage('Initialized jolecule.')\n\n    // input control parameters\n    this.saveMouseX = null\n    this.saveMouseY = null\n    this.saveMouseR = null\n    this.saveMouseT = null\n    this.mouseX = null\n    this.mouseY = null\n    this.mouseR = null\n    this.mouseT = null\n  }\n\n  initWebglRenderer () {\n    this.renderer = new THREE.WebGLRenderer({ antialias: true })\n    this.renderer.setClearColor(this.backgroundColor)\n    this.renderer.setSize(this.width(), this.height())\n\n    let dom = this.renderer.domElement\n    this.webglDiv[0].appendChild(dom)\n\n    const bind = (w, fn) => {\n      dom.addEventListener(w, fn)\n    }\n    bind('mousedown', e => this.mousedown(e))\n    bind('mousemove', e => this.mousemove(e))\n    bind('mouseup', e => this.mouseup(e))\n    bind('mouseleave', e => this.mouseout(e))\n    bind('mousewheel', e => this.mousewheel(e))\n    bind('DOMMouseScroll', e => this.mousewheel(e))\n    bind('touchstart', e => this.mousedown(e))\n    bind('touchmove', e => this.mousemove(e))\n    bind('touchend', e => this.mouseup(e))\n    bind('touchcancel', e => this.mouseup(e))\n    bind('gesturestart', e => this.gesturestart(e))\n    bind('gesturechange', e => this.gesturechange(e))\n    bind('gestureend', e => this.gestureend(e))\n  }\n\n  render () {\n    // leave this to the very last moment\n    // to avoid the dreaded black canvas\n    if (!util.exists(this.renderer)) {\n      this.initWebglRenderer()\n    }\n\n    // renders visible meshes to the gpu\n    this.renderer.render(this.displayScene, this.camera)\n  }\n\n  getPosXY (pos) {\n    let widthHalf = 0.5 * this.width()\n    let heightHalf = 0.5 * this.height()\n\n    let vector = pos.clone().project(this.camera)\n\n    return {\n      x: vector.x * widthHalf + widthHalf + this.x(),\n      y: -(vector.y * heightHalf) + heightHalf + this.y()\n    }\n  }\n\n  getPickColorFromMouse () {\n    let x = this.mouseX\n    let y = this.mouseY\n\n    if (x === null || y === null) {\n      return null\n    }\n\n    // create buffer for reading single pixel\n    let pixelBuffer = new Uint8Array(4)\n\n    // render the picking soupView off-screen\n    this.renderer.render(this.pickingScene, this.camera, this.pickingTexture)\n\n    // read the pixel under the mouse from the texture\n    this.renderer.readRenderTargetPixels(\n      this.pickingTexture,\n      this.mouseX,\n      this.pickingTexture.height - y,\n      1,\n      1,\n      pixelBuffer\n    )\n\n    // interpret the color as an Uint8 integer\n    return (pixelBuffer[0] << 16) | (pixelBuffer[1] << 8) | pixelBuffer[2]\n  }\n\n  setCameraParams (cameraParams) {\n    // rotate lights to soupView orientation\n    let cameraDirection = this.cameraParams.position\n      .clone()\n      .sub(this.cameraParams.focus)\n      .normalize()\n    let viewCameraDirection = cameraParams.position\n      .clone()\n      .sub(cameraParams.focus)\n    viewCameraDirection.normalize()\n    let rotation = glgeom.getUnitVectorRotation(\n      cameraDirection,\n      viewCameraDirection\n    )\n    for (let i = 0; i < this.lights.length; i += 1) {\n      this.lights[i].position.applyQuaternion(rotation)\n    }\n\n    this.cameraParams = cameraParams\n\n    let far = this.cameraParams.zoom + this.cameraParams.zBack\n    let near = this.cameraParams.zoom + this.cameraParams.zFront\n    if (near < 1) {\n      near = 1\n    }\n\n    this.camera.position.copy(this.cameraParams.position)\n    this.camera.up.copy(this.cameraParams.up)\n    this.camera.lookAt(this.cameraParams.focus)\n    this.camera.near = near\n    this.camera.far = far\n    this.camera.updateProjectionMatrix()\n\n    this.displayScene.fog.near = this.cameraParams.zoom\n    this.displayScene.fog.far = far\n  }\n\n  buildLights () {\n    this.lights.length = 0\n\n    let directedLight = new THREE.DirectionalLight(0xffffff)\n    directedLight.position.copy(v3.create(0.2, 0.2, -100).normalize())\n    directedLight.dontDelete = true\n    this.lights.push(directedLight)\n\n    let ambientLight = new THREE.AmbientLight(0x606060, 1)\n    ambientLight.dontDelete = true\n    this.lights.push(ambientLight)\n\n    for (let i = 0; i < this.lights.length; i += 1) {\n      this.displayScene.add(this.lights[i])\n    }\n  }\n\n  resize () {\n    let height = this.div.outerHeight()\n    this.webglDiv.css('height', height)\n\n    let width = this.div.outerWidth()\n    this.webglDiv.css('width', width)\n\n    this.messageDiv.css({\n      top: this.messageOffset.y,\n      left: this.messageOffset.x\n    })\n\n    this.messageDiv.css(\n      'max-width',\n      Math.max(0.9 * this.div.width() - 40, this.div.width() - 200)\n    )\n\n    this.camera.aspect = this.width() / this.height()\n    this.camera.updateProjectionMatrix()\n\n    this.pickingTexture.setSize(this.width(), this.height())\n\n    if (util.exists(this.renderer)) {\n      this.renderer.setSize(this.width(), this.height())\n    }\n  }\n\n  setMesssage (message) {\n    console.log('SoupWidget.setMesssage:', message)\n    this.messageDiv.html(message).show()\n  }\n\n  async asyncSetMesssage (message) {\n    this.setMesssage(message)\n    await util.delay(0)\n  }\n\n  async asyncFlashMesssage (message, timeMs) {\n    this.setMesssage(message)\n    await util.delay(timeMs)\n    this.messageDiv.hide().html('')\n  }\n\n  cleanupMessage () {\n    this.messageDiv.hide()\n  }\n\n  /**\n   **********************************************************\n   * Mesh-building methods\n   *\n   * Routines to build meshes that will be incorporated into\n   * scenes, and to be used for gpu-picking.\n   *\n   * Meshes are stored in a dictionary: this.displayMeshes &\n   * this.pickingMeshes\n   **********************************************************\n   */\n\n  /**\n   * Rebuild soupView from meshes in this.displayMeshes &\n   * this.pickingMeshes\n   */\n  rebuildSceneFromMeshes () {\n    glgeom.clearObject3D(this.displayScene)\n    glgeom.clearObject3D(this.pickingScene)\n    for (let mesh of _.values(this.displayMeshes)) {\n      if (mesh.children.length > 0) {\n        this.displayScene.add(mesh)\n      }\n    }\n    for (let mesh of _.values(this.pickingMeshes)) {\n      if (mesh.children.length > 0) {\n        this.pickingScene.add(mesh)\n      }\n    }\n  }\n\n  /**\n   * Sets the visibility of a mesh this.displayMeshes & this.pickingMeshes.\n   * If it does not exist, create it, and look for the corresponding method\n   * to build the mesh this.build<CaptializaedMeshName>\n   *\n   * @param meshName\n   * @param visible\n   */\n  setMeshVisible (meshName, visible) {\n    if (meshName in this.displayMeshes) {\n      glgeom.setVisible(this.displayMeshes[meshName], visible)\n    }\n    if (meshName in this.pickingMeshes) {\n      glgeom.setVisible(this.pickingMeshes[meshName], visible)\n    }\n  }\n\n  x () {\n    return 0\n  }\n\n  y () {\n    return 0\n  }\n\n  width () {\n    let width = this.div.width() - this.x()\n    return width\n  }\n\n  height () {\n    let height = this.div.height() - this.y()\n    return height\n  }\n\n  getPointer (event) {\n    if (util.exists(event.touches) && event.touches.length > 0) {\n      this.eventX = event.touches[0].clientX\n      this.eventY = event.touches[0].clientY\n    } else {\n      this.eventX = event.clientX\n      this.eventY = event.clientY\n    }\n\n    let rect = event.target.getBoundingClientRect()\n    this.mouseX = this.eventX - rect.left\n    this.mouseY = this.eventY - rect.top\n\n    let x = this.mouseX - this.width() / 2\n    let y = this.mouseY - this.height() / 2\n\n    this.mouseR = Math.sqrt(x * x + y * y)\n\n    this.mouseT = Math.atan(y / x)\n    if (x < 0) {\n      if (y > 0) {\n        this.mouseT += Math.PI\n      } else {\n        this.mouseT -= Math.PI\n      }\n    }\n  }\n\n  savePointer () {\n    this.saveMouseX = this.mouseX\n    this.saveMouseY = this.mouseY\n    this.saveMouseR = this.mouseR\n    this.saveMouseT = this.mouseT\n  }\n}\n\nexport { WebglWidget }\n","import _ from 'lodash'\nimport * as THREE from 'three'\nimport Signal from 'signals'\n\nimport v3 from './v3'\nimport * as util from './util'\nimport widgets from './widgets'\nimport * as representation from './representation'\nimport { registerGlobalAnimationLoop } from './animation'\n\nimport { WebglWidget } from './webgl-widget'\n\n/**\n * Display is the main window for drawing the soup\n * in a WebGL HTML5 canvas, includes various widgets that\n * are described in widgets.js.\n *\n * Display takes a soup, and builds three.js from\n * it. Display also handles mouse input and\n * uses controller to make changes to the underlying soup\n * and their associated views\n */\nclass SoupWidget extends WebglWidget {\n  /**\n   * @param soupView - SoupView object that holds a soup and views\n   * @param divTag - a selector tag for a DOM element\n   * @param controller - the controller for the soupView\n   * @param isGrid - flat to show autodock 3D grid control panel\n   * @param backgroundColor - the background color of canvas and webgl\n   */\n  constructor (\n    soupView,\n    divTag,\n    controller,\n    isGrid,\n    backgroundColor,\n    isMouseWheel\n  ) {\n    super(divTag, backgroundColor)\n\n    this.observers = {\n      rebuilt: new Signal(),\n      updated: new Signal(),\n      resized: new Signal()\n    }\n\n    // DataServer is needed to save views\n    this.dataServer = null\n\n    // Hooks to protein data\n    this.soupView = soupView\n    this.soup = soupView.soup\n    this.controller = controller\n\n    // screen atom radius\n    this.atomRadius = 0.35\n    this.gridAtomRadius = 1.0\n\n    // Cross-hairs to identify centered atom\n    this.isCrossHairs = true\n    this.buildCrossHairs()\n\n    // popup hover box over the mouse position\n    this.isClickInitiated = false\n    this.hover = new widgets.PopupText(this.divTag, 50)\n    this.iAtomHover = null\n\n    // Docking display control\n    this.isGrid = isGrid\n\n    this.isMouseWheel = isMouseWheel\n\n    // Widgets that decorate the display\n    // display distance measures between atoms\n    this.distanceMeasuresWidget = new widgets.DistanceMeasuresWidget(this)\n    // display atom labels\n    this.atomLabelsWidget = new widgets.AtomLabelsWidget(this)\n    // draw onscreen line for mouse dragging between atoms\n    this.lineElement = new widgets.LineElement(this, '#FF7777')\n\n    registerGlobalAnimationLoop(this)\n  }\n\n  addObserver (observer) {\n    if ('update' in observer) {\n      this.observers.updated.add(() => {\n        observer.update()\n      })\n    }\n    if ('rebuild' in observer) {\n      this.observers.rebuilt.add(() => {\n        observer.rebuild()\n      })\n    }\n    if ('resize' in observer) {\n      this.observers.resized.add(() => {\n        observer.resize()\n      })\n    }\n  }\n\n  buildCrossHairs () {\n    let radius = 2.0\n    let segments = 60\n    let material = new THREE.LineBasicMaterial({ color: 0xff5555 })\n    let geometry = new THREE.CircleGeometry(radius, segments)\n\n    // Remove center vertex\n    geometry.vertices.shift()\n\n    this.crossHairs = new THREE.LineLoop(geometry, material)\n    this.crossHairs.dontDelete = true\n    this.displayScene.add(this.crossHairs)\n  }\n\n  /**\n   ******************************************\n   * Handle cameraParams\n   ******************************************\n   */\n\n  setTargetViewByIAtom (iAtom) {\n    this.controller.setTargetViewByIAtom(iAtom)\n  }\n\n  getCameraOfCurrentView () {\n    return this.soupView.currentView.cameraParams\n  }\n\n  getZ (pos) {\n    let cameraParams = this.getCameraOfCurrentView()\n    let cameraDir = cameraParams.focus\n      .clone()\n      .sub(cameraParams.position)\n      .normalize()\n    let posRelativeToOrigin = pos.clone().sub(cameraParams.focus)\n    return posRelativeToOrigin.dot(cameraDir)\n  }\n\n  inZlab (pos) {\n    let z = this.getZ(pos)\n    let cameraParams = this.getCameraOfCurrentView()\n    return z >= cameraParams.zFront && z <= cameraParams.zBack\n  }\n\n  opacity (pos) {\n    let z = this.getZ(pos)\n\n    let cameraParams = this.getCameraOfCurrentView()\n\n    if (z < cameraParams.zFront) {\n      return 1.0\n    }\n\n    if (z > cameraParams.zBack) {\n      return 0.0\n    }\n\n    return (\n      1 - (z - cameraParams.zFront) / (cameraParams.zBack - cameraParams.zFront)\n    )\n  }\n\n  /**\n   ******************************************\n   * Draw & Animate Graphical objects\n   ******************************************\n   */\n\n  updateCrossHairs () {\n    let cameraParams = this.getCameraOfCurrentView()\n    this.crossHairs.position.copy(cameraParams.focus)\n    this.crossHairs.lookAt(cameraParams.position)\n    this.crossHairs.updateMatrix()\n  }\n\n  atomLabelDialog () {\n    let iAtom = this.soupView.currentView.iAtom\n    if (iAtom >= 0) {\n      let atom = this.soup.getAtomProxy(iAtom)\n      let label = 'Label atom : ' + atom.label\n      let success = text => {\n        this.controller.makeAtomLabel(iAtom, text)\n      }\n      util.textEntryDialog(this.div, label, success)\n    }\n  }\n\n  getIAtomHover () {\n    let i = this.getPickColorFromMouse()\n    if (i > 0 && i < this.soup.getAtomCount() + 1) {\n      return i - 1\n    }\n    return null\n  }\n\n  popupText (iAtomHover) {\n    let atom = this.soup.getAtomProxy(iAtomHover)\n    let label = atom.label\n    let iAtom = atom.iAtom\n    if (atom.resType === 'XXX') {\n      label += ':' + 'E=' + this.soup.grid.convertB(atom.bfactor)\n    }\n    let text = ''\n    if (iAtom === this.soupView.getICenteredAtom()) {\n      text = '<div style=\"text-align: center\">'\n      text += label\n      text += '<br>[drag distances]<br>'\n      text += '[double-click labels]'\n      text += '</div>'\n    } else {\n      text = label\n    }\n    return text\n  }\n\n  updateHover () {\n    this.iAtomHover = this.getIAtomHover()\n    if (this.iAtomHover) {\n      this.hover.html(this.popupText(this.iAtomHover))\n      let pos = this.soup.getAtomProxy(this.iAtomHover).pos\n      let vector = this.getPosXY(pos)\n      this.hover.move(vector.x, vector.y)\n    } else {\n      this.hover.hide()\n    }\n  }\n\n  /**\n   **********************************************************\n   * Mesh-building methods\n   *\n   * Routines to build meshes that will be incorporated into\n   * scenes, and to be used for gpu-picking.\n   *\n   * Meshes are stored in a dictionary: this.displayMeshes &\n   * this.pickingMeshes\n   **********************************************************\n   */\n\n  addRepresentation (name, repr) {\n    this.representations[name] = repr\n    this.displayMeshes[name] = repr.displayObj\n    this.pickingMeshes[name] = repr.pickingObj\n    this.updateMeshesInScene = true\n  }\n\n  buildScene () {\n    // clear this.displayMeshes and this.pickingMeshes\n    for (let key of _.keys(this.displayMeshes)) {\n      _.unset(this.displayMeshes, key)\n    }\n    for (let key of _.keys(this.pickingMeshes)) {\n      _.unset(this.pickingMeshes, key)\n    }\n\n    this.addRepresentation(\n      'transparentRibbon',\n      new representation.CartoonRepresentation(this.soup, true)\n    )\n    this.addRepresentation(\n      'ribbon',\n      new representation.CartoonRepresentation(\n        this.soup,\n        false,\n        this.soup.selectedTraces\n      )\n    )\n    this.addRepresentation(\n      'ligand',\n      new representation.LigandRepresentation(this.soup, this.atomRadius)\n    )\n    if (this.isGrid) {\n      this.addRepresentation(\n        'grid',\n        new representation.GridRepresentation(this.soup, this.gridAtomRadius)\n      )\n    }\n    this.addRepresentation(\n      'sidechain',\n      new representation.SidechainRepresentation(this.soup, this.atomRadius)\n    )\n\n    this.rebuildSceneFromMeshes()\n\n    this.observers.rebuilt.dispatch()\n\n    this.soupView.isChanged = true\n    this.soupView.isUpdateObservers = true\n  }\n\n  deleteStructure (iStructure) {\n    this.controller.deleteStructure(iStructure)\n    this.buildScene()\n    this.observers.rebuilt.dispatch()\n  }\n\n  /**\n   ********************************************\n   * Main event loop methods\n   ********************************************\n   */\n\n  /**\n   * Status function to work with registerAnimation Loop\n   * @returns Boolean\n   */\n  isChanged () {\n    return this.soupView.isChanged\n  }\n\n  drawFrame () {\n    if (!this.isChanged()) {\n      return\n    }\n\n    let isNoMoreChanges =\n      !this.soupView.soup.grid.isChanged &&\n      !this.soupView.isUpdateSidechain &&\n      !this.soupView.isUpdateColors\n\n    if (this.soupView.isStartTargetAfterRender) {\n      // set target only AFTER all changes have been applied in previous tick\n      if (isNoMoreChanges) {\n        this.soupView.startTargetView()\n        this.soupView.nUpdateStep = this.soupView.maxUpdateStep\n      }\n    }\n\n    this.updateMeshesInScene = false\n\n    let isNewTrigger = (meshName, visible) => {\n      return visible && !(meshName in this.displayMeshes)\n    }\n\n    let show = this.soupView.currentView.show\n\n    if (isNewTrigger('water', show.water)) {\n      this.addRepresentation(\n        'water',\n        new representation.WaterRepresentation(this.soup, this.atomRadius)\n      )\n    }\n\n    if (isNewTrigger('backbone', show.backbone)) {\n      this.addRepresentation(\n        'backbone',\n        new representation.BackboneRepresentation(this.soup, this.atomRadius)\n      )\n    }\n\n    if (isNewTrigger('sphere', show.sphere)) {\n      this.addRepresentation(\n        'sphere',\n        new representation.SphereRepresentation(this.soup)\n      )\n    }\n\n    this.setMeshVisible('ribbon', show.ribbon)\n    this.setMeshVisible('transparentRibbon', show.ribbon && show.transparent)\n    this.setMeshVisible('water', show.water)\n    this.setMeshVisible('backbone', show.backbone)\n    this.setMeshVisible('ligand', show.ligands)\n    this.setMeshVisible('sphere', show.sphere)\n\n    if (show.transparent) {\n      if (\n        !_.isEqual(\n          this.soup.selectedTraces,\n          this.representations.ribbon.selectedTraces\n        )\n      ) {\n        this.representations.ribbon.selectedTraces = _.cloneDeep(\n          this.soup.selectedTraces\n        )\n        this.representations.ribbon.build()\n        this.updateMeshesInScene = true\n      }\n    } else {\n      if (\n        this.representations.ribbon &&\n        this.representations.ribbon.selectedTraces.length > 0\n      ) {\n        this.representations.ribbon.selectedTraces.length = 0\n        this.representations.ribbon.build()\n        this.updateMeshesInScene = true\n      }\n    }\n\n    if (this.isGrid) {\n      if (this.soupView.soup.grid.isChanged) {\n        if (!_.isUndefined(this.representations.grid)) {\n          this.soup.colorResidues()\n          this.representations.grid.build()\n        }\n        this.soupView.soup.grid.isChanged = false\n      }\n    } else {\n      this.soupView.soup.grid.isChanged = false\n    }\n\n    if (this.soupView.isUpdateSidechain) {\n      this.representations.sidechain.build()\n      this.soupView.isUpdateSidechain = false\n      this.updateMeshesInScene = true\n    }\n\n    if (this.soupView.isUpdateColors) {\n      for (let repr of _.values(this.representations)) {\n        if ('recolor' in repr) {\n          repr.recolor()\n        }\n      }\n      this.soupView.isUpdateColors = false\n      this.soupView.isUpdateObservers = true\n    }\n\n    if (this.updateMeshesInScene) {\n      this.rebuildSceneFromMeshes()\n    }\n\n    this.updateCrossHairs()\n\n    this.setCameraParams(this.getCameraOfCurrentView())\n\n    // needs to be observers.updated before render\n    // as lines must be placed in THREE.js scene\n    this.distanceMeasuresWidget.drawFrame()\n\n    this.render()\n\n    if (this.soupView.isUpdateObservers) {\n      this.observers.updated.dispatch()\n      this.soupView.isUpdateObservers = false\n    }\n\n    // needs to be observers.updated after render\n    this.atomLabelsWidget.drawFrame()\n\n    this.soupView.isChanged = false\n  }\n\n  animate (elapsedTime) {\n    this.soupView.animate(elapsedTime)\n    this.updateHover()\n  }\n\n  /**\n   ********************************************\n   * Standard DOM methods\n   ********************************************\n   */\n\n  focus () {\n    console.log('SoupWidget.focus')\n  }\n\n  resize () {\n    super.resize()\n    this.observers.resized.dispatch()\n    this.soupView.isUpdateObservers = true\n    this.controller.setChangeFlag()\n  }\n\n  doubleclick (event) {\n    if (this.iAtomHover !== null) {\n      if (this.iAtomHover === this.soupView.getICenteredAtom()) {\n        this.atomLabelDialog()\n      } else if (this.iAtomHover === this.iAtomPreClick) {\n        this.controller.triggerAtom(this.iAtomHover)\n      }\n      this.isDraggingCentralAtom = false\n    } else {\n      this.controller.triggerAtom()\n    }\n    this.iAtomFirstPressed = null\n    this.iResFirstPressed = null\n    this.iAtomPreClick = null\n  }\n\n  /**\n   * Click is triggered on a mouseup following a mousedown\n   */\n  click (event) {\n    let iAtomPressed = this.iAtomHover\n    let iResPressed = this.soup.getAtomProxy(iAtomPressed).iRes\n\n    if (util.exists(iResPressed) && iResPressed === this.iResFirstPressed) {\n      if (!event.metaKey && !event.shiftKey) {\n        let res = this.soup.getResidueProxy(iResPressed)\n        let val = !res.selected\n        this.controller.selectResidue(iResPressed, val)\n      } else if (event.shiftKey) {\n        this.controller.selectAdditionalRangeToResidue(this.iResFirstPressed)\n      } else {\n        this.controller.selectAdditionalResidue(this.iResFirstPressed)\n      }\n    } else {\n      this.controller.clearSelectedResidues()\n    }\n\n    this.iAtomFirstPressed = null\n    this.iResFirstPressed = null\n\n    this.getPointer(event)\n    this.updateHover()\n  }\n\n  mousedown (event) {\n    this.focus()\n\n    if (this.isGesture) {\n      return\n    }\n\n    event.preventDefault()\n\n    this.getPointer(event)\n    this.updateHover()\n    this.iAtomFirstPressed = this.iAtomHover\n    this.iResFirstPressed = this.soup.getAtomProxy(this.iAtomFirstPressed).iRes\n\n    if (this.iAtomFirstPressed === this.soupView.getICenteredAtom()) {\n      this.isDraggingCentralAtom = this.iAtomFirstPressed !== null\n    }\n\n    let now = new Date().getTime()\n    let elapsedTime = this.timePressed ? now - this.timePressed : 0\n\n    if (!this.isClickInitiated) {\n      this.iAtomPreClick = this.iAtomHover\n      this.isClickInitiated = true\n    } else if (elapsedTime < 600) {\n      this.doubleclick(event)\n      this.isClickInitiated = false\n    }\n\n    this.getPointer(event)\n    this.savePointer()\n    this.timePressed = new Date().getTime()\n    this.pointerPressedAndInDiv = true\n  }\n\n  mousemove (event) {\n    event.preventDefault()\n    if (this.isGesture) {\n      return\n    }\n\n    this.getPointer(event)\n\n    this.updateHover()\n\n    if (this.isDraggingCentralAtom) {\n      let pos = this.soup.getAtomProxy(this.soupView.getICenteredAtom()).pos\n      let v = this.getPosXY(pos)\n      this.lineElement.move(\n        this.mouseX + this.x(),\n        this.mouseY + this.y(),\n        v.x,\n        v.y\n      )\n    } else {\n      let rightMouse = event.button === 2 || event.which === 3\n\n      if (this.pointerPressedAndInDiv) {\n        let zoomRatio = 1.0\n        let zRotationAngle = 0\n        let yRotationAngle = 0\n        let xRotationAngle = 0\n\n        let diffX = this.mouseX - this.saveMouseX\n        let diffY = this.mouseY - this.saveMouseY\n\n        // cancel any down/up motion\n        this.isClickInitiated = false\n\n        if (rightMouse || event.metaKey) {\n          zRotationAngle = this.mouseT - this.saveMouseT\n          if (this.mouseR > 0.0) {\n            zoomRatio = this.saveMouseR / this.mouseR\n          }\n        } else if (event.ctrlKey) {\n          zRotationAngle = this.mouseT - this.saveMouseT\n        } else if (event.shiftKey) {\n          let wheel = diffY / 100\n          zoomRatio = Math.pow(1 + Math.abs(wheel) / 2, wheel > 0 ? 1 : -1)\n        } else {\n          yRotationAngle = v3.degToRad(diffX)\n          xRotationAngle = v3.degToRad(diffY)\n        }\n\n        this.controller.adjustCamera(\n          xRotationAngle,\n          yRotationAngle,\n          zRotationAngle,\n          zoomRatio\n        )\n\n        this.savePointer()\n      }\n    }\n  }\n\n  mouseout (event) {\n    this.hover.hide()\n    this.pointerPressedAndInDiv = false\n  }\n\n  mouseup (event) {\n    this.getPointer(event)\n\n    event.preventDefault()\n\n    if (this.isDraggingCentralAtom) {\n      if (this.iAtomHover !== null) {\n        let iAtomCentre = this.soupView.getICenteredAtom()\n        if (this.iAtomHover !== iAtomCentre) {\n          this.controller.makeDistance(this.iAtomHover, iAtomCentre)\n        }\n      }\n      this.lineElement.hide()\n      this.isDraggingCentralAtom = false\n    }\n\n    if (this.isClickInitiated) {\n      this.click(event)\n    }\n\n    if (util.exists(event.touches)) {\n      this.hover.hide()\n    }\n\n    this.pointerPressedAndInDiv = false\n  }\n\n  mousewheel (event) {\n    console.log('SoupWidget.mousewheel', this.isMouseWheel)\n    if (!this.isMouseWheel) {\n      return\n    }\n\n    if (this.isGesture) {\n      return\n    }\n\n    event.preventDefault()\n\n    let wheel\n    if (util.exists(event.wheelDelta)) {\n      wheel = event.wheelDelta / 480\n    } else {\n      // for Firefox\n      wheel = -event.detail / 24\n    }\n\n    // converted from pinch-zoom on chrome\n    if (event.ctrlKey) {\n      wheel /= 2\n      wheel *= -1\n    }\n\n    let zoom = Math.pow(1 + Math.abs(wheel) / 2, wheel > 0 ? 1 : -1)\n\n    this.controller.adjustCamera(0, 0, 0, zoom)\n  }\n\n  gesturestart (event) {\n    event.preventDefault()\n    this.isGesture = true\n    this.lastPinchRotation = 0\n    this.lastScale = event.scale * event.scale\n  }\n\n  gesturechange (event) {\n    event.preventDefault()\n    this.controller.adjustCamera(\n      0,\n      0,\n      v3.degToRad(event.rotation * 2 - this.lastPinchRotation),\n      this.lastScale / (event.scale * event.scale)\n    )\n    this.lastPinchRotation = event.rotation * 2\n    this.lastScale = event.scale * event.scale\n  }\n\n  gestureend (event) {\n    event.preventDefault()\n    this.isGesture = false\n    this.iAtomFirstPressed = null\n    this.iResFirstPressed = null\n    if (this.isClickInitiated !== null) {\n      clearTimeout(this.isClickInitiated)\n      this.isClickInitiated = null\n    }\n    this.pointerPressedAndInDiv = false\n  }\n}\n\nexport { SoupWidget }\n","import $ from 'jquery'\nimport _ from 'lodash'\nimport { SoupViewController, SoupView } from './soup-view'\nimport { Soup } from './soup'\nimport { SoupWidget } from './soup-widget'\nimport { linkButton, delay } from './util.js'\nimport widgets from './widgets'\n\nimport '../dist/jolecule.css' // eslint-disable-line no-alert\n\n/**\n * EmbedJolecule - the widget that shows proteins and\n * annotations\n */\n\nlet defaultArgs = {\n  divTag: '',\n  backgroundColor: 0x000000,\n  viewId: '',\n  viewHeight: 170,\n  isViewTextShown: false,\n  isSequenceBar: true,\n  isResidueSelector: true,\n  isLegend: false,\n  isEditable: true,\n  animateState: 'none', // 'loop', 'rotate', 'rock'\n  isGrid: false,\n  bCutoff: 0.5,\n  isPlayable: false,\n  maxUpdateStep: 50,\n  msPerStep: 17,\n  maxWaitStep: 30,\n  isToolbarOnTop: false,\n  isToolbarOn: false,\n  isTextOverlay: true,\n  isMouseWheel: true\n}\n\nclass EmbedJolecule {\n  constructor (params) {\n    this.params = _.cloneDeep(defaultArgs)\n    _.assign(this.params, params)\n    console.log('EmbedJolecule.constructor', this.params)\n    this.isProcessing = { flag: false }\n\n    this.divTag = this.params.divTag\n    this.div = $(this.params.divTag)\n    this.divId = this.div.attr('id')\n    this.div[0].oncontextmenu = _.noop\n\n    this.soup = new Soup()\n    this.soupView = new SoupView(this.soup)\n    this.controller = new SoupViewController(this.soupView)\n\n    this.soupView.animateState = this.params.animateState\n    this.soupView.maxUpdateStep = this.params.maxUpdateStep\n    this.soupView.msPerStep = this.params.msPerStep\n    this.soupView.maxWaitStep = this.params.maxWaitStep\n\n    if (this.params.bCutoff !== null) {\n      this.soup.grid.bCutoff = this.params.bCutoff\n    }\n\n    this.widget = {}\n\n    this.createDivs()\n\n    let resizeFn = () => this.resize()\n    $(window).resize(resizeFn)\n    window.onorientationchange = resizeFn\n    resizeFn()\n  }\n\n  async asyncAddDataServer (dataServer) {\n    while (this.isProcessing.flag) {\n      await delay(100)\n    }\n\n    console.log('EmbedJolecule.asyncAddDataServer', dataServer)\n\n    this.isProcessing.flag = true\n\n    await this.soupWidget.asyncSetMesssage('Loading structure...')\n\n    let asyncSetMesssage = m => this.soupWidget.asyncSetMesssage(m)\n\n    await new Promise(resolve => {\n      dataServer.getProteinData(async proteinData => {\n        await this.controller.asyncLoadProteinData(\n          proteinData,\n          asyncSetMesssage\n        )\n        resolve()\n      })\n    })\n\n    this.soupWidget.buildScene()\n\n    this.resize()\n\n    this.controller.zoomOut()\n\n    if (_.isNil(this.soupView.dataServer)) {\n      await this.soupWidget.asyncSetMesssage('Preparing views...')\n\n      // save only first loaded dataServer for saving and deleting\n      this.soupWidget.dataServer = dataServer\n\n      await new Promise(resolve => {\n        dataServer.getViews((viewDicts, viewId) => {\n          this.controller.loadViewsFromViewDicts(viewDicts)\n          if (viewId) {\n            this.params.viewId = viewId\n          }\n          let isDefaultViewId =\n            this.params.viewId in this.soupView.savedViewsByViewId\n          if (isDefaultViewId) {\n            this.controller.setTargetViewByViewId(this.params.viewId)\n          }\n          resolve()\n        })\n      })\n\n      this.soupView.isUpdateObservers = true\n    }\n\n    this.soupWidget.cleanupMessage()\n\n    this.isProcessing.flag = false\n\n    console.log('EmbedJolecule.asyncAddDataServer finished')\n  }\n\n  clear () {\n    while (this.soupWidget.soup.structureIds.length > 0) {\n      this.soupWidget.deleteStructure(0)\n    }\n    // this.soupWidget.soup.selectedTraces.length = 0\n  }\n\n  createDivs () {\n    this.div.css({\n      display: 'flex',\n      'flex-direction': 'column'\n    })\n\n    this.headerDiv = $('<div>')\n      .addClass('jolecule-embed-header')\n      .css({\n        display: 'flex',\n        'flex-wrap': 'wrap',\n        'flex-direction': 'row'\n      })\n    this.div.append(this.headerDiv)\n\n    this.bodyDiv = $('<div>')\n      .attr('id', `${this.divId}-jolecule-soup-display`)\n      .addClass('jolecule-embed-body')\n      .css({ flex: '1 1', position: 'relative' })\n    this.div.append(this.bodyDiv)\n\n    this.soupWidget = new SoupWidget(\n      this.soupView,\n      `#${this.divId}-jolecule-soup-display`,\n      this.controller,\n      this.params.isGrid,\n      this.params.backgroundColor,\n      this.params.isMouseWheel\n    )\n\n    this.footerDiv = $('<div>')\n      .addClass('jolecule-embed-footer')\n      .css({\n        display: 'flex',\n        'flex-wrap': 'wrap',\n        'flex-direction': 'row'\n      })\n    this.div.append(this.footerDiv)\n\n    this.sequenceBarDiv = $('<div>')\n      .attr('id', `${this.divId}-sequence-widget`)\n      .css({\n        width: '100%'\n      })\n    if (this.params.isToolbarOnTop) {\n      this.footerDiv.append(this.sequenceBarDiv)\n    } else {\n      this.headerDiv.append(this.sequenceBarDiv)\n    }\n\n    if (this.params.isSequenceBar) {\n      this.widget.sequence = new widgets.SequenceWidget(\n        `#${this.divId}-sequence-widget`,\n        this.soupWidget\n      )\n    }\n\n    if (this.params.isGrid) {\n      this.widget.grid = new widgets.GridControlWidget(this.soupWidget)\n    }\n\n    this.widget.colorLegend = new widgets.ColorLegendWidget(this.soupWidget)\n    this.widget.colorLegend.isShow = this.params.isLegend\n\n    this.widget.selection = new widgets.SelectionWidget(this.soupWidget)\n\n    if (this.params.isToolbarOnTop) {\n      this.toolbarDiv = this.headerDiv\n    } else {\n      this.toolbarDiv = this.footerDiv\n      this.widget.selection.offset.y = 5\n      this.widget.colorLegend.offset.y = 5\n    }\n\n    let isToolbar =\n      this.params.isPlayable ||\n      this.params.isEditable ||\n      this.params.isExtraEditable\n\n    if (!isToolbar) {\n      return\n    }\n\n    this.toolbarDiv\n      .css({\n        display: 'flex',\n        'flex-wrap': 'wrap',\n        'flex-direction': 'row'\n      })\n      .addClass('jolecule-embed-toolbar')\n\n    if (this.params.isToolbarOn) {\n      this.widget.toolbar = new widgets.ToggleToolbarWidget(\n        this,\n        this.soupWidget.divTag, // `#${this.divId}-jolecule-soup-display`,\n        `.jolecule-embed-toolbar`,\n        false,\n        this.params.isToolbarOnTop\n      )\n    }\n\n    this.toolbarDiv.append(\n      linkButton('?', 'jolecule-button', () => {\n        widgets.openAboutDialog(this.soupWidget.div)\n      })\n    )\n\n    if (this.params.isPlayable) {\n      this.toolbarDiv.append($(`<div id=\"${this.divId}-rotate\">`))\n      this.widget.rotate = new widgets.ToggleAnimateWidget(\n        this.soupWidget,\n        `#${this.divId}-rotate`,\n        'rotate',\n        '&orarr;'\n      )\n\n      this.toolbarDiv.append($(`<div id=\"${this.divId}-rock\">`))\n      this.widget.rotate = new widgets.ToggleAnimateWidget(\n        this.soupWidget,\n        `#${this.divId}-rock`,\n        'rock',\n        '&hArr;'\n      )\n\n      this.toolbarDiv.append(\n        linkButton('<', 'jolecule-button', () => {\n          this.controller.setTargetToPrevView()\n        })\n      )\n\n      this.toolbarDiv.append($(`<div id=\"${this.divId}-loop\">`))\n      this.widget.loop = new widgets.ToggleAnimateWidget(\n        this.soupWidget,\n        `#${this.divId}-loop`,\n        'loop',\n        'Play'\n      )\n\n      this.toolbarDiv.append(\n        linkButton('>', 'jolecule-button', () => {\n          this.controller.setTargetToNextView()\n        })\n      )\n\n      if (this.params.isTextOverlay) {\n        this.toolbarDiv.append($(`<div id=\"${this.divId}-hud\">`))\n        this.widget.hud = new widgets.HudTextWidget(\n          this.soupWidget,\n          `#${this.divId}-hud`\n        )\n      }\n    }\n\n    if (this.params.isEditable) {\n      if (this.params.isResidueSelector) {\n        this.toolbarDiv.append(\n          $('<div>')\n            .attr('id', `${this.divId}-res-selector`)\n            .addClass('jolecule-button')\n            .css({\n              'padding-top': '6px',\n              height: '24px',\n              'box-sizing': 'content-box'\n            })\n        )\n        this.widget.residueSelect = new widgets.ResidueSelectorWidget(\n          this.soupWidget,\n          `#${this.divId}-res-selector`\n        )\n      }\n\n      this.toolbarDiv.append(\n        $('<div>')\n          .attr('id', `${this.divId}-clipping-plane`)\n          .addClass('jolecule-button')\n          .css({\n            flex: '1 1 80px',\n            display: 'flex',\n            'flex-diretion': 'row',\n            'justify-content': 'center',\n            'max-width': '40%'\n          })\n      )\n      this.widget.clippingPlane = new widgets.ClippingPlaneWidget(\n        this.soupWidget,\n        `#${this.divId}-clipping-plane`\n      )\n    }\n\n    if (this.params.isEditable) {\n      this.toolbarDiv.append(\n        linkButton('Zoom', 'jolecule-button', () => {\n          this.controller.zoomToSelection()\n        })\n      )\n\n      this.toolbarDiv\n        .append(\n          linkButton('Clear', 'jolecule-button', () => {\n            this.controller.clear()\n          })\n        )\n        .append(\n          linkButton('Sidechains', 'jolecule-button', () => {\n            this.controller.toggleSelectedSidechains()\n          })\n        )\n        .append(\n          linkButton('Neighbors', 'jolecule-button', () => {\n            this.controller.toggleResidueNeighbors()\n          })\n        )\n        .append(\n          $('<div>')\n            .attr('id', `${this.divId}-menu`)\n            .addClass('jolecule-button')\n        )\n\n      this.widget.graphicsMenu = new widgets.GraphicsMenuWidget(\n        this.soupWidget,\n        `#${this.divId}-menu`,\n        !this.params.isToolbarOnTop\n      )\n    }\n\n    if (this.headerDiv.contents().length > 0) {\n      this.headerDiv.css({\n        'border-bottom': '2px solid #AAA'\n      })\n    }\n\n    if (this.footerDiv.contents().length > 0) {\n      this.footerDiv.css({\n        'border-top': '2px solid #AAA'\n      })\n    }\n  }\n\n  resize () {\n    this.soupWidget.resize()\n  }\n}\n\nexport { EmbedJolecule, defaultArgs }\n","import $ from 'jquery'\nimport scrollTo from 'jquery.scrollto' // eslint-disable-line\nimport _ from 'lodash'\nimport { EmbedJolecule } from './embed-widget'\nimport { linkButton, exists } from './util'\n\nclass ViewPanel {\n  /**\n   * @param {Object} params {\n   *    saveChange(txt),\n   *    pick,\n   *    view,\n   *    deleteView,\n   *    isEditable,\n   *    swapUp\n   * }\n   */\n  constructor (params) {\n    this.params = params\n    this.div = $('<div>').addClass('jolecule-view')\n    this.makeEditDiv()\n    this.makeShowDiv()\n  }\n\n  saveChange () {\n    console.log('ViewPiece.saveChange')\n    let changedText = this.editTextArea.val()\n    this.editDiv.hide()\n    this.showDiv.show()\n    this.params.saveChange(changedText)\n    window.keyboardLock = false\n  }\n\n  startEdit () {\n    this.params.pick()\n    this.editTextArea.text(this.params.view.text)\n    this.editDiv.show()\n    this.showDiv.hide()\n    let textarea = this.editTextArea.find('textarea')\n    setTimeout(function () {\n      textarea.focus()\n    }, 100)\n    window.keyboardLock = true\n  }\n\n  discardChange () {\n    this.editDiv.hide()\n    this.showDiv.show()\n    window.keyboardLock = false\n  }\n\n  makeEditDiv () {\n    this.editTextArea = $('<textarea>')\n      .addClass('jolecule-view-text')\n      .css('width', '100%')\n      .css('height', '5em')\n      .click(_.noop)\n\n    this.editDiv = $('<div>')\n      .css('width', '100%')\n      .click(_.noop)\n      .append(this.editTextArea)\n      .append(\n        linkButton('save', 'jolecule-small-button', event => {\n          this.saveChange()\n        })\n      )\n      .append(' &nbsp; ')\n      .append(\n        linkButton('discard', 'jolecule-small-button', event => {\n          this.discardChange()\n        })\n      )\n      .hide()\n\n    this.div.append(this.editDiv)\n  }\n\n  makeShowDiv () {\n    let view = this.params.view\n\n    let editButton = linkButton('edit', 'jolecule-small-button', () => {\n      this.startEdit()\n    })\n\n    this.showTextDiv = $('<div>')\n      .addClass('jolecule-button')\n      .css('height', 'auto')\n      .css('padding', '0')\n      .css('background-color', '#BBB')\n      .css('text-align', 'left')\n      .on('click touch', e => {\n        // allow links in button to be activated\n        if (e.target.tagName === 'A') {\n          window.location.href = e.target.href\n        } else {\n          e.preventDefault()\n          this.params.pick()\n        }\n      })\n\n    this.showDiv = $('<div>')\n      .css('width', '100%')\n      .append(this.showTextDiv)\n\n    let isEditable =\n      this.params.isEditable && !view.lock && view.id !== 'view:000000'\n\n    if (isEditable) {\n      this.showTextDiv.css('margin-bottom', '7px')\n\n      this.showDiv.append(editButton)\n\n      if (exists(this.params.swapUp)) {\n        this.showDiv.append(' ').append(\n          linkButton('up', 'jolecule-small-button', () => {\n            this.params.swapUp()\n          })\n        )\n      }\n\n      if (exists(this.params.swapUp)) {\n        this.showDiv.append(' ').append(\n          linkButton('down', 'jolecule-small-button', () => {\n            this.params.swapDown()\n          })\n        )\n      }\n\n      if (exists(this.params.deleteView)) {\n        this.showDiv.append(\n          $('<div>')\n            .css('float', 'right')\n            .append(\n              linkButton('delete', 'jolecule-small-button', () => {\n                console.log('ViewPiece.deleteButton')\n                this.params.deleteView()\n              })\n            )\n        )\n      }\n    }\n\n    this.div.append(this.showDiv)\n  }\n}\n\n/**\n * ViewPanelList keeps track of the ViewPanel's\n */\nclass ViewPanelList {\n  constructor (divTag, soupWidget, isEditable) {\n    this.divTag = divTag\n    this.soupWidget = soupWidget\n    this.soupView = soupWidget.soupView\n    this.controller = soupWidget.controller\n    this.isEditable = isEditable\n    this.viewPiece = {}\n    this.subheaderDiv = $('<div>')\n      .addClass('jolecule-sub-header')\n      .append('SAVED VIEWS &nbsp;')\n    this.div = $(this.divTag)\n      .append(this.subheaderDiv)\n      .append($('<div id=\"jolecule-views\">'))\n    if (this.isEditable) {\n      this.subheaderDiv.append(\n        linkButton('Save', 'jolecule-button', () => {\n          this.saveCurrentView()\n        })\n      )\n    }\n  }\n\n  saveViewsToDataServer (success) {\n    console.log('ViewPanelList.saveViewsToDataServer')\n    this.soupWidget.dataServer.saveViews(\n      this.controller.getViewDicts(),\n      success\n    )\n  }\n\n  update () {\n    for (let id in this.viewPiece) {\n      if (!(id in this.soupView.savedViewsByViewId)) {\n        this.viewPiece[id].div.remove()\n        delete this.viewPiece[id]\n      }\n    }\n\n    let nView = this.soupView.savedViews.length\n\n    let iLastView = this.soupView.iLastViewSelected\n    if (iLastView >= this.soupView.savedViews.length) {\n      iLastView = 0\n      this.soupView.iLastViewSelected = iLastView\n    }\n    let lastId = null\n    if (iLastView < this.soupView.savedViews.length) {\n      lastId = this.soupView.savedViews[iLastView].id\n    }\n\n    for (let i = 0; i < nView; i++) {\n      let view = this.soupView.savedViews[i]\n      let id = view.id\n\n      if (!(view.id in this.viewPiece)) {\n        this.insertNewViewDiv(view.id)\n      }\n\n      if (lastId === id) {\n        this.viewPiece[id].div.removeClass('jolecule-unselected-box')\n        this.viewPiece[id].div.addClass('jolecule-selected-box')\n      } else {\n        this.viewPiece[id].div.removeClass('jolecule-selected-box')\n        this.viewPiece[id].div.addClass('jolecule-unselected-box')\n      }\n\n      let viewPiece = this.viewPiece[id]\n      let s = view.order + 1 + '/' + nView + ': ' + view.text\n      if (view.creator) {\n        s += ` <span class=\"jolecule-author\">${view.creator}</span>`\n      }\n      if (s !== viewPiece.showTextDiv.html()) {\n        viewPiece.showTextDiv.html(s)\n      }\n    }\n\n    if (lastId) {\n      if (history.pushState) {\n        let query = `?view_id=${lastId}`\n        if (lastId === 'view:000000') {\n          query = ''\n        }\n        let newPath =\n          window.location.protocol +\n          '//' +\n          window.location.host +\n          window.location.pathname +\n          query\n        window.history.pushState({ path: newPath }, '', newPath)\n      }\n    }\n  }\n\n  setTargetByViewId (id) {\n    this.controller.setTargetViewByViewId(id)\n    this.update()\n  }\n\n  gotoPrevView () {\n    this.controller.setTargetToPrevView()\n    this.update()\n  }\n\n  gotoNextView () {\n    this.controller.setTargetToNextView()\n    this.update()\n  }\n\n  removeView (id) {\n    console.log('ViewPanelList.removeView')\n    this.viewPiece[id].div.css('background-color', 'lightgray')\n    this.soupWidget.dataServer.deleteView(id, () => {\n      this.controller.deleteView(id)\n      this.update()\n    })\n  }\n\n  swapViews (i, j) {\n    let iId = this.soupView.savedViews[i].id\n    let jId = this.soupView.savedViews[j].id\n    let iDiv = this.viewPiece[iId].div\n    let jDiv = this.viewPiece[jId].div\n\n    this.controller.swapViews(i, j)\n\n    iDiv.css('background-color', 'lightgray')\n    jDiv.css('background-color', 'lightgray')\n\n    this.saveViewsToDataServer(() => {\n      jDiv.insertBefore(iDiv)\n      this.update()\n      iDiv.css('background-color', '')\n      jDiv.css('background-color', '')\n    })\n  }\n\n  swapUp (viewId) {\n    let i = this.soupView.getIViewFromViewId(viewId)\n    if (i < 2) {\n      return\n    }\n    this.swapViews(i - 1, i)\n  }\n\n  swapDown (viewId) {\n    let i = this.soupView.getIViewFromViewId(viewId)\n    if (i > this.soupView.savedViews.length - 2) {\n      return\n    }\n    this.swapViews(i, i + 1)\n  }\n\n  makeViewDiv (id) {\n    let view = this.soupView.savedViewsByViewId[id]\n    this.viewPiece[id] = new ViewPanel({\n      view: view,\n      isEditable: this.isEditable,\n      deleteView: () => {\n        this.removeView(id)\n      },\n      saveChange: changedText => {\n        const SCRIPT_REGEX = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi\n        while (SCRIPT_REGEX.test(changedText)) {\n          changedText = changedText.replace(SCRIPT_REGEX, '')\n        }\n        view.text = changedText\n        this.viewPiece[id].div.css('background-color', 'lightgray')\n        this.saveViewsToDataServer(() => {\n          this.viewPiece[id].div.css('background-color', '')\n          this.soupView.isChanged = true\n          this.update()\n        })\n      },\n      pick: () => {\n        this.setTargetByViewId(id)\n      },\n      swapUp: () => {\n        this.swapUp(id)\n      },\n      swapDown: () => {\n        this.swapDown(id)\n      }\n    })\n    return this.viewPiece[id].div\n  }\n\n  makeAllViews () {\n    for (let i = 0; i < this.soupView.savedViews.length; i += 1) {\n      let id = this.soupView.savedViews[i].id\n      let div = this.makeViewDiv(id)\n      $('#jolecule-views').append(div)\n    }\n  }\n\n  insertNewViewDiv (newId) {\n    let div = this.makeViewDiv(newId)\n    if (\n      this.soupView.iLastViewSelected === 0 ||\n      this.soupView.iLastViewSelected === this.soupView.savedViews.length - 1\n    ) {\n      $('#jolecule-views').append(div)\n    } else {\n      let j = this.soupView.iLastViewSelected - 1\n      let jId = this.soupView.savedViews[j].id\n      let jDiv = this.viewPiece[jId].div\n      div.insertAfter(jDiv)\n    }\n  }\n\n  saveCurrentView () {\n    console.log('ViewPanelList.saveCurrentView')\n    let newId = this.controller.saveCurrentView()\n    this.insertNewViewDiv(newId)\n    this.update()\n    let div = this.viewPiece[newId].div\n    div.css('background-color', 'lightgray')\n    this.saveViewsToDataServer(() => {\n      console.log('ViewPieceList.saveCurrentView success')\n      div.css('background-color', '')\n      $('#jolecule-views')\n        .stop()\n        .scrollTo(div, 1000, { offset: { top: -80 } })\n    })\n  }\n}\n\n/**\n * Get URL query parameter https://stackoverflow.com/a/5158301\n * @param name\n * @returns {RegExpExecArray | string}\n */\nfunction getParameterByName (name) {\n  let match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search)\n  return match && decodeURIComponent(match[1].replace(/\\+/g, ' '))\n}\n\n/**\n * FullPageWidget - full page wrapper around an embedded EmbedJolecule\n * widget. Handles keypresses and urls and adds a view list side-panel\n * FullPageWidget satisfies the interface for animation.js\n */\nclass FullPageWidget {\n  /**\n   * @param proteinDisplayTag\n   * @param viewsDisplayTag\n   * @param params\n   */\n  constructor (proteinDisplayTag, viewsDisplayTag, params) {\n    this.viewsDisplayTag = viewsDisplayTag\n    this.params = {\n      divTag: proteinDisplayTag,\n      backgroundColor: 0xcccccc,\n      viewId: '',\n      viewHeight: 170,\n      isViewTextShown: false,\n      isSequenceBar: true,\n      isEditable: true,\n      isGrid: true,\n      bCutoff: 0.5,\n      isPlayable: false\n    }\n    if (exists(params)) {\n      this.params = _.assign(this.params, params)\n    }\n    if (!this.params.viewId) {\n      let viewId = getParameterByName('view_id')\n      if (viewId) {\n        this.params.viewId = viewId\n        console.log(`FullPageJolecule.constructor viewId=${this.params.viewId}`)\n      }\n    }\n    this.embedJolecule = new EmbedJolecule(this.params)\n    this.embedJolecule.soupWidget.addObserver(this)\n    document.oncontextmenu = _.noop\n    document.onkeydown = e => {\n      this.onkeydown(e)\n    }\n  }\n\n  clear () {\n    this.embedJolecule.clear()\n  }\n\n  async asyncAddDataServer (dataServer) {\n    console.log('FullPageWidget.asyncAddDataServer')\n    await this.embedJolecule.asyncAddDataServer(dataServer)\n    if (!this.viewPanelList) {\n      this.soupView = this.embedJolecule.soupView\n      this.controller = this.embedJolecule.controller\n      this.soupWidget = this.embedJolecule.soupWidget\n      this.viewPanelList = new ViewPanelList(\n        this.viewsDisplayTag,\n        this.soupWidget,\n        this.params.isEditable\n      )\n\n      this.viewPanelList.makeAllViews()\n    }\n    this.viewPanelList.update()\n    this.embedJolecule.resize()\n  }\n\n  update () {\n    if (!_.isUndefined(this.viewPanelList)) {\n      this.viewPanelList.update()\n    }\n  }\n\n  onkeydown (event) {\n    if (!window.keyboardLock) {\n      let c = String.fromCharCode(event.keyCode).toUpperCase()\n      if (c === 'V') {\n        this.viewPanelList.saveCurrentView()\n      } else if (c === 'K' || event.keyCode === 37) {\n        this.controller.setTargetToPrevResidue()\n      } else if (c === 'J' || event.keyCode === 39) {\n        this.controller.setTargetToNextResidue()\n      } else if (event.keyCode === 38) {\n        this.viewPanelList.gotoPrevView()\n      } else if (c === ' ' || event.keyCode === 40) {\n        this.viewPanelList.gotoNextView()\n      } else if (c === 'S') {\n        this.controller.toggleShowOption('sphere')\n      } else if (c === 'B') {\n        this.controller.toggleShowOption('backbone')\n      } else if (c === 'R') {\n        this.controller.toggleShowOption('ribbon')\n      } else if (c === 'L') {\n        this.controller.toggleShowOption('ligands')\n      } else if (c === 'W') {\n        this.controller.toggleShowOption('water')\n      } else if (c === 'T') {\n        this.controller.toggleShowOption('transparent')\n      } else if (c === 'E') {\n        let iView = this.soupWidget.soupView.iLastViewSelected\n        if (iView > 0) {\n          let viewId = this.soupWidget.soupView.savedViews[iView].id\n          this.viewPanelList.viewPiece[viewId].startEdit()\n        }\n      } else if (c === 'N') {\n        this.controller.toggleResidueNeighbors()\n      } else if (c === 'C') {\n        this.controller.toggleSelectedSidechains()\n      } else if (c === 'X') {\n        let iAtom = this.soupView.getICenteredAtom()\n        if (iAtom >= 0) {\n          let atom = this.soupView.soup.getAtomProxy(iAtom)\n          this.controller.selectResidue(atom.iRes)\n        }\n      } else if (c === 'A') {\n        if (event.metaKey) {\n          this.controller.selectAllSidechains(true)\n          event.preventDefault()\n        } else {\n          this.soupWidget.atomLabelDialog()\n        }\n      } else if (event.keyCode === 27) {\n        this.controller.clear()\n      } else if (c === 'Z' || event.keyCode === 13) {\n        this.controller.zoomToSelection()\n      } else {\n        let i = parseInt(c) - 1\n        if ((i || i === 0) && i < this.soupView.savedViews.length) {\n          let id = this.soupView.savedViews[i].id\n          this.viewPanelList.setTargetByViewId(id)\n        }\n      }\n    }\n  }\n}\n\nexport { FullPageWidget }\n","import _ from 'lodash'\nimport * as THREE from 'three'\nimport * as data from './data'\nimport * as util from './util'\nimport $ from 'jquery'\n\nfunction getHexColor (hex) {\n  let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n  let r = parseInt(result[1], 16) / 255\n  let g = parseInt(result[2], 16) / 255\n  let b = parseInt(result[3], 16) / 255\n  return new THREE.Color(r, g, b)\n}\n\nfunction isNumeric (str) {\n  return /^\\d+$/.test(str)\n}\n\nfunction makeRgbStringFromHexString (hex) {\n  let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n  let r = parseInt(result[1], 16)\n  let g = parseInt(result[2], 16)\n  let b = parseInt(result[3], 16)\n  return `rgb(${r}, ${g}, ${b})`\n}\n\nfunction getIndexes (sourceText, findText) {\n  if (!sourceText) {\n    return []\n  }\n  // if find is empty string return all indexes.\n  if (!findText) {\n    // or shorter arrow function:\n    // return source.split('').map((_,i) => i);\n    return sourceText.split('').map(function (_, i) {\n      return i\n    })\n  }\n  let result = []\n  for (let i = 0; i < sourceText.length; i += 1) {\n    // If you want to search case insensitive use\n    // if (source.substring(i, i + find.length).toLowerCase() == find) {\n    if (sourceText.substring(i, i + findText.length) === findText) {\n      result.push(i)\n    }\n  }\n  return result\n}\n\n/*\n * A. D. MCLACHLAN 1972\n * TABLE 1\n * Chemical similarity scores for the amino acids\n * score\n * 6 - FF MM YY HH CC WW RR GG\n * 5 - LL II VV SS PP TT AA QQ NN KK DD EE\n * 3 - FY FW LI LM IM ST AG QE ND KR\n * 2 - FL FM FH IV YH YW SC HQ QN DE\n * 1 - FI FV LV LP LY LW IT IY IW MV MY MW VP SA SN SQ PT PA TA TN HN HW QK QD NE\n * 0 - All others, including unknowns and deletions\n **/\n\n// one letter code: FLIMVSPTAYHQNKDECWRGBZ\n\nconst conservedPairs = `\n  FY FW LI LM IM ST AG QE ND KR\n  FL FM FH IV YH YW SC HQ QN DE\n  FI FV LV LP LY LW IT IY IW MV \n  MY MW VP SA SN SQ PT PA TA TN \n  HN HW QK QD NE`\n\nconst conservationSet = {}\nfor (let code of conservedPairs.split(/\\s+/)) {\n  conservationSet[code] = 1\n  let reverseCode = code.charAt(1) + code.charAt(0)\n  conservationSet[reverseCode] = 1\n}\n\nfunction getConservation (a, b) {\n  if (a === b) {\n    return 'identical'\n  } else {\n    if (_.has(conservationSet, a + b)) {\n      return 'conserved'\n    }\n  }\n  return 'nonconserved'\n}\n\nclass AquariaAlignment {\n  reload (aquariaAlignData, embedJolecule) {\n    this.data = aquariaAlignData\n    this.selectSeqId = this.data.sequences[0].primary_accession\n    this.pdbId = this.data.pdb_id\n    this.selectSeq = ''\n    console.log(\n      'AquariaAlignment.reload',\n      this.data,\n      this.pdbId,\n      this.selectSeqId\n    )\n    this.alignEntries = []\n    for (let alignStr of this.data.alignment.split(';')) {\n      let pieces = alignStr.split(',')\n      let tokens = _.head(pieces).split(':')\n      let [pdbId, pdbChain, resNumPdbStart, , resNumPdbEnd] = _.take(tokens, 5)\n      if (_.isNil(resNumPdbStart)) {\n        continue\n      }\n      let [seqId, resNumSeqStart, resNumSeqEnd] = _.last(pieces).split(':')\n      let entry = {\n        pdbId,\n        pdbChain,\n        resNumPdbStart,\n        resNumPdbEnd,\n        seqId,\n        resNumSeqStart,\n        resNumSeqEnd\n      }\n      for (let key of _.keys(entry)) {\n        if (isNumeric(entry[key])) {\n          entry[key] = parseInt(entry[key])\n        }\n      }\n      this.alignEntries.push(entry)\n    }\n\n    this.setEmbedJolecule(embedJolecule)\n  }\n\n  mapSeqResToPdbResOfChain (seqId, resNumSeq, chain) {\n    for (let entry of this.alignEntries) {\n      if (\n        resNumSeq >= entry.resNumSeqStart &&\n        resNumSeq <= entry.resNumSeqEnd &&\n        chain === entry.pdbChain\n      ) {\n        let diff = resNumSeq - entry.resNumSeqStart\n        let resNumPdb = entry.resNumPdbStart + diff\n        return [entry.pdbId, entry.pdbChain, resNumPdb]\n      }\n    }\n    return null\n  }\n\n  mapSeqResToPdbResList (resNumSeq) {\n    let result = []\n    for (let entry of this.alignEntries) {\n      if (\n        resNumSeq >= entry.resNumSeqStart &&\n        resNumSeq <= entry.resNumSeqEnd\n      ) {\n        let diff = resNumSeq - entry.resNumSeqStart\n        let resNumPdb = entry.resNumPdbStart + diff\n        result.push([entry.pdbId, entry.pdbChain, resNumPdb])\n      }\n    }\n    return result\n  }\n\n  mapPdbResOfChainToSeqRes (chain, resNum) {\n    for (let entry of this.alignEntries) {\n      if (chain !== entry.pdbChain) {\n        continue\n      }\n      if (resNum >= entry.resNumPdbStart && resNum <= entry.resNumPdbEnd) {\n        let iSeq = this.getISeqFromSeqId(entry.seqId)\n        let seqName = this.data.common_names[iSeq]\n        if (!seqName) {\n          seqName = null\n        }\n        let diff = resNum - entry.resNumPdbStart\n        let resNumSeq = entry.resNumSeqStart + diff\n        let c = this.data.sequences[iSeq].sequence[resNumSeq - 1]\n        return [seqName, resNumSeq, c]\n      }\n    }\n    return [null, null, null]\n  }\n\n  getChainsThatMapToSeqId (seqId) {\n    let allowedChains = []\n    for (let iChain of _.range(this.data.pdb_chain.length)) {\n      if (this.data.sequences[iChain].primary_accession === seqId) {\n        allowedChains.push(this.data.pdb_chain[iChain])\n      }\n    }\n    return allowedChains\n  }\n\n  getISeqFromSeqId (seqId) {\n    let sequences = this.data.sequences\n    for (let iSeq of _.range(sequences.length)) {\n      if (sequences[iSeq].primary_accession === seqId) {\n        return iSeq\n      }\n      let testSeqId = this.data.pdb_id + '-' + this.data.pdb_chain[iSeq]\n      if (testSeqId === seqId) {\n        return iSeq\n      }\n    }\n    return null\n  }\n\n  mapSeqResToPdbResColorEntry (seqId, resNumSeq, color) {\n    let allowedChains = this.getChainsThatMapToSeqId(seqId)\n    let result = []\n    for (let entry of this.mapSeqResToPdbResList(resNumSeq)) {\n      let [pdbId, chain, resNumPdb] = entry\n      if (_.includes(allowedChains, chain)) {\n        result.push({\n          pdbId,\n          chain,\n          resNum: resNumPdb,\n          color: makeRgbStringFromHexString(color)\n        })\n      }\n    }\n    return result\n  }\n\n  colorSoup (soup) {\n    soup.setSecondaryStructureColorResidues()\n\n    let allowedChains = []\n    for (let iChain of _.range(this.data.sequences.length)) {\n      if (!_.isNil(this.data.sequences[iChain].primary_accession)) {\n        allowedChains.push(this.data.pdb_chain[iChain])\n      }\n    }\n\n    let residue = soup.getResidueProxy()\n    for (let iRes = 0; iRes < soup.getResidueCount(); iRes += 1) {\n      residue.iRes = iRes\n      let chain = residue.chain\n      let resNum = residue.resNum\n      let pdbC = _.get(data.resToAa, residue.resType, '.')\n      let [, seqResNum, c] = this.mapPdbResOfChainToSeqRes(chain, resNum)\n      if (_.isNil(seqResNum)) {\n        // probably insertion, and non-alignments\n        residue.customColor = '#999999'\n      } else {\n        if (!_.includes(allowedChains, residue.chain)) {\n          residue.customColor = '#999999'\n        } else if (getConservation(c, pdbC) === 'conserved') {\n          residue.customColor = '#586C7C'\n        } else if (getConservation(c, pdbC) === 'nonconserved') {\n          residue.customColor = '#4D4D4D'\n        }\n      }\n    }\n    soup.colorResidues()\n  }\n\n  setColorLegend (colorLegendWidget) {\n    colorLegendWidget.default()\n    colorLegendWidget.colorEntries.push({\n      color: '#586C7C',\n      label: 'Conserved'\n    })\n    colorLegendWidget.colorEntries.push({\n      color: '#4D4D4D',\n      label: 'Nonconserved'\n    })\n    colorLegendWidget.rebuild()\n  }\n\n  setFullSequence (sequenceWidget) {\n    let soup = sequenceWidget.soup\n\n    sequenceWidget.charEntries.length = 0\n    sequenceWidget.nChar = 0\n\n    let pdbId = this.data.pdb_id\n\n    let chains = this.data.pdb_chain\n\n    for (let iChain = 0; iChain < chains.length; iChain += 1) {\n      let chain = chains[iChain]\n      let sequenceOfChain = this.data.sequences[iChain].sequence\n      let seqId = this.data.sequences[iChain].primary_accession\n      let seqName = this.data.common_names[iChain]\n      if (_.isNil(seqId)) {\n        seqId = ''\n      }\n      console.log('AquariaAlignment.setFullSequence', iChain, seqId, seqName)\n      // Fill the empty padding before every chain\n      for (\n        let iResOfSeq = 0;\n        iResOfSeq < sequenceOfChain.length;\n        iResOfSeq += 1\n      ) {\n        if (iResOfSeq === 0) {\n          for (let iResOfPadding of _.range(sequenceWidget.nPadChar)) {\n            let startLabel = null\n            if (iResOfPadding === 0) {\n              startLabel = ''\n              if (seqName) {\n                startLabel += seqName + ', '\n              }\n              startLabel += pdbId + '-' + chain\n            }\n            let entry = {\n              iStructure: 0,\n              chain,\n              c: '',\n              startLabel: startLabel,\n              ss: ''\n            }\n            sequenceWidget.charEntries.push(entry)\n          }\n        }\n\n        let c = sequenceOfChain[iResOfSeq]\n        let seqResNum = iResOfSeq + 1\n        let pdbRes = this.mapSeqResToPdbResOfChain(seqId, seqResNum, chain)\n        let seqLabel = ''\n        if (seqName) {\n          seqLabel = `Sequence: ${seqName} ${c}${seqResNum}<br>`\n        }\n        if (_.isNil(pdbRes)) {\n          // Entries of residues without PDB matches\n          let entry = {\n            iStructure: 0,\n            chain,\n            c: c,\n            startLabel: null,\n            ss: '.',\n            label: `${seqLabel}Structure: [No match]`,\n            resNum: iResOfSeq + 1\n          }\n          sequenceWidget.charEntries.push(entry)\n        } else {\n          // Entries of residues that match PDB residues\n          let [pdbId, chain, pdbResNum] = pdbRes\n          let residue = soup.findFirstResidue(chain, pdbResNum)\n          if (_.isNil(residue)) {\n            let entry = {\n              chain,\n              iStructure: 0,\n              c: c,\n              startLabel: null,\n              ss: '.',\n              label: `${seqLabel}Structure: [No match]`,\n              resNum: iResOfSeq + 1\n            }\n            sequenceWidget.charEntries.push(entry)\n          } else {\n            let pdbC = _.get(data.resToAa, residue.resType, '.')\n            let entry = {\n              chain,\n              iStructure: residue.iStructure,\n              c: c,\n              startLabel: null,\n              iRes: residue.iRes,\n              ss: residue.ss,\n              label: `${seqLabel}Structure: ${pdbId}-${chain} ${pdbC}${pdbResNum}`,\n              resNum: iResOfSeq + 1\n            }\n            sequenceWidget.charEntries.push(entry)\n          }\n        }\n      }\n    }\n    sequenceWidget.nChar = sequenceWidget.charEntries.length\n  }\n\n  colorFromFeatures (embededJolecule, features, seqId, name) {\n    let soup = embededJolecule.soupView.soup\n    let residue = soup.getResidueProxy()\n    for (let i = 0; i < soup.getResidueCount(); i += 1) {\n      residue.iRes = i\n      residue.customColor = getHexColor('#999999')\n    }\n    for (let feature of features) {\n      let resNum = parseInt(feature.Residue)\n      for (let entry of this.mapSeqResToPdbResColorEntry(\n        seqId,\n        resNum,\n        feature.Color\n      )) {\n        let residue = soup.findFirstResidue(entry.chain, entry.resNum)\n        if (!_.isNil(residue)) {\n          residue.customColor = entry.color\n        }\n      }\n    }\n    soup.colorResidues()\n    embededJolecule.soupView.isUpdateColors = true\n    embededJolecule.soupView.isChanged = true\n    this.setFeatureColorLegend(\n      embededJolecule.widget.colorLegend,\n      features,\n      name\n    )\n  }\n\n  setFeatureColorLegend (colorLegendWidget, features, name) {\n    this.features = features\n    // console.log('AquariaAlignment.setFeatureColorLegend', features)\n    let entries = []\n    for (let feature of features) {\n      let entry = _.find(entries, e => e.color === feature.Color)\n      if (!entry) {\n        entries.push({ color: feature.Color, label: [feature.Name] })\n      } else {\n        entry.label.push(feature.Name)\n      }\n    }\n    for (let entry of entries) {\n      entry.label = _.uniq(entry.label)\n      entry.label = _.join(entry.label, ', ')\n      let n = 50\n      if (entry.label.length > n) {\n        entry.label = entry.label.substring(0, n - 3) + '...'\n      }\n    }\n    colorLegendWidget.colorEntries.length = 0\n    for (let entry of entries) {\n      colorLegendWidget.colorEntries.push(entry)\n    }\n    colorLegendWidget.title = name\n    colorLegendWidget.rebuild()\n  }\n\n  colorFromConservation (embedJolecule) {\n    embedJolecule.soupView.isUpdateObservers = true\n    embedJolecule.soupView.isUpdateColors = true\n    embedJolecule.soupView.isChanged = true\n    this.colorSoup(embedJolecule.soup)\n    this.setColorLegend(embedJolecule.widget.colorLegend)\n  }\n\n  selectNewChain (seqId, seqName, pdbId, chain) {\n    console.log(\n      'AquariaAlignment.selectNewChain [overriddeable]',\n      seqId,\n      seqName,\n      pdbId,\n      chain\n    )\n  }\n\n  setPopup (embedJolecule) {\n    let soup = embedJolecule.soup\n    embedJolecule.soupWidget.popupText = iAtom => {\n      let pdbId = this.data.pdb_id\n      let atom = soup.getAtomProxy(iAtom)\n      let iRes = atom.iRes\n      let residue = soup.getResidueProxy(iRes)\n      let [seqName, seqResNum, c] = this.mapPdbResOfChainToSeqRes(\n        residue.chain,\n        residue.resNum\n      )\n      let pdbC = _.get(data.resToAa, residue.resType, '.')\n      let label = `Structure: ${pdbId}-${residue.chain} ${pdbC}${\n        residue.resNum\n      } <br>Atom: ${atom.atomType}`\n      if (!_.isNil(seqResNum)) {\n        if (seqName) {\n          label = `Sequence: ${seqName} ${c}${seqResNum} <br>` + label\n        } else {\n          label = `Sequence: [No match]<br>` + label\n        }\n        if (this.features) {\n          for (let feature of this.features) {\n            if (feature.Residue === seqResNum) {\n              label += `<br>Feature: ${feature.Name}`\n              if (feature.Description) {\n                if (feature.Name) {\n                  label += ' - '\n                }\n                label += `${feature.Description}`\n              }\n            }\n          }\n        }\n      } else {\n        label = `Sequence: [No match]<br>` + label\n      }\n      return label\n    }\n  }\n\n  getSelectionText () {\n    if (_.isNil(this.embedJolecule)) {\n      return ''\n    }\n    let soup = this.embedJolecule.soup\n    let residue = soup.getResidueProxy()\n\n    let pieces = []\n    let chain = null\n    let piece = {}\n    let firstPdbResNum = null\n    let lastPdbResNum = null\n    let firstSeqResNum = null\n    let lastSeqResNum = null\n    for (let i = 0; i < soup.getResidueCount(); i += 1) {\n      residue.iRes = i\n      if (residue.selected) {\n        let [seqName, seqResNum, c] = this.mapPdbResOfChainToSeqRes(\n          residue.chain,\n          residue.resNum\n        )\n        if (chain === null || chain !== residue.chain) {\n          piece = {\n            pdbChain:\n              soup.structureIds[residue.iStructure] + '-' + residue.chain,\n            seqName: seqName,\n            firstPdbRes: null,\n            firstSeqRes: null,\n            pdbResRanges: [],\n            seqResRanges: []\n          }\n          pieces.push(piece)\n          let pdbC = _.get(data.resToAa, residue.resType, '.')\n          piece.firstPdbRes = pdbC + residue.resNum\n          piece.firstSeqRes = c + seqResNum\n          chain = residue.chain\n        }\n        if (firstPdbResNum === null) {\n          firstPdbResNum = residue.resNum\n          lastPdbResNum = firstPdbResNum\n          firstSeqResNum = seqResNum\n          lastSeqResNum = firstSeqResNum\n        } else {\n          lastPdbResNum = residue.resNum\n          lastSeqResNum = seqResNum\n        }\n      } else {\n        if (firstPdbResNum !== null) {\n          piece.pdbResRanges.push([firstPdbResNum, lastPdbResNum])\n          piece.seqResRanges.push([firstSeqResNum, lastSeqResNum])\n        }\n        firstPdbResNum = null\n      }\n    }\n\n    let text = ''\n\n    if (this.selectSeq) {\n      text += `SEQUENCE: \"${this.selectSeq}\" <br>`\n    }\n\n    if (pieces.length > 0) {\n      for (let [iPiece, piece] of pieces.entries()) {\n        if (iPiece > 0) {\n        }\n        if (piece.pdbResRanges.length > 0) {\n          text += piece.pdbChain + ': '\n\n          let first = piece.pdbResRanges[0]\n          let isFirstSolo = first[0] === first[1]\n\n          if (piece.pdbResRanges.length === 1 && isFirstSolo) {\n            text += piece.firstPdbRes\n          } else {\n            for (let [i, r] of _.toPairs(piece.pdbResRanges)) {\n              if (i > 0) {\n                text += ', '\n              }\n              if (r[0] === r[1]) {\n                text += r[0]\n              } else {\n                text += ` ${r[0]}-${r[1]}`\n              }\n            }\n          }\n          text += '<br>'\n        }\n        if (piece.seqName && piece.seqResRanges.length > 0) {\n          text += piece.seqName + ': '\n\n          let first = piece.seqResRanges[0]\n          let isFirstSolo = first[0] === first[1]\n\n          if (piece.seqResRanges.length === 1 && isFirstSolo) {\n            text += piece.firstSeqRes\n          } else {\n            for (let [i, r] of _.toPairs(piece.seqResRanges)) {\n              if (i > 0) {\n                text += ', '\n              }\n              if (r[0] === r[1]) {\n                text += r[0]\n              } else {\n                text += ` ${r[0]}-${r[1]}`\n              }\n            }\n          }\n          text += '<br>'\n        }\n      }\n    }\n\n    return text\n  }\n\n  copyToClipboard () {\n    let result = ''\n    let soup = this.embedJolecule.soup\n    let chains = this.data.pdb_chain\n    let pdbId = this.data.pdb_id\n    for (let iChain = 0; iChain < chains.length; iChain += 1) {\n      let chain = chains[iChain]\n      let masterSeq = this.data.sequences[iChain].sequence\n      let seqId = this.data.sequences[iChain].primary_accession\n      let masterSeqName = this.data.common_names[iChain]\n      let pdbSeqName = `${pdbId}-${chain}`\n      let copySeqName = pdbSeqName + '_SELECTED'\n      if (_.isNil(seqId)) {\n        seqId = ''\n      }\n      if (_.isNil(masterSeqName)) {\n        masterSeqName = 'SEQUENCE'\n      }\n      let pdbSeq = ''\n      let copySeq = ''\n      for (let iResOfSeq = 0; iResOfSeq < masterSeq.length; iResOfSeq += 1) {\n        let seqResNum = iResOfSeq + 1\n        let pdbRes = this.mapSeqResToPdbResOfChain(seqId, seqResNum, chain)\n        let pdbC = '-'\n        let copyC = '-'\n        if (!_.isNil(pdbRes)) {\n          let [, chain, pdbResNum] = pdbRes\n          let residue = soup.findFirstResidue(chain, pdbResNum)\n          if (!_.isNil(residue)) {\n            pdbC = _.get(data.resToAa, residue.resType, '-')\n            if (residue.selected) {\n              copyC = pdbC\n            }\n          }\n        }\n        pdbSeq += pdbC\n        copySeq += copyC\n      }\n      let entries = [\n        { name: masterSeqName, seq: masterSeq },\n        { name: pdbSeqName, seq: pdbSeq },\n        { name: copySeqName, seq: copySeq }\n      ]\n      let nameLen = _.max(_.map(entries, e => e.name.length))\n      let seqLen = _.max(_.map(entries, e => e.seq.length))\n      let width = 50\n      let nSection = Math.ceil(seqLen / width)\n      let s = ''\n      for (let iSection = 0; iSection < nSection; iSection += 1) {\n        for (let iEntry = 0; iEntry < entries.length; iEntry += 1) {\n          let entry = entries[iEntry]\n          s += _.padEnd(entry.name, nameLen) + ' '\n          s += entry.seq.substring(iSection * width, (iSection + 1) * width)\n          s += '\\n'\n        }\n        s += '\\n'\n      }\n      result += s\n    }\n    console.log('AquariaAlignment.copyToClipboard')\n    console.log(result)\n    util.copyTextToClipboard(result)\n    return result\n  }\n\n  selectNextChar (c) {\n    this.selectSeq += c\n    let soup = this.embedJolecule.soup\n    this.embedJolecule.controller.clearSelectedResidues()\n    let chains = this.data.pdb_chain\n    let nSeq = this.selectSeq.length\n    for (let iChain = 0; iChain < chains.length; iChain += 1) {\n      let chain = chains[iChain]\n      let masterSeq = this.data.sequences[iChain].sequence\n      let seqId = this.data.sequences[iChain].primary_accession\n      if (_.isNil(seqId)) {\n        seqId = ''\n      }\n      for (let iResOfSeq of getIndexes(masterSeq, this.selectSeq)) {\n        for (let iRes = iResOfSeq; iRes < iResOfSeq + nSeq; iRes += 1) {\n          let pdbRes = this.mapSeqResToPdbResOfChain(seqId, iRes + 1, chain)\n          if (!_.isNil(pdbRes)) {\n            let [, chain, pdbResNum] = pdbRes\n            let residue = soup.findFirstResidue(chain, pdbResNum)\n            if (!_.isNil(residue)) {\n              this.embedJolecule.controller.setResidueSelect(residue.iRes, true)\n            }\n          }\n        }\n      }\n    }\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId)\n    }\n    this.timeoutId = setTimeout(() => {\n      this.timeoutId = null\n      this.selectSeq = ''\n      this.embedJolecule.soupView.isUpdateObservers = true\n      this.embedJolecule.soupView.isChanged = true\n      console.log('AquariaAlignment.selectNextChar settimeout cancel')\n    }, 4000)\n  }\n\n  setSelectionPanel (embedJolecule) {\n    let widget = embedJolecule.widget.selection\n    widget.getText = () => this.getSelectionText()\n  }\n\n  setEmbedJolecule (embedJolecule) {\n    embedJolecule.soupView.setMode('chain')\n    embedJolecule.soupWidget.isCrossHairs = false\n    embedJolecule.soupWidget.crossHairs.visible = false\n    embedJolecule.soupView.setMode('chain')\n    this.setFullSequence(embedJolecule.widget.sequence)\n    embedJolecule.widget.sequence.update()\n    for (let [iChain, sequence] of this.data.sequences.entries()) {\n      if (!_.isNil(sequence.primary_accession)) {\n        let chain = this.data.pdb_chain[iChain]\n        console.log('AquariaAlignment.setEmbedJolecule', chain)\n        embedJolecule.controller.selectChain(0, chain)\n        break\n      }\n    }\n    if (_.isNil(embedJolecule.soupWidget.isAquariaTracking)) {\n      // Makes this an observer where this.update will be called\n      // whenever an event is triggered in the widget\n      embedJolecule.soupWidget.addObserver(this)\n      embedJolecule.soupWidget.isAquariaTracking = true\n      this.embedJolecule = embedJolecule\n    }\n    this.colorFromConservation(embedJolecule)\n    this.setPopup(embedJolecule)\n    this.setSelectionPanel(embedJolecule)\n  }\n\n  update () {\n    let result = this.embedJolecule.soup.getIStructureAndChain()\n    if (_.isNil(result)) {\n      this.selectNewChain(null, null, null, null)\n    } else {\n      let iChain = _.findIndex(this.data.pdb_chain, c => c === result.chain)\n      if (iChain >= 0) {\n        this.selectSeqId = this.data.sequences[iChain].primary_accession\n        let seqName = this.data.common_names[iChain]\n        let structureId = this.embedJolecule.soup.structureIds[\n          result.iStructure\n        ]\n        this.selectNewChain(\n          this.selectSeqId,\n          seqName,\n          structureId,\n          result.chain\n        )\n      } else {\n        console.log(\n          'AquariaAlignment.update error, chain not found in alignment:',\n          result.chain,\n          this.data.pdb_chain,\n          this.data\n        )\n      }\n    }\n  }\n}\n\nexport { AquariaAlignment }\n","import { EmbedJolecule, defaultArgs } from './embed-widget.js'\nimport { FullPageWidget } from './full-page-widget.js'\nimport { AquariaAlignment } from './aquaria.js'\nimport _ from 'lodash'\nimport $ from 'jquery'\n\n/**\n *\n * @param args = {\n *   divTag: '',\n *   viewHeight: 170,\n *   isViewTextShown: false,\n *   isEditable: true,\n *   animateState: 'none',\n *   onload: onload,\n *   isGrid: false\n * }\n * @returns {EmbedJolecule}\n */\nfunction initEmbedJolecule (args) {\n  return new EmbedJolecule(_.merge(defaultArgs, args))\n}\n\n/**\n * @param proteinDisplayTag\n * @param viewsDisplayTag\n * @param params\n */\nfunction initFullPageJolecule (...args) {\n  return new FullPageWidget(...args)\n}\n\nlet defaultDataServerArgs = {\n  pdbId: '',\n  userId: '',\n  isDisableSaveViews: true,\n  saveViewsUrl: '',\n  isLoadViews: false,\n  biounit: 0,\n  viewId: ''\n}\n\n/**\n * @param args = {\n *   pdbId: '', # Str - id of RCSB protein structure\n *   userId: '', # Str - id of user on http://jolecule.com; default: ''\n *   isDisableSaveViews: false, # Bool - prevents save/delete to server\n *   saveViewsUrl: true, # Str - base URL of views server (e.g. \"http://jolecule.com\")\n *   isLoadViews: 'none', # bool - if false: creates dummy view get methods\n *   biounit: 0, # int - biounit\n *   viewId: '', # Str - id of user on http://jolecule.com; default: ''\n * }\n * @returns dataServer obj\n */\nfunction makePdbDataServer (args) {\n  args = _.merge(defaultDataServerArgs, args)\n  console.log('makePdbDataServer', args)\n  return makeDataServer(\n    args.pdbId,\n    args.userId,\n    args.isDisableSaveViews,\n    args.saveViewsUrl,\n    args.isLoadViews,\n    args.biounit,\n    args.viewId\n  )\n}\n\n/**\n * @param pdbId: Str - id of RCSB protein structure\n * @param userId: Str - optional id of user on http://jolecule.com;\n *                      default: ''\n * @param isDisableSaveViews: Bool - prevents save/delete to server\n * @param saveViewsUrl: Str - base URL of views server (e.g. \"http://jolecule.com\")\n * @param isLoadViews: bool - if false: creates dummy view get methods\n * @param biounit: int - indicates biological assembly in PDB\n * @param viewId: Str - id of view\n * @returns DataServer object\n */\nfunction makeDataServer (\n  pdbId,\n  userId = null,\n  isDisableSaveViews = false,\n  saveViewsUrl = '',\n  isLoadViews = true,\n  biounit = 0,\n  viewId = ''\n) {\n  return {\n    // Id of structure accessed by this DataServer\n    pdbId: pdbId,\n\n    // getProteinPromise: getProteinPromise,\n\n    /**\n     * @param asyncCallback - function that takes a dictionary {\n     *   pdbId: Str - id/name of protein structure\n     *   pdbText: Str - text in PDB format of a protein structure\n     * }\n     */\n    getProteinData: function (asyncCallback) {\n      let url\n      if (pdbId.length === 4) {\n        if (!biounit) {\n          // 0, null or undefined\n          url = `https://files.rcsb.org/download/${pdbId}.pdb`\n        } else {\n          url = `https://files.rcsb.org/download/${pdbId}.pdb${biounit}`\n        }\n      } else {\n        url = `${saveViewsUrl}/pdb/${pdbId}.txt`\n      }\n      $.get(url)\n        .done(pdbText => {\n          let result = { pdbId: pdbId, pdbText: pdbText }\n          console.log(\n            `makeDataServer.getProteinData success ${url} biounit:${biounit}`\n          )\n          asyncCallback(result)\n        })\n        .fail(() => {\n          console.log(\n            `makeDataServer.getProteinData fail ${url} biounit:${biounit}`\n          )\n          asyncCallback({ pdbId: pdbId, pdbText: '' })\n        })\n    },\n\n    /**\n     * @param callback - function that takes a\n     *  - list [ View dictionary as defined by View.getDict() ]\n     *  - initViewId\n     */\n    getViews: function (callback) {\n      if (!isLoadViews) {\n        callback([])\n        return\n      }\n      let url = `${saveViewsUrl}/pdb/${pdbId}.views.json`\n      if (userId) {\n        url += `?user_id=${userId}`\n      }\n      $.getJSON(url)\n        .done(views => {\n          console.log('makeDataServer.getViews', url, views)\n          callback(views, viewId)\n        })\n        .fail(() => {\n          console.log('makeDataServer.getViews fail', url)\n          callback([])\n        })\n    },\n\n    /**\n     * @param views - list of View.dicts to be saved\n     * @param callback(Boolean) - that is triggered on successful save\n     */\n    saveViews: function (views, callback) {\n      if (isDisableSaveViews) {\n        callback()\n        return\n      }\n      $.post(`${saveViewsUrl}/save/views`, JSON.stringify(views))\n        .done(() => {\n          console.log('makeDataServer.saveViews success', '/save/views', views)\n          callback(true)\n        })\n        .fail(() => {\n          console.log('makeDataServer.saveViews fail', '/save/views', views)\n          callback(false)\n        })\n    },\n\n    /**\n     * @param viewId - Str: id of view to be deleted\n     * @param callback(Boolean) - that is triggered on successful delete with\n     */\n    deleteView: function (viewId, callback) {\n      if (isDisableSaveViews) {\n        callback()\n        return\n      }\n      $.post(`${saveViewsUrl}/delete/view`, JSON.stringify({ pdbId, viewId }))\n        .done(() => {\n          console.log('makeDataServer.deleteView success', viewId)\n          callback(true)\n        })\n        .fail(() => {\n          console.log('makeDataServer.deleteView fail', viewId)\n          callback(false)\n        })\n    }\n  }\n}\n\nexport {\n  initEmbedJolecule,\n  initFullPageJolecule,\n  makePdbDataServer,\n  makeDataServer,\n  AquariaAlignment\n}\n","export default {\n  apiUrl: `http://localhost:3000`,\n  title: 'Jolecule'\n}\n","import axios from 'axios'\nimport config from '../config'\n\n/**\n * @fileOverview rpc module provides a clean rpc interface for JSON-based\n * api with the server.\n */\n\n// important for using with passport.js\n// https://stackoverflow.com/questions/40941118/axios-wont-send-cookie-ajax-xhrfields-does-just-fine\naxios.defaults.withCredentials = true\n\nasync function run (method, ...params) {\n  let payload = { method, params, jsonrpc: '2.0' }\n\n  console.log('> rpc.run', method, ...params)\n\n  try {\n    let response = await axios.post(`${config.apiUrl}/api/rpc-run`, payload)\n    return response.data\n  } catch (e) {\n    return {\n      error: {\n        code: -32000,\n        message: e.toString()\n      }\n    }\n  }\n}\n\nclass RpcClass {\n  constructor () {\n    return new Proxy(this, {\n      get (target, prop) {\n        return async function () {\n          return await run(prop, ...arguments)\n        }\n      }\n    })\n  }\n}\nconst remote = new RpcClass()\n\nexport { run, remote }\n","<template>\n  <div\n    style=\"\n        display: flex;\n        align-items: stretch;\n        height: calc(100vh);\n        flex-direction: row;\"\n  >\n    <div\n      style=\"\n          width: 250px;\n          font-family: Helvetica, Arial, sans-serif;\n          border-right: 1px solid #999;\n          overflow: scroll\"\n    >\n      <div class=\"jolecule-sub-header\">\n        Download PDB\n      </div>\n\n      <div style=\"padding-left: 20px\">\n        <input\n          type=\"text\"\n          v-model=\"pdbId\"\n          style=\"width: 90px\"\n          class=\"jolecule-view-text\"\n        />\n        <div\n          class=\"jolecule-small-button\"\n          @click=\"loadFromPdbId()\"\n          style=\"display: inline; padding-left: 1em; width: 2em\"\n        >\n          FETCH\n        </div>\n        <br clear=\"all\" />\n        <span>{{ error }}</span>\n      </div>\n\n      <div class=\"jolecule-sub-header\">\n        Local files\n      </div>\n\n      <div\n        class=\"file-entry\"\n        v-for=\"(file, j) in drawer.directories\"\n        :key=\"j + 'f'\"\n        @click=\"openDir(drawer.dirname, file)\"\n      >\n        <i class=\"fa fa-folder\"></i>\n        {{ file }}\n      </div>\n\n      <div\n        class=\"file-entry\"\n        v-for=\"(file, k) in drawer.files\"\n        :key=\"k + 'e'\"\n        @click=\"openFileReplace(file)\"\n      >\n        [<span style=\"text-transform: uppercase\">{{ file.name }}</span\n        >]\n        {{ file.title }}\n      </div>\n    </div>\n\n    <div id=\"jolecule-protein-container\"></div>\n\n    <div id=\"jolecule-views-container\"></div>\n  </div>\n</template>\n\n<style>\n@import '../../../../dist/full-page-jolecule.css';\n@import '../../../../dist/select2.css';\n.file-entry {\n  cursor: pointer;\n  font-size: 12px;\n  letter-spacing: 0.1em;\n  line-height: 1.5em;\n  padding: 7px;\n  -moz-border-radius: 3px;\n  border-radius: 3px;\n  background-color: #bbb;\n  color: #333;\n  margin: 0px 20px 5px 15px;\n}\n</style>\n\n<script>\nimport axios from 'axios'\nimport $ from 'jquery'\nimport { initFullPageJolecule } from '../../../../src/main'\nimport * as rpc from '../modules/rpc'\nimport path from 'path'\nimport _ from 'lodash'\n\naxios.defaults.withCredentials = true\n\nfunction delay (time) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      resolve(time)\n    }, time)\n  })\n}\n\nexport default {\n  name: 'Home',\n  data () {\n    return {\n      pdbId: '',\n      error: '',\n      structureIds: [],\n      isDownloading: false,\n      drawer: {}\n    }\n  },\n  async mounted () {\n    this.joleculeWidget = initFullPageJolecule(\n      '#jolecule-protein-container',\n      '#jolecule-views-container',\n      {\n        isEditable: true,\n        isPlayable: true,\n        isSequenceBar: true,\n        backgroundColor: 0x000000\n      }\n    )\n\n    let dataServer = require('../../../dataservers/1mbo-data-server')\n    let res = await rpc.remote.publicGetInit()\n    if (res.result) {\n      const result = res.result\n      if (result.initFile) {\n        dataServer = this.makeServerPdbDataServer(result.initFile)\n      }\n      if (result.initDir) {\n        res = await rpc.run('publicGetFiles', res.result.initDir)\n        if (res.result) {\n          this.drawer = res.result\n        }\n      }\n    }\n    await this.joleculeWidget.asyncAddDataServer(dataServer)\n    this.structureIds = this.joleculeWidget.soupWidget.soup.structureIds\n  },\n  methods: {\n    openFile (file) {\n      this.loadFromDataServer(this.makeServerPdbDataServer(file.filename))\n    },\n    openFileReplace (file) {\n      this.joleculeWidget.clear()\n      this.loadFromDataServer(this.makeServerPdbDataServer(file.filename))\n    },\n    async openDir (topDir, dir) {\n      let res = await rpc.remote.publicGetFiles(path.join(topDir, dir))\n      if (res.result) {\n        this.drawer = res.result\n      }\n    },\n    async deleteProtein (i) {\n      this.joleculeWidget.soupWidget.deleteStructure(i)\n      this.joleculeWidget.controller.zoomOut()\n    },\n    async toggleOption (option) {\n      this.joleculeWidget.controller.toggleShowOption(option)\n    },\n    async loadFromDataServer (dataServer) {\n      await this.joleculeWidget.asyncAddDataServer(dataServer)\n      this.structureIds = this.joleculeWidget.soup.structureIds\n      this.joleculeWidget.controller.zoomOut()\n    },\n    async loadFromPdbId () {\n      await delay(100)\n      this.joleculeWidget.clear()\n      this.loadFromDataServer(this.makeRcsbDataServer(this.pdbId))\n    },\n    makeRcsbDataServer (pdbId) {\n      this.isDownloading = true\n      this.error = ''\n      let _this = this\n      return {\n        pdbId: pdbId,\n        async getProteinData (parsePdb) {\n          let url = `https://files.rcsb.org/download/${pdbId}.pdb1`\n          try {\n            let response = await $.get(url)\n            parsePdb({ pdbId: pdbId, pdbText: response })\n            _this.isDownloading = false\n          } catch {\n            _this.isDownloading = false\n            _this.error = 'Error: failed to load'\n          }\n        },\n        getViews (processViews) {\n          processViews({})\n        },\n        saveViews (views, success) {\n          success()\n        },\n        deleteView (viewId, success) {\n          success()\n        }\n      }\n    },\n    makeServerPdbDataServer (pdb) {\n      this.isDownloading = true\n      this.error = ''\n      let _this = this\n      let pdbId = path.basename(pdb)\n      return {\n        pdbId: pdbId,\n        async getProteinData (parsePdb) {\n          try {\n            let res = await rpc.remote.publicGetProteinText(pdb)\n            parsePdb({ pdbId: pdbId, pdbText: res.result.pdbText })\n            _this.isDownloading = false\n          } catch {\n            _this.isDownloading = false\n            _this.error = 'Error: failed to load'\n          }\n        },\n        async getViews (processViews) {\n          try {\n            let res = await rpc.remote.publicGetViewDicts(pdb)\n            processViews(res.result.views)\n            _this.isDownloading = false\n          } catch {\n            _this.isDownloading = false\n            _this.error = 'Error: failed to load'\n          }\n        },\n        async saveViews (views, success) {\n          let resp = await rpc.remote.publicSaveViewDicts(views)\n          if (_.get(resp, 'result.success')) {\n            success()\n          }\n        },\n        async deleteView (viewId, success) {\n          let resp = await rpc.remote.publicDeleteView(viewId)\n          if (_.get(resp, 'result.success')) {\n            success()\n          }\n        }\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=2cfb373a&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/about',\n    name: 'About',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {},\n  mutations: {},\n  actions: {},\n  modules: {}\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport 'font-awesome/css/font-awesome.min.css' // Ensure you are using css-loader\n\nVue.config.productionTip = false\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}